<!DOCTYPE html><html lang="en" style="font-size:16px"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Global</title><!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]--><script src="scripts/third-party/hljs.js" defer="defer"></script><script src="scripts/third-party/hljs-line-num.js" defer="defer"></script><script src="scripts/third-party/popper.js" defer="defer"></script><script src="scripts/third-party/tippy.js" defer="defer"></script><script src="scripts/third-party/tocbot.min.js"></script><script>var baseURL="/",locationPathname="";baseURL=(locationPathname=document.location.pathname).substr(0,locationPathname.lastIndexOf("/")+1)</script><link rel="stylesheet" href="styles/clean-jsdoc-theme.min.css"><svg aria-hidden="true" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:none"><defs><symbol id="copy-icon" viewbox="0 0 488.3 488.3"><g><path d="M314.25,85.4h-227c-21.3,0-38.6,17.3-38.6,38.6v325.7c0,21.3,17.3,38.6,38.6,38.6h227c21.3,0,38.6-17.3,38.6-38.6V124    C352.75,102.7,335.45,85.4,314.25,85.4z M325.75,449.6c0,6.4-5.2,11.6-11.6,11.6h-227c-6.4,0-11.6-5.2-11.6-11.6V124    c0-6.4,5.2-11.6,11.6-11.6h227c6.4,0,11.6,5.2,11.6,11.6V449.6z"/><path d="M401.05,0h-227c-21.3,0-38.6,17.3-38.6,38.6c0,7.5,6,13.5,13.5,13.5s13.5-6,13.5-13.5c0-6.4,5.2-11.6,11.6-11.6h227    c6.4,0,11.6,5.2,11.6,11.6v325.7c0,6.4-5.2,11.6-11.6,11.6c-7.5,0-13.5,6-13.5,13.5s6,13.5,13.5,13.5c21.3,0,38.6-17.3,38.6-38.6    V38.6C439.65,17.3,422.35,0,401.05,0z"/></g></symbol><symbol id="search-icon" viewBox="0 0 512 512"><g><g><path d="M225.474,0C101.151,0,0,101.151,0,225.474c0,124.33,101.151,225.474,225.474,225.474    c124.33,0,225.474-101.144,225.474-225.474C450.948,101.151,349.804,0,225.474,0z M225.474,409.323    c-101.373,0-183.848-82.475-183.848-183.848S124.101,41.626,225.474,41.626s183.848,82.475,183.848,183.848    S326.847,409.323,225.474,409.323z"/></g></g><g><g><path d="M505.902,476.472L386.574,357.144c-8.131-8.131-21.299-8.131-29.43,0c-8.131,8.124-8.131,21.306,0,29.43l119.328,119.328    c4.065,4.065,9.387,6.098,14.715,6.098c5.321,0,10.649-2.033,14.715-6.098C514.033,497.778,514.033,484.596,505.902,476.472z"/></g></g></symbol><symbol id="font-size-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11.246 15H4.754l-2 5H.6L7 4h2l6.4 16h-2.154l-2-5zm-.8-2L8 6.885 5.554 13h4.892zM21 12.535V12h2v8h-2v-.535a4 4 0 1 1 0-6.93zM19 18a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></symbol><symbol id="add-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"/></symbol><symbol id="minus-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M5 11h14v2H5z"/></symbol><symbol id="dark-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M10 7a7 7 0 0 0 12 4.9v.1c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2h.1A6.979 6.979 0 0 0 10 7zm-6 5a8 8 0 0 0 15.062 3.762A9 9 0 0 1 8.238 4.938 7.999 7.999 0 0 0 4 12z"/></symbol><symbol id="light-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"/></symbol><symbol id="reset-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M18.537 19.567A9.961 9.961 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10c0 2.136-.67 4.116-1.81 5.74L17 12h3a8 8 0 1 0-2.46 5.772l.997 1.795z"/></symbol><symbol id="down-icon" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path></symbol><symbol id="codepen-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M16.5 13.202L13 15.535v3.596L19.197 15 16.5 13.202zM14.697 12L12 10.202 9.303 12 12 13.798 14.697 12zM20 10.869L18.303 12 20 13.131V10.87zM19.197 9L13 4.869v3.596l3.5 2.333L19.197 9zM7.5 10.798L11 8.465V4.869L4.803 9 7.5 10.798zM4.803 15L11 19.131v-3.596l-3.5-2.333L4.803 15zM4 13.131L5.697 12 4 10.869v2.262zM2 9a1 1 0 0 1 .445-.832l9-6a1 1 0 0 1 1.11 0l9 6A1 1 0 0 1 22 9v6a1 1 0 0 1-.445.832l-9 6a1 1 0 0 1-1.11 0l-9-6A1 1 0 0 1 2 15V9z"/></symbol><symbol id="close-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"/></symbol><symbol id="menu-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z"/></symbol></defs></svg></head><body data-theme="dark"><div class="sidebar-container"><div class="sidebar" id="sidebar"><a href="/" class="sidebar-title sidebar-title-anchor">Home</a><div class="sidebar-items-container"><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-global"><div>Global</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="global.html#addfonts">addfonts</a></div><div class="sidebar-section-children"><a href="global.html#blur">blur</a></div><div class="sidebar-section-children"><a href="global.html#box">box</a></div><div class="sidebar-section-children"><a href="global.html#centroid">centroid</a></div><div class="sidebar-section-children"><a href="global.html#choro">choro</a></div><div class="sidebar-section-children"><a href="global.html#choro_horizontal">choro_horizontal</a></div><div class="sidebar-section-children"><a href="global.html#choro_vertical">choro_vertical</a></div><div class="sidebar-section-children"><a href="global.html#circle">circle</a></div><div class="sidebar-section-children"><a href="global.html#circles">circles</a></div><div class="sidebar-section-children"><a href="global.html#circles_half">circles_half</a></div><div class="sidebar-section-children"><a href="global.html#circles_nested">circles_nested</a></div><div class="sidebar-section-children"><a href="global.html#clipPath">clipPath</a></div><div class="sidebar-section-children"><a href="global.html#create">create</a></div><div class="sidebar-section-children"><a href="global.html#dissolve">dissolve</a></div><div class="sidebar-section-children"><a href="global.html#dodge">dodge</a></div><div class="sidebar-section-children"><a href="global.html#featurecollection">featurecollection</a></div><div class="sidebar-section-children"><a href="global.html#footer">footer</a></div><div class="sidebar-section-children"><a href="global.html#geotable">geotable</a></div><div class="sidebar-section-children"><a href="global.html#graticule">graticule</a></div><div class="sidebar-section-children"><a href="global.html#halfcircle">halfcircle</a></div><div class="sidebar-section-children"><a href="global.html#header">header</a></div><div class="sidebar-section-children"><a href="global.html#height">height</a></div><div class="sidebar-section-children"><a href="global.html#merge">merge</a></div><div class="sidebar-section-children"><a href="global.html#mushrooms">mushrooms</a></div><div class="sidebar-section-children"><a href="global.html#north">north</a></div><div class="sidebar-section-children"><a href="global.html#outline">outline</a></div><div class="sidebar-section-children"><a href="global.html#path">path</a></div><div class="sidebar-section-children"><a href="global.html#plot">plot</a></div><div class="sidebar-section-children"><a href="global.html#proj4d3">proj4d3</a></div><div class="sidebar-section-children"><a href="global.html#project">project</a></div><div class="sidebar-section-children"><a href="global.html#radialGradient">radialGradient</a></div><div class="sidebar-section-children"><a href="global.html#radius">radius</a></div><div class="sidebar-section-children"><a href="global.html#random">random</a></div><div class="sidebar-section-children"><a href="global.html#render">render</a></div><div class="sidebar-section-children"><a href="global.html#replicate">replicate</a></div><div class="sidebar-section-children"><a href="global.html#rewind">rewind</a></div><div class="sidebar-section-children"><a href="global.html#ridge">ridge</a></div><div class="sidebar-section-children"><a href="global.html#scalebar">scalebar</a></div><div class="sidebar-section-children"><a href="global.html#shadow">shadow</a></div><div class="sidebar-section-children"><a href="global.html#spike">spike</a></div><div class="sidebar-section-children"><a href="global.html#spikes">spikes</a></div><div class="sidebar-section-children"><a href="global.html#text">text</a></div><div class="sidebar-section-children"><a href="global.html#tile">tile</a></div><div class="sidebar-section-children"><a href="global.html#type_choro">type_choro</a></div><div class="sidebar-section-children"><a href="global.html#typo">typo</a></div><div class="sidebar-section-children"><a href="global.html#typo_horizontal">typo_horizontal</a></div><div class="sidebar-section-children"><a href="global.html#typo_vertical">typo_vertical</a></div><div class="sidebar-section-children"><a href="global.html#unproject">unproject</a></div></div></div></div></div><div class="navbar-container" id="VuAckcnZhf"><nav class="navbar"><div class="navbar-left-items"></div><div class="navbar-right-items"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#light-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div></div><nav></nav></nav></div><div class="toc-container"><div class="toc-content"><span class="bold">On this page</span><div id="eed4d2a0bfd64539bb9df78095dec881"></div></div></div><div class="body-wrapper"><div class="main-content"><div class="main-wrapper"><section><article><div class="container-overview"></div><h2 id="methods" class="subsection-title has-anchor">Methods</h2><h3 class="name has-anchor" id="addfonts"><span class="type-signature"></span>addfonts<span class="signature">()</span></h3><div class="description"><p>The <code>addonts</code> function allows add font to the document from an url</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>fontFamily</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>font family name</p></td></tr><tr><td class="name"><code>url</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>tff- file url</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="tool_addfonts.js.html">tool/addfonts.js</a>, <a href="tool_addfonts.js.html#line7">line 7</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="blur"><span class="type-signature"></span>blur<span class="signature">()</span><span class="type-signature"> &rarr; {SVGSVGElement|string}</span></h3><div class="description"><p>The <code>blur</code> function allows to create a svg blur filter.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>id</p></td></tr><tr><td class="name"><code>stdDeviation</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>standard deviation</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="effect_blur.js.html">effect/blur.js</a>, <a href="effect_blur.js.html#line3">line 3</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/effect">https://observablehq.com/@neocartocnrs/effect</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>the function adds a filter to the defs and returns the id like &quot;url(#id)&quot;.</li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">SVGSVGElement</span> |<wbr> <span class="param-type">string</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>geoviz.effect.blur(svg, { stdDeviation: 0, id: "blur" }) // where svg is the container
svg.effect.blur({ stdDeviation: 0, id: "blur" }) // where svg is the container</code></pre></div></div><h3 class="name has-anchor" id="box"><span class="type-signature"></span>box<span class="signature">()</span><span class="type-signature"> &rarr; {SVGSVGElement|string}</span></h3><div class="description"><p>The <code>box</code> function allows to add a box legend on a map</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>unique id</p></td></tr><tr><td class="name"><code>pos</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="description last"><p>legend position (default:[0,0])</p></td></tr><tr><td class="name"><code>gap</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>gap between elements</p></td></tr><tr><td class="name"><code>rect_width</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>width of the box (default: 25)</p></td></tr><tr><td class="name"><code>rect_height</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>height of the box (default: 17)</p></td></tr><tr><td class="name"><code>rect_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>box color (default: &quot;#5d6266&quot;)</p></td></tr><tr><td class="name"><code>rect_foo</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"><p><em>other SVG attributes that can be applied on this rect element (strokeDasharray, strokeWidth, opacity, strokeLinecap...)</em></p></td></tr><tr><td class="name"><code>label</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>text diplayed</p></td></tr><tr><td class="name"><code>label_foo</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element (fill, fontize...)</em></p></td></tr><tr><td class="name"><code>title</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>title of the legend</p></td></tr><tr><td class="name"><code>title_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>subtitle</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>subtitle of the legend</p></td></tr><tr><td class="name"><code>subtitle_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>note</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>note displayed above the legend</p></td></tr><tr><td class="name"><code>note_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>frame</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>frame around the legend (default: false)</p></td></tr><tr><td class="name"><code>frame_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this frame element (rect)</em></p></td></tr><tr><td class="name"><code>text_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied directly on all text elements of this legend</em></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="legend_box.js.html">legend/box.js</a>, <a href="legend_box.js.html#line16">line 16</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/legends">https://observablehq.com/@neocartocnrs/legends</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>the function adds a layer with a box legend to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">SVGSVGElement</span> |<wbr> <span class="param-type">string</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.legend.box(svg, { pos: [10,20], label:"hello" }) // where svg is the container
svg.legend.box(s{ pos: [10,20], label:"hello" }) // where svg is the container
svg.legend.box({type:"leg_box", pos: [10,20], label:"hello" }) // where svg is the container
geoviz.legend.box({ label:"hello" }) // no container</code></pre></div></div><h3 class="name has-anchor" id="centroid"><span class="type-signature"></span>centroid<span class="signature">()</span><span class="type-signature"> &rarr; {object}</span></h3><div class="description"><p>Calculate the centroid of all the geometries given in a GeoJSON FeatureCollection</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>a GeoJSON FeatureCollection</p></td></tr><tr><td class="name"><code>arg</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>options and parameters</p><h6>Properties</h6><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>largest</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>place the centroid in the largest polygon.</p></td></tr><tr><td class="name"><code>latlong</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>use <code>true</code> if input coordinates are in latitude ans longitude. Use <code>false</code> if the coordinates are already defined in the page plan</p></td></tr></tbody></table></div></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="tool_centroid.js.html">tool/centroid.js</a>, <a href="tool_centroid.js.html#line17">line 17</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/handle-geometries">https://observablehq.com/@neocartocnrs/handle-geometries</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>a GeoJSON FeatureCollection (points)</li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">object</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>let dots = geoviz.tool.centroid(world, { largest: true })</code></pre></div></div><h3 class="name has-anchor" id="choro"><span class="type-signature"></span>choro<span class="signature">()</span><span class="type-signature"> &rarr; {object}</span></h3><div class="description"><p>This function discretizes an array of numbers</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="description last"><p>an array of numerical values.</p></td></tr><tr><td class="name"><code>arg</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>options and parameters</p><h6>Properties</h6><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>breaks</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="description last"><p>class breaks including min and max</p></td></tr><tr><td class="name"><code>colors</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">Array.&lt;string></span></td><td class="description last"><p>an array of colors or name of a color palette available in <a href="https://observablehq.com/@neocartocnrs/dicopal-library">dicopal</a></p></td></tr><tr><td class="name"><code>reverse</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>reverse colors</p></td></tr><tr><td class="name"><code>missing</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>a color for missings values</p></td></tr><tr><td class="name"><code>method</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>classification method ('quantile', 'q6', 'equal', 'jenks', 'msd', 'geometric', 'headtail', 'pretty', 'arithmetic' or 'nestedmeans')</p></td></tr><tr><td class="name"><code>nb</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>number of classes desired</p></td></tr><tr><td class="name"><code>precision</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>number of digits</p></td></tr><tr><td class="name"><code>minmax</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>to keep or delete min and max</p></td></tr><tr><td class="name"><code>k</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>number of standard deviations taken into account (msd method only)</p></td></tr><tr><td class="name"><code>middle</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>to have the average as a class center (msd method only)</p></td></tr></tbody></table></div></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="tool_choro.js.html">tool/choro.js</a>, <a href="tool_choro.js.html#line36">line 36</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>an object containing breaks, colors, the color of the missing value and a function.</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">object</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>geoviz.tool.choro(world.features.map((d) => d.properties.gdppc))</code></pre></div></div><h3 class="name has-anchor" id="choro_horizontal"><span class="type-signature"></span>choro_horizontal<span class="signature">()</span><span class="type-signature"> &rarr; {SVGSVGElement|string}</span></h3><div class="description"><p>The <code>choro_horizontal</code> function allows to add an horizontal legend on a map for choropleth layers</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>unique id</p></td></tr><tr><td class="name"><code>pos</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="description last"><p>legend position (default:[0,0])</p></td></tr><tr><td class="name"><code>gap</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>gap between elements</p></td></tr><tr><td class="name"><code>breaks</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="description last"><p>breaks (default: [1, 2, 3, 4, 5])</p></td></tr><tr><td class="name"><code>colors</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="description last"><p>colors (default: [&quot;#fee5d9&quot;, &quot;#fcae91&quot;, &quot;#fb6a4a&quot;, &quot;#cb181d&quot;])</p></td></tr><tr><td class="name"><code>rect_width</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>width of the box (default: 50)</p></td></tr><tr><td class="name"><code>rect_height</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>height of the box (default: 14)</p></td></tr><tr><td class="name"><code>rect_spacing</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>spacing between boxes</p></td></tr><tr><td class="name"><code>rect_foo</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"><p><em>other SVG attributes that can be applied on this rect element (strokeDasharray, strokeWidth, opacity, strokeLinecap...)</em></p></td></tr><tr><td class="name"><code>values_textAnchor</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>text-anchor (default: &quot;middle&quot;)</p></td></tr><tr><td class="name"><code>values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>shift in x (default: 0)</p></td></tr><tr><td class="name"><code>values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>shift in y (default: 5)</p></td></tr><tr><td class="name"><code>values_factor</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>allow to multiply values to display in the legend. e.g 0.001 to convert into thousands</p></td></tr><tr><td class="name"><code>values_decimal</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>separator for decimals</p></td></tr><tr><td class="name"><code>values_thousands</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>separator for thousands</p></td></tr><tr><td class="name"><code>values_foo</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element (fill, fontSize...)</em></p></td></tr><tr><td class="name"><code>title</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>title of the legend</p></td></tr><tr><td class="name"><code>title_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>subtitle</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>subtitle of the legend</p></td></tr><tr><td class="name"><code>subtitle_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>note</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>note displayed above the legend</p></td></tr><tr><td class="name"><code>note_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>frame</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>frame around the legend (default: false)</p></td></tr><tr><td class="name"><code>frame_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this frame element (rect)</em></p></td></tr><tr><td class="name"><code>text_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied directly on all text elements of this legend</em></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="legend_choro-horizontal.js.html">legend/choro-horizontal.js</a>, <a href="legend_choro-horizontal.js.html#line18">line 18</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/legends">https://observablehq.com/@neocartocnrs/legends</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>the function adds a layer with a choro legend to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">SVGSVGElement</span> |<wbr> <span class="param-type">string</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.legend.choro_horizontal(svg, { pos: [10,20], breaks, colors}) // where svg is the container
svg.legend.choro_horizontal({pos: [10,20], breaks, colors} }) // where svg is the container
svg.plot({type: "leg_choro_horizontal", pos: [10,20], breaks, colors} }) // where svg is the container
geoviz.legend.choro_horizontal({ pos: [10,20], breaks, colors}) // no container</code></pre></div></div><h3 class="name has-anchor" id="choro_vertical"><span class="type-signature"></span>choro_vertical<span class="signature">()</span><span class="type-signature"> &rarr; {SVGSVGElement|string}</span></h3><div class="description"><p>The <code>choro_vertical</code> function allows to add a vertical legend on a map for choropleth layers</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>unique id</p></td></tr><tr><td class="name"><code>pos</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="description last"><p>legend position (default:[0,0])</p></td></tr><tr><td class="name"><code>gap</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>gap between elements</p></td></tr><tr><td class="name"><code>breaks</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="description last"><p>breaks (default: [1, 2, 3, 4, 5])</p></td></tr><tr><td class="name"><code>colors</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="description last"><p>colors (default: [&quot;#fee5d9&quot;, &quot;#fcae91&quot;, &quot;#fb6a4a&quot;, &quot;#cb181d&quot;])</p></td></tr><tr><td class="name"><code>rect_width</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>width of the box (default: 25)</p></td></tr><tr><td class="name"><code>rect_height</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>height of the box (default: 17)</p></td></tr><tr><td class="name"><code>rect_spacing</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>spacing between boxes</p></td></tr><tr><td class="name"><code>rect_foo</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"><p><em>other SVG attributes that can be applied on this rect element (strokeDasharray, strokeWidth, opacity, strokeLinecap...)</em></p></td></tr><tr><td class="name"><code>values_textAnchor</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>text-anchor (default: &quot;middle&quot;)</p></td></tr><tr><td class="name"><code>values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>shift in x (default: 0)</p></td></tr><tr><td class="name"><code>values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>shift in y (default: 5)</p></td></tr><tr><td class="name"><code>values_factor</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>allow to multiply values to display in the legend. e.g 0.001 to convert into thousands</p></td></tr><tr><td class="name"><code>values_decimal</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>separator for decimals</p></td></tr><tr><td class="name"><code>values_thousands</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>separator for thousands</p></td></tr><tr><td class="name"><code>values_foo</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element (fill, fontSize...)</em></p></td></tr><tr><td class="name"><code>title</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>title of the legend</p></td></tr><tr><td class="name"><code>title_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>subtitle</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>subtitle of the legend</p></td></tr><tr><td class="name"><code>subtitle_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>note</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>note displayed above the legend</p></td></tr><tr><td class="name"><code>note_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>frame</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>frame around the legend (default: false)</p></td></tr><tr><td class="name"><code>frame_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this frame element (rect)</em></p></td></tr><tr><td class="name"><code>text_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied directly on all text elements of this legend</em></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="legend_choro-vertical.js.html">legend/choro-vertical.js</a>, <a href="legend_choro-vertical.js.html#line18">line 18</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/legends">https://observablehq.com/@neocartocnrs/legends</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>the function adds a layer with a choro legend to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">SVGSVGElement</span> |<wbr> <span class="param-type">string</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.legend.choro_vertical(svg, { pos: [10,20], breaks, colors}) // where svg is the container
svg.legend.choro_vertical({pos: [10,20], breaks, colors} }) // where svg is the container
svg.plot({type:"leg_choro_vertical", pos: [10,20], breaks, colors} }) // where svg is the container
geoviz.legend.choro_vertical({ pos: [10,20], breaks, colors}) // no container</code></pre></div></div><h3 class="name has-anchor" id="circle"><span class="type-signature"></span>circle<span class="signature">()</span><span class="type-signature"> &rarr; {SVGSVGElement|string}</span></h3><div class="description"><p>The <code>circle</code> function allows to create a layer with circles from a geoJSON</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>GeoJSON FeatureCollection</p></td></tr><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>id of the layer</p></td></tr><tr><td class="name"><code>pos</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>position of the circle to display a single circle (default [0,0])</p></td></tr><tr><td class="name"><code>r</code></td><td class="type"><span class="param-type">number</span> |<wbr> <span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">10</td><td class="description last"><p>a number or the name of a property containing numerical values (default: 10)</p></td></tr><tr><td class="name"><code>k</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>radius of the largest circle (or corresponding to the value defined by <code>fixmax</code>) (default: 50)</p></td></tr><tr><td class="name"><code>fixmax</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>value matching the circle with radius <code>k</code>. Setting this value is useful for making maps comparable with each other</p></td></tr><tr><td class="name"><code>dodge</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>to avoid circle overlap</p></td></tr><tr><td class="name"><code>iteration</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>number of iteration to dodge circles (default: 200)</p></td></tr><tr><td class="name"><code>sort</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>the field to sort circles or a sort function</p></td></tr><tr><td class="name"><code>descending</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>circle sorting order</p></td></tr><tr><td class="name"><code>coords</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>use &quot;svg&quot; if the coordinates are already in the plan of the svg document (default: &quot;geo&quot;)</p></td></tr><tr><td class="name"><code>fill</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>fill color. To create choropleth maps or typologies, use the <code>classify.choro</code> and <code>classify.topo</code> functions</p></td></tr><tr><td class="name"><code>stroke</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>stroke color. To create choropleth maps or typologies, use the <code>classify.choro</code> and <code>classify.topo</code> functions</p></td></tr><tr><td class="name"><code>tip</code></td><td class="type"><span class="param-type">boolean</span> |<wbr> <span class="param-type">function</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>a function to display the tip. Use true tu display all fields</p></td></tr><tr><td class="name"><code>view</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>use true and viewof in Observable for this layer to act as Input</p></td></tr><tr><td class="name"><code>tipstyle</code></td><td class="type"><span class="param-type">object</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>tooltip style</p></td></tr><tr><td class="name"><code>foo</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p><em>other SVG attributes that can be applied (strokeDasharray, strokeWidth, opacity, strokeLinecap...)</em></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="mark_circle.js.html">mark/circle.js</a>, <a href="mark_circle.js.html#line26">line 26</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/circle-mark">https://observablehq.com/@neocartocnrs/circle-mark</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>the function adds a layer with circles to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">SVGSVGElement</span> |<wbr> <span class="param-type">string</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.circle(svg, { pos: [10,20], r: 15 }) // a single circle
geoviz.circle(svg, { data: cities, r: "population" }) // where svg is the container
svg.circle({ data: cities, r: "population" }) // where svg is the container
svg.plot({ type: "circle", data: cities, r: "population" }) // where svg is the container
geoviz.circle({ data: cities, r: "population" }) // no container
geoviz.plot({ type = "circle", data: cities, r: "population" }) // no container</code></pre></div></div><h3 class="name has-anchor" id="circles"><span class="type-signature"></span>circles<span class="signature">()</span><span class="type-signature"> &rarr; {SVGSVGElement|string}</span></h3><div class="description"><p>The <code>circles</code> function allows to add an legend for proprtionnal circles</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>unique id</p></td></tr><tr><td class="name"><code>pos</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="description last"><p>legend position (default:[0,0])</p></td></tr><tr><td class="name"><code>gap</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>gap between elements</p></td></tr><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="description last"><p>input values</p></td></tr><tr><td class="name"><code>k</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>radius of the largest circle (or corresponding to the value defined by fixmax ) (default: 50)</p></td></tr><tr><td class="name"><code>fixmax</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="description last"><p>value matching the circle with radius k . Setting this value is useful for making maps comparable with each other</p></td></tr><tr><td class="name"><code>nb</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>number of circles</p></td></tr><tr><td class="name"><code>circle_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>fill color for the circles</p></td></tr><tr><td class="name"><code>circle_stroke</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>stroke color for the circles</p></td></tr><tr><td class="name"><code>circle_foo</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"><p>*SVG attributes that can be applied on this circle element *</p></td></tr><tr><td class="name"><code>line_stroke</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>stroke color for the lines</p></td></tr><tr><td class="name"><code>line_foo</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"><p>*SVG attributes that can be applied on this line element *</p></td></tr><tr><td class="name"><code>values_textAnchor</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>text-anchor (default: &quot;middle&quot;)</p></td></tr><tr><td class="name"><code>values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>shift in x (default: 0)</p></td></tr><tr><td class="name"><code>values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>shift in y (default: 5)</p></td></tr><tr><td class="name"><code>values_factor</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>allow to multiply values to display in the legend. e.g 0.001 to convert into thousands</p></td></tr><tr><td class="name"><code>values_decimal</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>separator for decimals</p></td></tr><tr><td class="name"><code>values_thousands</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>separator for thousands</p></td></tr><tr><td class="name"><code>values_foo</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element (fill, fontSize...)</em></p></td></tr><tr><td class="name"><code>title</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>title of the legend</p></td></tr><tr><td class="name"><code>title_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>subtitle</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>subtitle of the legend</p></td></tr><tr><td class="name"><code>subtitle_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>note</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>note displayed above the legend</p></td></tr><tr><td class="name"><code>note_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>frame</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>frame around the legend (default: false)</p></td></tr><tr><td class="name"><code>frame_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this frame element (rect)</em></p></td></tr><tr><td class="name"><code>text_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied directly on all text elements of this legend</em></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="legend_circles.js.html">legend/circles.js</a>, <a href="legend_circles.js.html#line18">line 18</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/legends">https://observablehq.com/@neocartocnrs/legends</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>the function adds a layer with a circle legend to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">SVGSVGElement</span> |<wbr> <span class="param-type">string</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.legend.circles(svg, { pos: [10,20], data, nb:5}) // where svg is the container
svg.legend.circles({pos: [10,20], data, nb: 5} }) // where svg is the container
svg.plot({type: "leg_circles", pos: [10,20], data, nb: 5} }) // where svg is the container
geoviz.legend.circles({ pos: [10,20], data, nb: 5}) // no container</code></pre></div></div><h3 class="name has-anchor" id="circles_half"><span class="type-signature"></span>circles_half<span class="signature">()</span><span class="type-signature"> &rarr; {SVGSVGElement|string}</span></h3><div class="description"><p>The <code>mushrooms</code> function allows to add an legend for mushroom maps</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>unique id</p></td></tr><tr><td class="name"><code>pos</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="description last"><p>legend position (default:[0,0])</p></td></tr><tr><td class="name"><code>gap</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>gap between elements</p></td></tr><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="description last"><p>input values</p></td></tr><tr><td class="name"><code>k</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>radius of the largest half-circle (or corresponding to the value defined by fixmax ) (default: 50)</p></td></tr><tr><td class="name"><code>fixmax</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="description last"><p>value matching the circle with radius k . Setting this value is useful for making maps comparable with each other</p></td></tr><tr><td class="name"><code>nb</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>number of half-circles</p></td></tr><tr><td class="name"><code>circle_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>fill color for the half-circles</p></td></tr><tr><td class="name"><code>circle_stroke</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>stroke color for the half-circles</p></td></tr><tr><td class="name"><code>circle_foo</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"><p><em>SVG attributes that can be applied on this half-circle element</em></p></td></tr><tr><td class="name"><code>line_stroke</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>stroke color for the lines</p></td></tr><tr><td class="name"><code>circle_cornerRadius</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>circle_cornerRadius (default: 5)</p></td></tr><tr><td class="name"><code>line_foo</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"><p><em>SVG attributes that can be applied on this line element</em></p></td></tr><tr><td class="name"><code>values_textAnchor</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>text-anchor (default: &quot;middle&quot;)</p></td></tr><tr><td class="name"><code>values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>shift in x (default: 0)</p></td></tr><tr><td class="name"><code>values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>shift in y (default: 5)</p></td></tr><tr><td class="name"><code>values_factor</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>allow to multiply values to display in the legend. e.g 0.001 to convert into thousands</p></td></tr><tr><td class="name"><code>values_decimal</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>separator for decimals</p></td></tr><tr><td class="name"><code>values_thousands</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>separator for thousands</p></td></tr><tr><td class="name"><code>values_foo</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element (fill, fontSize...)</em></p></td></tr><tr><td class="name"><code>title</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>title of the legend</p></td></tr><tr><td class="name"><code>title_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>subtitle</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>subtitle of the legend</p></td></tr><tr><td class="name"><code>subtitle_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>note</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>note displayed above the legend</p></td></tr><tr><td class="name"><code>note_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>frame</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>frame around the legend (default: false)</p></td></tr><tr><td class="name"><code>frame_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this frame element (rect)</em></p></td></tr><tr><td class="name"><code>text_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied directly on all text elements of this legend</em></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="legend_circles-half.js.html">legend/circles-half.js</a>, <a href="legend_circles-half.js.html#line18">line 18</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/legends">https://observablehq.com/@neocartocnrs/legends</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>the function adds a layer with a circles_half legend to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">SVGSVGElement</span> |<wbr> <span class="param-type">string</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.legend.circles_half(svg, { pos: [10,20], data, nb:5}) // where svg is the container
svg.legend.circles_half({pos: [10,20], data, nb: 5} }) // where svg is the container
svg.plot({type: "leg_circles_half", pos: [10,20], data, nb: 5} }) // where svg is the container
geoviz.legend.circles_half({ pos: [10,20], data, nb: 5}) // no container</code></pre></div></div><h3 class="name has-anchor" id="circles_nested"><span class="type-signature"></span>circles_nested<span class="signature">()</span><span class="type-signature"> &rarr; {SVGSVGElement|string}</span></h3><div class="description"><p>The <code>circles_nested</code> function allows to add an legend for proprtionnal circles</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>unique id</p></td></tr><tr><td class="name"><code>pos</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="description last"><p>legend position (default:[0,0])</p></td></tr><tr><td class="name"><code>gap</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>gap between elements</p></td></tr><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="description last"><p>input values</p></td></tr><tr><td class="name"><code>k</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>radius of the largest circle (or corresponding to the value defined by fixmax ) (default: 50)</p></td></tr><tr><td class="name"><code>fixmax</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="description last"><p>value matching the circle with radius k . Setting this value is useful for making maps comparable with each other</p></td></tr><tr><td class="name"><code>nb</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>number of circles</p></td></tr><tr><td class="name"><code>circle_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>fill color for the circles</p></td></tr><tr><td class="name"><code>circle_stroke</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>stroke color for the circles</p></td></tr><tr><td class="name"><code>circle_foo</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"><p>*SVG attributes that can be applied on this circle element *</p></td></tr><tr><td class="name"><code>line_stroke</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>stroke color for the lines</p></td></tr><tr><td class="name"><code>line_foo</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"><p>*SVG attributes that can be applied on this line element *</p></td></tr><tr><td class="name"><code>values_textAnchor</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>text-anchor (default: &quot;middle&quot;)</p></td></tr><tr><td class="name"><code>values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>shift in x (default: 0)</p></td></tr><tr><td class="name"><code>values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>shift in y (default: 5)</p></td></tr><tr><td class="name"><code>values_factor</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>allow to multiply values to display in the legend. e.g 0.001 to convert into thousands</p></td></tr><tr><td class="name"><code>values_decimal</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>separator for decimals</p></td></tr><tr><td class="name"><code>values_thousands</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>separator for thousands</p></td></tr><tr><td class="name"><code>values_foo</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element (fill, fontSize...)</em></p></td></tr><tr><td class="name"><code>title</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>title of the legend</p></td></tr><tr><td class="name"><code>title_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>subtitle</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>subtitle of the legend</p></td></tr><tr><td class="name"><code>subtitle_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>note</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>note displayed above the legend</p></td></tr><tr><td class="name"><code>note_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>frame</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>frame around the legend (default: false)</p></td></tr><tr><td class="name"><code>frame_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this frame element (rect)</em></p></td></tr><tr><td class="name"><code>text_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied directly on all text elements of this legend</em></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="legend_circles-nested.js.html">legend/circles-nested.js</a>, <a href="legend_circles-nested.js.html#line17">line 17</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/legends">https://observablehq.com/@neocartocnrs/legends</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>the function adds a layer with a circle legend to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">SVGSVGElement</span> |<wbr> <span class="param-type">string</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.legend.circles_nested(svg, { pos: [10,20], data, nb:5}) // where svg is the container
svg.legend.circles_nested({pos: [10,20], data, nb: 5} }) // where svg is the container
svg.plot({type: "leg_circles_nested", pos: [10,20], data, nb: 5} }) // where svg is the container
geoviz.legend.circles_nested({ pos: [10,20], data, nb: 5}) // no container</code></pre></div></div><h3 class="name has-anchor" id="clipPath"><span class="type-signature"></span>clipPath<span class="signature">()</span><span class="type-signature"> &rarr; {SVGSVGElement|string}</span></h3><div class="description"><p>The <code>clipPath</code> function allows to create a clip layer. WARNING - the clip is valid for the entireweb page, not just the map</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>clip id. In another layer</p></td></tr><tr><td class="name"><code>datum</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>datum to clip</p></td></tr><tr><td class="name"><code>permanent</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>boolean to have ore not a static clippath</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="effect_clippath.js.html">effect/clippath.js</a>, <a href="effect_clippath.js.html#line5">line 5</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/effect">https://observablehq.com/@neocartocnrs/effect</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>the function adds a clip layer to the SVG container and returns the id like &quot;url(#id)&quot;.</li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">SVGSVGElement</span> |<wbr> <span class="param-type">string</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>geoviz.effect.clipPath(svg, { datum: world })  // where svg is the container
svg.effect.clipPath({ datum: world })  // where svg is the container</code></pre></div></div><h3 class="name has-anchor" id="create"><span class="type-signature"></span>create<span class="signature">()</span><span class="type-signature"> &rarr; {SVGSVGElement}</span></h3><div class="description"><p>The <code>create</code> function is the first step in map construction. t creates an svg container into which the various layers can be added.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>height</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>height of the container</p></td></tr><tr><td class="name"><code>width</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>width of the container. This value is automatically calculated according to <code>domain</code>. But it can be forced by entering a value.</p></td></tr><tr><td class="name"><code>domain</code></td><td class="type"><span class="param-type">object</span> |<wbr> <span class="param-type">Array.&lt;object></span></td><td class="description last"><p>the domain corresponds to the geographical area to be displayed. It is defined by a geoJSON or an array containing geoJSONs.</p></td></tr><tr><td class="name"><code>projection</code></td><td class="type"><span class="param-type">function</span> |<wbr> <span class="param-type">string</span></td><td class="description last"><p>d3 function of projection. See <a href="https://github.com/d3/d3-geo">d3-geo</a> &amp; <a href="https://github.com/d3/d3-geo-projection">d3-geo-projection</a>. You can aslo write &quot;mercator&quot; to use tiles. (default: &quot;none&quot;)</p></td></tr><tr><td class="name"><code>pos</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="description last"><p>position of the container (if contained in another svg container)</p></td></tr><tr><td class="name"><code>background</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>background color</p></td></tr><tr><td class="name"><code>fontFamily</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>font-family for the entire map</p></td></tr><tr><td class="name"><code>margin</code></td><td class="type"><span class="param-type">number</span> |<wbr> <span class="param-type">Array.&lt;number></span></td><td class="description last"><p>margins around the map. A number to set the same margin everywhere or an array [top, right, bottom, left] to set different margins.</p></td></tr><tr><td class="name"><code>parent</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>name of parent container into which this child container is to be included. In this case, the options.pos parameter is also used.</p></td></tr><tr><td class="name"><code>zoomable</code></td><td class="type"><span class="param-type">boolean</span> |<wbr> <span class="param-type">number</span> |<wbr> <span class="param-type">string</span></td><td class="description last"><p>activates the map zoom function. If you set an array of 2 values, it defines the scaleExtent (default: [1,8]). Use &quot;versor&quot; to activate <a href="https://github.com/d3/versor">versor zoom</a>. &quot;versor&quot; is only available for vector geometries in wgs84.</p></td></tr><tr><td class="name"><code>control</code></td><td class="type"><span class="param-type">boolean</span> |<wbr> <span class="param-type">Array.&lt;number></span></td><td class="description last"><p>If zoomable is enabled, set the control parameter as true displays control buttons to zoom on the map. You can also define an array of 2 values to locate the panel in the position you want (e.g. [100, 200]). This setting is not available with the Versor zoom.</p></td></tr><tr><td class="name"><code>warning</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>display or not warnings on the map</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="container_create.js.html">container/create.js</a>, <a href="container_create.js.html#line47">line 47</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/geoviz">https://observablehq.com/@neocartocnrs/geoviz</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>the function returns a svg container + some information about this container:<code>projection</code>, <code>margin</code>, <code>width</code>, <code>height</code> and <code>bbox</code></li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">SVGSVGElement</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>let svg = geoviz.create({width: 500, background: "lightblue"})</code></pre></div></div><h3 class="name has-anchor" id="dissolve"><span class="type-signature"></span>dissolve<span class="signature">()</span><span class="type-signature"> &rarr; {object}</span></h3><div class="description"><p>Transform multi part features into single parts feature</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>a GeoJSON FeatureCollection</p></td></tr><tr><td class="name"><code>arg</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>options and parameters</p><h6>Properties</h6><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>areashare</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>name of the field containing the share area of the part</p></td></tr></tbody></table></div></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="tool_dissolve.js.html">tool/dissolve.js</a>, <a href="tool_dissolve.js.html#line15">line 15</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/handle-geometries">https://observablehq.com/@neocartocnrs/handle-geometries</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>a GeoJSON FeatureCollection (without multi part features)</li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">object</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>let dots = geoviz.tool.dissolve(world)</code></pre></div></div><h3 class="name has-anchor" id="dodge"><span class="type-signature"></span>dodge<span class="signature">()</span><span class="type-signature"> &rarr; {object}</span></h3><div class="description"><p>This function use d3.forceSimulation to spread dots or circles of given in a GeoJSON FeatureCollection (points). It returns the coordinates in the page map. It can be used to create a dorling cartogram</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>a GeoJSON FeatureCollection</p></td></tr><tr><td class="name"><code>arg</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>options and parameters</p><h6>Properties</h6><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>projection</code></td><td class="type"><span class="param-type">function</span></td><td class="description last"><p>d3 projection function</p></td></tr><tr><td class="name"><code>r</code></td><td class="type"><span class="param-type">number</span> |<wbr> <span class="param-type">string</span></td><td class="description last"><p>a number or the name of a property containing numerical values.</p></td></tr><tr><td class="name"><code>k</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>radius of the largest circle (or corresponding to the value defined by <code>fixmax</code>)</p></td></tr><tr><td class="name"><code>fixmax</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>value matching the circle with radius <code>k</code>. Setting this value is useful for making maps comparable with each other</p></td></tr><tr><td class="name"><code>iteration</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>number of iterations</p></td></tr><tr><td class="name"><code>gap</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>space between points/circles</p></td></tr></tbody></table></div></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="tool_dodge.js.html">tool/dodge.js</a>, <a href="tool_dodge.js.html#line27">line 27</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/world-population">https://observablehq.com/@neocartocnrs/world-population</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>a GeoJSON FeatureCollection (points) with coordinates in the page map.</li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">object</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>let dots = geoviz.tool.dodge(world, { projection: d3.geoOrthographic(), r: "population", k: 40 })</code></pre></div></div><h3 class="name has-anchor" id="featurecollection"><span class="type-signature"></span>featurecollection<span class="signature">()</span><span class="type-signature"> &rarr; {object}</span></h3><div class="description"><p><code>featurecollection</code> is a function to create a valid GeoJSON FeatureCollection, from geometries, features or coordinates.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span> |<wbr> <span class="param-type">Array</span></td><td class="description last"><p>A GeoJSON FeatureCollection, an array of GeoJSON features, a single feature, an array of geometries, a single geometry or a array defining a bbox. You can also use an array of properties containing latitude and longitude coordinates. In this case, you need to specify the field names in the options.</p></td></tr><tr><td class="name"><code>arg</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>options and parameters</p><h6>Properties</h6><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>latitude</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>name of field containing latitudes. You can also use <code>lat</code></p></td></tr><tr><td class="name"><code>longitude</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>name of field containing longitudes. You can also use <code>lon</code></p></td></tr><tr><td class="name"><code>coordinates</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>name of field containing gographic coordinates. You can also use <code>coords</code></p></td></tr><tr><td class="name"><code>geometry</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>name of field containing GEOJSON geometries</p></td></tr></tbody></table></div></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="tool_featurecollection.js.html">tool/featurecollection.js</a>, <a href="tool_featurecollection.js.html#line19">line 19</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/handle-geometries">https://observablehq.com/@neocartocnrs/handle-geometries</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>a GeoJSON FeatureCollection</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">object</span></dd></dl></div><h3 class="name has-anchor" id="footer"><span class="type-signature"></span>footer<span class="signature">()</span><span class="type-signature"> &rarr; {SVGSVGElement|string}</span></h3><div class="description"><p>The <code>footer</code> function allows add a source below the map</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>id of the layer</p></td></tr><tr><td class="name"><code>text</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>text to be displayed (default: &quot;Author, source...&quot;)</p></td></tr><tr><td class="name"><code>fill</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>text fill (default: &quot;#9e9696&quot;)</p></td></tr><tr><td class="name"><code>background_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>background fill (default: &quot;white&quot;)</p></td></tr><tr><td class="name"><code>background_stroke</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>background stroke (default: &quot;white&quot;)</p></td></tr><tr><td class="name"><code>background_strokeWidth</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>background stroke-width (default: 1)</p></td></tr><tr><td class="name"><code>dominantBaseline</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>text dominant-baseline (&quot;hanging&quot;, &quot;middle&quot;, &quot;central&quot;, &quot;bottom&quot;) (default: &quot;central&quot;)</p></td></tr><tr><td class="name"><code>textAnchor</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>text text-anchore (&quot;start&quot;, &quot;middle&quot;, &quot;end&quot;) (default: &quot;middle&quot;)</p></td></tr><tr><td class="name"><code>lineSpacing</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>space between lines (default: 0)</p></td></tr><tr><td class="name"><code>margin</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>margin (default: 1)</p></td></tr><tr><td class="name"><code>fontSize</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>text font-size (default: 10)</p></td></tr><tr><td class="name"><code>fontFamily</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>text font-family (default: fontFamily defined in the contrainer)</p></td></tr><tr><td class="name"><code>dx</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>shift in x (default: 0)</p></td></tr><tr><td class="name"><code>dy</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>shift in y (default: 0)</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="mark_footer.js.html">mark/footer.js</a>, <a href="mark_footer.js.html#line5">line 5</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/layout-marks">https://observablehq.com/@neocartocnrs/layout-marks</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>the function adds a layer with a footer. If the container is not defined, then the layer is displayed directly.</li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">SVGSVGElement</span> |<wbr> <span class="param-type">string</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.footer(svg, { text: "Hello geoviz" }) // where svg is the container
svg.footer({ text: "Hello geoviz" }) // where svg is the container
svg.plot({ type: "footer", text: "Hello geoviz" }) // where svg is the container
geoviz.footer({ text: "Hello geoviz" }) // no container</code></pre></div></div><h3 class="name has-anchor" id="geotable"><span class="type-signature"></span>geotable<span class="signature">()</span><span class="type-signature"> &rarr; {object}</span></h3><div class="description"><p><code>geotable</code> is a function to create an array on objects containing properties and geomeytries, froam a GeoJSON FeatureCollection. This makes it easy to sort, extract data, etc. tool.featurecollection(geotable, { geometry: &quot;geometry&quot; }) can be used to rebuild a valid geoJSON.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>A GeoJSON FeatureCollection</p></td></tr><tr><td class="name"><code>arg</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>options and parameters</p><h6>Properties</h6><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>geometry</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>name of field containing GEOJSON geometries</p></td></tr></tbody></table></div></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="tool_geotable.js.html">tool/geotable.js</a>, <a href="tool_geotable.js.html#line12">line 12</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/handle-geometries">https://observablehq.com/@neocartocnrs/handle-geometries</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>an array of FeatureCollection</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">object</span></dd></dl></div><h3 class="name has-anchor" id="graticule"><span class="type-signature"></span>graticule<span class="signature">()</span><span class="type-signature"> &rarr; {SVGSVGElement|string}</span></h3><div class="description"><p>The <code>graticule</code> function allows to create a layer with lat/long lines</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>id of the layer</p></td></tr><tr><td class="name"><code>step</code></td><td class="type"><span class="param-type">number</span> |<wbr> <span class="param-type">Array.&lt;number></span></td><td class="description last"><p>gap between graticules. The value can be a number or an array of two values (default: 10)</p></td></tr><tr><td class="name"><code>stroke</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>stroke color (default: &quot;#9ad5e6&quot;)</p></td></tr><tr><td class="name"><code>fill</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>fill color (default: &quot;none&quot;)</p></td></tr><tr><td class="name"><code>strokeWidth</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>stroke width (default: 0.8)</p></td></tr><tr><td class="name"><code>strokeLinecap</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>stroke-inecap (default: &quot;square&quot;)</p></td></tr><tr><td class="name"><code>strokeLinejoin</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>stroke-Linejoin (default: &quot;round&quot;)</p></td></tr><tr><td class="name"><code>strokeDasharray</code></td><td class="type"><span class="param-type">number</span> |<wbr> <span class="param-type">Array.&lt;number></span></td><td class="description last"><p>stroke-dasharray (default: 2)</p></td></tr><tr><td class="name"><code>foo</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"><p><em>other attributes that can be used to define the svg style (strokeDasharray, strokeWidth, opacity, strokeLinecap...)</em></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="mark_graticule.js.html">mark/graticule.js</a>, <a href="mark_graticule.js.html#line7">line 7</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/layout-marks">https://observablehq.com/@neocartocnrs/layout-marks</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>the function adds a layer with graticule lines to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">SVGSVGElement</span> |<wbr> <span class="param-type">string</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.graticule(svg, { step: 2 }) // where svg is the container
svg.graticule({ step: [10,2] }) // where svg is the container
svg.plot({ type: "graticule", step: [10,2] }) // where svg is the container
geoviz.graticule({ step: 2 }) // no container</code></pre></div></div><h3 class="name has-anchor" id="halfcircle"><span class="type-signature"></span>halfcircle<span class="signature">()</span><span class="type-signature"> &rarr; {SVGSVGElement|string}</span></h3><div class="description"><p>The <code>halfcircle</code> function allows to create a layer with rotable half-circles from a geoJSON</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>GeoJSON FeatureCollection</p></td></tr><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>id of the layer</p></td></tr><tr><td class="name"><code>pos</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="description last"><p>position of the half-circle to display a single circle (default [0,0])</p></td></tr><tr><td class="name"><code>dx</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>shift in x (delault: 0)</p></td></tr><tr><td class="name"><code>dy</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>shift in y (delault: 0)</p></td></tr><tr><td class="name"><code>angle</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>angle of the half circle (delault: 0)</p></td></tr><tr><td class="name"><code>r</code></td><td class="type"><span class="param-type">number</span> |<wbr> <span class="param-type">string</span></td><td class="description last"><p>a number or the name of a property containing numerical values (default: 10)</p></td></tr><tr><td class="name"><code>innerRadius</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>inner radius (default: 10)</p></td></tr><tr><td class="name"><code>cornerRadius</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>corner radius (default: 2)</p></td></tr><tr><td class="name"><code>k</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>radius of the largest half-circle (or corresponding to the value defined by <code>fixmax</code>) (default: 50)</p></td></tr><tr><td class="name"><code>fixmax</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>value matching the half-circle with radius <code>k</code>. Setting this value is useful for making maps comparable with each other</p></td></tr><tr><td class="name"><code>sort</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="description last"><p>the field to sort circles or a sort function</p></td></tr><tr><td class="name"><code>descending</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>circle sorting order</p></td></tr><tr><td class="name"><code>coords</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>use &quot;svg&quot; if the coordinates are already in the plan of the svg document (default: &quot;geo&quot;))</p></td></tr><tr><td class="name"><code>fill</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="description last"><p>fill color. To create choropleth maps or typologies, use the <code>classify.choro</code> and <code>classify.topo</code> functions</p></td></tr><tr><td class="name"><code>stroke</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="description last"><p>stroke color. To create choropleth maps or typologies, use the <code>classify.choro</code> and <code>classify.topo</code> functions</p></td></tr><tr><td class="name"><code>tip</code></td><td class="type"><span class="param-type">boolean</span> |<wbr> <span class="param-type">function</span></td><td class="description last"><p>a function to display the tip. Use true tu display all fields</p></td></tr><tr><td class="name"><code>view</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>use true and viewof in Observable for this layer to act as Input</p></td></tr><tr><td class="name"><code>tipstyle</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>tooltip style</p></td></tr><tr><td class="name"><code>foo</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"><p><em>other SVG attributes that can be applied (strokeDasharray, strokeWidth, opacity, strokeLinecap...)</em></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="mark_halfcircle.js.html">mark/halfcircle.js</a>, <a href="mark_halfcircle.js.html#line27">line 27</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/circle-mark">https://observablehq.com/@neocartocnrs/circle-mark</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>the function adds a layer with circles to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">SVGSVGElement</span> |<wbr> <span class="param-type">string</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.halfcircle(svg, { pos: [10,20], r: 15 }) // a single half-circle
geoviz.halfcircle(svg, { data: cities, r: "population" }) // where svg is the container
svg.halfcircle({ data: cities, r: "population" }) // where svg is the container
svg.plot({ type: "halfcircle", data: cities, r: "population" }) // where svg is the container
geoviz.halfcircle({ data: cities, r: "population" }) // no container</code></pre></div></div><h3 class="name has-anchor" id="header"><span class="type-signature"></span>header<span class="signature">()</span><span class="type-signature"> &rarr; {SVGSVGElement|string}</span></h3><div class="description"><p>The <code>header</code> function allows add a title above the map</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>id of the layer</p></td></tr><tr><td class="name"><code>text</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>text to be displayed (default: &quot;Map title&quot;)</p></td></tr><tr><td class="name"><code>fill</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>text fill (default: &quot;#9e9696&quot;)</p></td></tr><tr><td class="name"><code>background_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>background fill (default: &quot;white&quot;)</p></td></tr><tr><td class="name"><code>background_stroke</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>background stroke (default: &quot;white&quot;)</p></td></tr><tr><td class="name"><code>background_strokeWidth</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>background stroke-width (default: 1)</p></td></tr><tr><td class="name"><code>dominantBaseline</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>text dominant-baseline (&quot;hanging&quot;, &quot;middle&quot;, &quot;central&quot;, &quot;bottom&quot;) (default: &quot;central&quot;)</p></td></tr><tr><td class="name"><code>textAnchor</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>text text-anchore (&quot;start&quot;, &quot;middle&quot;, &quot;end&quot;) (default: &quot;middle&quot;)</p></td></tr><tr><td class="name"><code>lineSpacing</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>space between lines (default: 0)</p></td></tr><tr><td class="name"><code>margin</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>margin (default: 8)</p></td></tr><tr><td class="name"><code>fontSize</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>text font-size (default: 26)</p></td></tr><tr><td class="name"><code>fontFamily</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>text font-family (default: fontFamily defined in the contrainer)</p></td></tr><tr><td class="name"><code>dx</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>shift in x (default: 0)</p></td></tr><tr><td class="name"><code>dy</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>shift in y (default: 0))</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="mark_header.js.html">mark/header.js</a>, <a href="mark_header.js.html#line5">line 5</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/layout-marks">https://observablehq.com/@neocartocnrs/layout-marks</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>the function adds a layer with a header. If the container is not defined, then the layer is displayed directly.</li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">SVGSVGElement</span> |<wbr> <span class="param-type">string</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.header(svg, { text: "Hello geoviz" }) // where svg is the container
svg.header({ text: "Hello geoviz" }) // where svg is the container
svg.plot({ type: "header",text: "Hello geoviz" }) // where svg is the container
geoviz.header({ text: "Hello geoviz" }) // no container</code></pre></div></div><h3 class="name has-anchor" id="height"><span class="type-signature"></span>height<span class="signature">()</span><span class="type-signature"> &rarr; {string}</span></h3><div class="description"><p>This function return a function to calculate radius of circles from data</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="description last"><p>an array of numerical values.</p></td></tr><tr><td class="name"><code>arg</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>options and parameters</p><h6>Properties</h6><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>fixmax</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="description last"><p>to fix the value corresponding to the circle with radius = k</p></td></tr><tr><td class="name"><code>k</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="description last"><p>radius if the greater circle</p></td></tr></tbody></table></div></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="tool_height.js.html">tool/height.js</a>, <a href="tool_height.js.html#line16">line 16</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>an object containing a radius function.</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">string</span></dd></dl></div><h3 class="name has-anchor" id="merge"><span class="type-signature"></span>merge<span class="signature">()</span><span class="type-signature"> &rarr; {object}</span></h3><div class="description"><p><code>merge</code> is a function to join a geoJSON and a data file.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>geom</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>a GeoJSON FeatureCollection</p></td></tr><tr><td class="name"><code>geom_id</code></td><td class="type"><span class="param-type">Array</span></td><td class="description last"><p>geom id</p></td></tr><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">Array</span></td><td class="description last"><p>array containg data</p></td></tr><tr><td class="name"><code>data_id</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>data id</p></td></tr><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>id (same in data and geometries)</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="tool_merge.js.html">tool/merge.js</a>, <a href="tool_merge.js.html#line3">line 3</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/handle-geometries">https://observablehq.com/@neocartocnrs/handle-geometries</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>a GeoJSON FeatureCollection</li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">object</span></dd></dl></div><h3 class="name has-anchor" id="mushrooms"><span class="type-signature"></span>mushrooms<span class="signature">()</span><span class="type-signature"> &rarr; {SVGSVGElement|string}</span></h3><div class="description"><p>The <code>circles_half</code> function allows to add an legend for proprtionnal half-circles</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>unique id</p></td></tr><tr><td class="name"><code>pos</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="description last"><p>legend position (default:[0,0])</p></td></tr><tr><td class="name"><code>gap</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>gap between elements</p></td></tr><tr><td class="name"><code>line_stroke</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>stroke color for the lines</p></td></tr><tr><td class="name"><code>line_foo</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"><p><em>SVG attributes that can be applied on this line element</em></p></td></tr><tr><td class="name"><code>title</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>title of the legend</p></td></tr><tr><td class="name"><code>title_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>subtitle</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>subtitle of the legend</p></td></tr><tr><td class="name"><code>subtitle_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>note</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>note displayed above the legend</p></td></tr><tr><td class="name"><code>note_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>frame</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>frame around the legend (default: false)</p></td></tr><tr><td class="name"><code>frame_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this frame element (rect)</em></p></td></tr><tr><td class="name"><code>top_data</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="description last"><p>input values (top for circles)</p></td></tr><tr><td class="name"><code>top_k</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>radius of the largest top half-circle (or corresponding to the value defined by fixmax ) (default: 50)</p></td></tr><tr><td class="name"><code>top_fixmax</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="description last"><p>value matching the top circle with radius k . Setting this value is useful for making maps comparable with each other</p></td></tr><tr><td class="name"><code>top_nb</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>number of top half-circles</p></td></tr><tr><td class="name"><code>top_circle_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>fill color for the top half-circles</p></td></tr><tr><td class="name"><code>top_circle_stroke</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>stroke color for the top half-circles</p></td></tr><tr><td class="name"><code>top_circle_cornerRadius</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>top circle_cornerRadius (default: 5)</p></td></tr><tr><td class="name"><code>top_circle_foo</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"><p><em>SVG attributes that can be applied on this top half-circle element</em></p></td></tr><tr><td class="name"><code>top_values_textAnchor</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>top text-anchor (default: &quot;middle&quot;)</p></td></tr><tr><td class="name"><code>top_values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>shift in x (default: 0)</p></td></tr><tr><td class="name"><code>top_values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>shift in y (default: 5)</p></td></tr><tr><td class="name"><code>top_values_factor</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>allow to multiply values to display in the legend. e.g 0.001 to convert into thousands</p></td></tr><tr><td class="name"><code>top_values_decimal</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>separator for decimals</p></td></tr><tr><td class="name"><code>top_values_thousands</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>separator for thousands</p></td></tr><tr><td class="name"><code>top_values_foo</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element (fill, fontSize...)</em></p></td></tr><tr><td class="name"><code>top_title</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>title of the top elment</p></td></tr><tr><td class="name"><code>bottom_data</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="description last"><p>input values (bottom for circles)</p></td></tr><tr><td class="name"><code>bottom_k</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>radius of the largest bottom half-circle (or corresponding to the value defined by fixmax ) (default: 50)</p></td></tr><tr><td class="name"><code>bottom_fixmax</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="description last"><p>value matching the bottom circle with radius k . Setting this value is useful for making maps comparable with each other</p></td></tr><tr><td class="name"><code>bottom_nb</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>number of bottom half-circles</p></td></tr><tr><td class="name"><code>bottom_circle_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>fill color for the bottom half-circles</p></td></tr><tr><td class="name"><code>bottom_circle_stroke</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>stroke color for the bottom half-circles</p></td></tr><tr><td class="name"><code>bottom_circle_cornerRadius</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>bottom circle_cornerRadius (default: 5)</p></td></tr><tr><td class="name"><code>bottom_circle_foo</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"><p><em>SVG attributes that can be applied on this bottom half-circle element</em></p></td></tr><tr><td class="name"><code>bottom_values_textAnchor</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>bottom text-anchor (default: &quot;middle&quot;)</p></td></tr><tr><td class="name"><code>bottom_values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>shift in x (default: 0)</p></td></tr><tr><td class="name"><code>bottom_values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>shift in y (default: 5)</p></td></tr><tr><td class="name"><code>bottom_values_factor</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>allow to multiply values to display in the legend. e.g 0.001 to convert into thousands</p></td></tr><tr><td class="name"><code>bottom_values_decimal</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>separator for decimals</p></td></tr><tr><td class="name"><code>bottom_values_thousands</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>separator for thousands</p></td></tr><tr><td class="name"><code>bottom_values_foo</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element (fill, fontSize...)</em></p></td></tr><tr><td class="name"><code>bottom_title</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>title of the bottom elment</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="legend_mushrooms.js.html">legend/mushrooms.js</a>, <a href="legend_mushrooms.js.html#line18">line 18</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/legends">https://observablehq.com/@neocartocnrs/legends</a></li><li><a href="https://observablehq.com/@neocartocnrs/half-circle-mark">https://observablehq.com/@neocartocnrs/half-circle-mark</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>the function adds a layer with a half-circle legend to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">SVGSVGElement</span> |<wbr> <span class="param-type">string</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.legend.mushrooms(svg, { pos: [10,20],top_data, bottom_data}) // where svg is the container
svg.legend.mushrooms({pos: [10,20], top_data, bottom_data} }) // where svg is the container
svg.plot({ type: "leg_mushrooms", pos: [10,20], top_data, bottom_data} }) // where svg is the container
geoviz.legend.mushrooms({ pos: [10,20], top_data, bottom_data}) // no container</code></pre></div></div><h3 class="name has-anchor" id="north"><span class="type-signature"></span>north<span class="signature">()</span><span class="type-signature"> &rarr; {SVGSVGElement|string}</span></h3><div class="description"><p>The <code>north</code> function allows add a North arrow.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>id of the layer</p></td></tr><tr><td class="name"><code>pos</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="description last"><p>position [x,y] on the page. The scale value is relevant for this location on the map (default: svg.width - 30, 30])</p></td></tr><tr><td class="name"><code>scale</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>a number to rescale the arrow (default: 1)</p></td></tr><tr><td class="name"><code>rotate</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>an angle to rotate the arrow. By dedault, il is automaticaly calculated (default: null)</p></td></tr><tr><td class="name"><code>fill</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>fill color (default: &quot;black&quot;)</p></td></tr><tr><td class="name"><code>fillOpacity</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>fill-opacity (default: 1)</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="mark_north.js.html">mark/north.js</a>, <a href="mark_north.js.html#line5">line 5</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/layout-marks">https://observablehq.com/@neocartocnrs/layout-marks</a></li><li><a href="https://observablehq.com/@neocartocnrs/geoviz-scalebar">https://observablehq.com/@neocartocnrs/geoviz-scalebar</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>the function adds a layer with a north arrow. If the container is not defined, then the layer is displayed directly.</li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">SVGSVGElement</span> |<wbr> <span class="param-type">string</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.north(svg, { pos: [100, 300], fill: "brown" }) // where svg is the container
svg.north({ pos: [100, 300], fill: "brown" }) // where svg is the container
svg.plot({ type: "north", pos: [100, 300], fill: "brown" }) // where svg is the container
geoviz.north( { pos: [100, 300], fill: "brown" }) // no container</code></pre></div></div><h3 class="name has-anchor" id="outline"><span class="type-signature"></span>outline<span class="signature">()</span><span class="type-signature"> &rarr; {SVGSVGElement|string}</span></h3><div class="description"><p>The <code>outline</code> function allows to create a layer with Earth outline in the projection</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>id of the layer</p></td></tr><tr><td class="name"><code>step</code></td><td class="type"><span class="param-type">number</span> |<wbr> <span class="param-type">Array.&lt;number></span></td><td class="description last"><p>gap between graticules. The value can be a number or an array of two values</p></td></tr><tr><td class="name"><code>stroke</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>stroke color (default: &quot;none&quot;)</p></td></tr><tr><td class="name"><code>strokeWidth</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>stroke width (default: 1)</p></td></tr><tr><td class="name"><code>fill</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>fill color (default: &quot;#B5DFFD&quot;)</p></td></tr><tr><td class="name"><code>foo</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"><p><em>other attributes that can be used to define the svg style (strokeDasharray, opacity, strokeLinecap...)</em></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="mark_outline.js.html">mark/outline.js</a>, <a href="mark_outline.js.html#line7">line 7</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/layout-marks">https://observablehq.com/@neocartocnrs/layout-marks</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>the function adds a layer with the world outline the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">SVGSVGElement</span> |<wbr> <span class="param-type">string</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.outline(svg, { fill: "yelllow" }) // where svg is the container
svg.outline({ fill: "yelllow" }) // where svg is the container
svg.plot({ type: "outline", fill: "yelllow" }) // where svg is the container
geoviz.outline({ fill: "yelllow" }) // no container</code></pre></div></div><h3 class="name has-anchor" id="path"><span class="type-signature"></span>path<span class="signature">()</span><span class="type-signature"> &rarr; {SVGSVGElement|string}</span></h3><div class="description"><p>The <code>path</code> function generates SVG paths from a geoJSON</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>GeoJSON FeatureCollection. Use data to be able to iterate</p></td></tr><tr><td class="name"><code>datum</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>GeoJSON FeatureCollection. Use datum if you don't need to iterate.</p></td></tr><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>id of the layer</p></td></tr><tr><td class="name"><code>coords</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>use &quot;svg&quot; if the coordinates are already in the plan of the svg document (default: &quot;geo&quot;)))</p></td></tr><tr><td class="name"><code>clip</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>use true to clip the path with the outline (default; true)</p></td></tr><tr><td class="name"><code>fill</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="description last"><p>fill color. To create choropleth maps or typologies, use the <code>tool.choro</code> and <code>tool.typo</code> functions</p></td></tr><tr><td class="name"><code>stroke</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="description last"><p>stroke color. To create choropleth maps or typologies, use the <code>classify.choro</code> and <code>classify.topo</code> functions</p></td></tr><tr><td class="name"><code>strokeWidth</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="description last"><p>stroke-width (default: 1)</p></td></tr><tr><td class="name"><code>tip</code></td><td class="type"><span class="param-type">boolean</span> |<wbr> <span class="param-type">function</span></td><td class="description last"><p>a function to display the tip. Use true tu display all fields</p></td></tr><tr><td class="name"><code>view</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>use true and viewof in Observable for this layer to act as Input</p></td></tr><tr><td class="name"><code>tipstyle</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>tooltip style</p></td></tr><tr><td class="name"><code>foo</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"><p><em>other SVG attributes that can be applied (strokeDasharray, strokeWidth, opacity, strokeLinecap...)</em></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="mark_path.js.html">mark/path.js</a>, <a href="mark_path.js.html#line18">line 18</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/path-mark">https://observablehq.com/@neocartocnrs/path-mark</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>the function adds a layer with SVG paths to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">SVGSVGElement</span> |<wbr> <span class="param-type">string</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.path(svg, { data: world, fill: "red" }) // where svg is the container
svg.path({ data: world, fill: "red" }) // where svg is the container
svg.plot({ type: "path", data: world, fill: "red" }) // where svg is the container
geoviz.path({ data: world, fill: "red" }) // no container</code></pre></div></div><h3 class="name has-anchor" id="plot"><span class="type-signature"></span>plot<span class="signature">()</span></h3><div class="description"><p>The <code>plot()</code> function in geoviz allows you to call up all the layer types available in the library via a single function. To do this, you need to define the type in the parameter. For example: <code>geoviz.plot({type: &quot;graticule&quot;, step: 30})</code></p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>outline</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;outline&quot;, ...})</code>. See <a href="global.html#outline">outline</a></p></td></tr><tr><td class="name"><code>graticule</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;graticule&quot;, ...})</code>. See <a href="global.html#graticule">graticule</a></p></td></tr><tr><td class="name"><code>path</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;path&quot;, ...})</code> or <code>{type: &quot;base&quot;}</code> or <code>{type: &quot;simple&quot;}</code>. See <a href="global.html#path">path</a></p></td></tr><tr><td class="name"><code>text</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;text&quot;, ...})</code> or <code>{type: &quot;label&quot;}</code>. See <a href="global.html#text">text</a></p></td></tr><tr><td class="name"><code>circle</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;circle&quot;, ...})</code>. See <a href="global.html#circle">circle</a></p></td></tr><tr><td class="name"><code>halfcircle</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;halfcircle&quot;, ...})</code>. See <a href="global.html#halfcircle">halfcircle</a></p></td></tr><tr><td class="name"><code>spike</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;spike&quot;, ...})</code>. See <a href="global.html#spike">spike</a></p></td></tr><tr><td class="name"><code>tile</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;tile&quot;, ...})</code>. See <a href="global.html#tile">tile</a></p></td></tr><tr><td class="name"><code>header</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;header&quot;, ...})</code>. See <a href="global.html#header">header</a></p></td></tr><tr><td class="name"><code>footer</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;footer&quot;, ...})</code>. See <a href="global.html#footer">footer</a></p></td></tr><tr><td class="name"><code>scalebar</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;scalebar&quot;, ...})</code>. See <a href="global.html#scalebar">scalebar</a></p></td></tr><tr><td class="name"><code>north</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;north&quot;, ...})</code>. See <a href="global.html#north">north</a></p></td></tr><tr><td class="name"><code>leg_box</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;leg_box&quot;, ...})</code> or <code>{type: &quot;legbox&quot;}</code>. See <a href="global.html#box">box</a></p></td></tr><tr><td class="name"><code>type</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>&quot;leg_box&quot; (or &quot;legbox&quot;), &quot;leg_choro_horizontal&quot; (or &quot;legchorohorizontal&quot;, &quot;leg_choro_vertical&quot; (or &quot;legchorovertical&quot;, &quot;leg_choro&quot;, legchoro&quot;), &quot;leg_typo_horizontal&quot; (or &quot;legtypohorizontal&quot;), &quot;leg_typo_vertical&quot; (or &quot;legtypovertical&quot;, &quot;leg_typo&quot;, &quot;legtypo&quot;), &quot;leg_spikes&quot; (or &quot;leg_spike&quot;, &quot;legspike&quot;, &quot;legspikes&quot;), &quot;leg_circles&quot; (or &quot;leg_circle&quot;, &quot;legcircle&quot;, &quot;legcircles&quot;), &quot;leg_circles_nested&quot; (or &quot;leg_circle_nested&quot;, &quot;legcirclenested&quot;, &quot;legcirclesnested&quot;), &quot;leg_mushrooms&quot; (or &quot;leg_mushroom&quot;, &quot;legmushrooms&quot;, &quot;legmushroom&quot;).</p></td></tr><tr><td class="name"><code>foo</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"><p>xxx</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="plot_plot.js.html">plot/plot.js</a>, <a href="plot_plot.js.html#line31">line 31</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>let svg = geoviz.create({projection: d3.geoNaturalEarth1()})
svg.plot({ type = "outline" }) // outline layer
svg.plot({ type = "graticule", step:30, stroke: "white" }) // graticule layer
svg.plot({ type = "path", datum: world, fill: "white", fillOpacity:0.3 }) // path layer
svg.plot({ type = "header", text: "Hello World" }) // Map title
return svg.render()</code></pre></div></div><h3 class="name has-anchor" id="proj4d3"><span class="type-signature"></span>proj4d3<span class="signature">()</span><span class="type-signature"> &rarr; {function}</span></h3><div class="description"><p><code>proj4d3</code> is a function developped by Philippe Rivire to allow tu use proj4js projections with d3. See https://observablehq.com/@fil/proj4js-d3</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>proj4</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>the proj4 lib that you have to load</p></td></tr><tr><td class="name"><code>proj4string</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>a proj4 projection</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="tool_proj4d3.js.html">tool/proj4d3.js</a>, <a href="tool_proj4d3.js.html#line15">line 15</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/handle-geometries">https://observablehq.com/@neocartocnrs/handle-geometries</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>a d3js projection function</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">function</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>geoviz.tool.proj4d3(proj4, `+proj=lcc +lat_1=49 +lat_2=44 +lat_0=46.5 +lon_0=3 +x_0=700000 +y_0=6600000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs` )</code></pre></div></div><h3 class="name has-anchor" id="project"><span class="type-signature"></span>project<span class="signature">()</span><span class="type-signature"> &rarr; {object}</span></h3><div class="description"><p>This function use geoproject from d3-geo-projection to project a geoJSON.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>a GeoJSON FeatureCollection</p></td></tr><tr><td class="name"><code>arg</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>options and parameters</p></td></tr><tr><td class="name"><code>options.arg</code></td><td class="type"><span class="param-type">function</span></td><td class="description last"><p>projection definition. See <a href="https://github.com/d3/d3-geo">d3-geo</a> &amp; <a href="https://github.com/d3/d3-geo-projection">d3-geo-projection</a></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="tool_project.js.html">tool/project.js</a>, <a href="tool_project.js.html#line15">line 15</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/handle-geometries">https://observablehq.com/@neocartocnrs/handle-geometries</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>a GeoJSON FeatureCollection with coordinates in the page map.</li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">object</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>let newGeoJSON = geoviz.tool.project(world, { projection: d3.geoOrthographic()})</code></pre></div></div><h3 class="name has-anchor" id="radialGradient"><span class="type-signature"></span>radialGradient<span class="signature">()</span><span class="type-signature"> &rarr; {SVGSVGElement|string}</span></h3><div class="description"><p>The <code>radialGradient</code> function allows to create a radialGradient</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>id</p></td></tr><tr><td class="name"><code>color1</code></td><td class="type"><span class="param-type">Number</span></td><td class="description last"><p>color 1</p></td></tr><tr><td class="name"><code>color2</code></td><td class="type"><span class="param-type">Number</span></td><td class="description last"><p>color 2</p></td></tr><tr><td class="name"><code>offset1</code></td><td class="type"><span class="param-type">Number</span></td><td class="description last"><p>offset 1</p></td></tr><tr><td class="name"><code>offset2</code></td><td class="type"><span class="param-type">Number</span></td><td class="description last"><p>offset 2</p></td></tr><tr><td class="name"><code>fx</code></td><td class="type"><span class="param-type">Number</span></td><td class="description last"><p>fx</p></td></tr><tr><td class="name"><code>fy</code></td><td class="type"><span class="param-type">Number</span></td><td class="description last"><p>fy</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="effect_radialgradient.js.html">effect/radialgradient.js</a>, <a href="effect_radialgradient.js.html#line3">line 3</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/effect">https://observablehq.com/@neocartocnrs/effect</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>the function adds a filter to the defs and returns the id like &quot;url(#id)&quot;.</li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">SVGSVGElement</span> |<wbr> <span class="param-type">string</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>geoviz.effect.radialGradient(svg, { id: "radial", color1: "red", color2: "blue" }) // where svg is the container
svg.effect.radialGradient({ id: "radial", color1: "red", color2: "blue" }) // where svg is the container</code></pre></div></div><h3 class="name has-anchor" id="radius"><span class="type-signature"></span>radius<span class="signature">()</span><span class="type-signature"> &rarr; {string}</span></h3><div class="description"><p>This function return a function to calculate radius of circles from data</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="description last"><p>an array of numerical values.</p></td></tr><tr><td class="name"><code>arg</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>options and parameters</p><h6>Properties</h6><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>fixmax</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="description last"><p>to fix the value corresponding to the circle with radius = k</p></td></tr><tr><td class="name"><code>k</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="description last"><p>radius if the greater circle</p></td></tr></tbody></table></div></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="tool_radius.js.html">tool/radius.js</a>, <a href="tool_radius.js.html#line16">line 16</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>an object containing a radius function.</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">string</span></dd></dl></div><h3 class="name has-anchor" id="random"><span class="type-signature"></span>random<span class="signature">()</span><span class="type-signature"> &rarr; {string}</span></h3><div class="description"><p>This function returns a random color</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="tool_random.js.html">tool/random.js</a>, <a href="tool_random.js.html#line6">line 6</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>a color</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">string</span></dd></dl></div><h3 class="name has-anchor" id="render"><span class="type-signature"></span>render<span class="signature">()</span><span class="type-signature"> &rarr; {SVGSVGElement}</span></h3><div class="description"><p>The <code>render</code> function returns the svg document</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>svg</code></td><td class="type"><span class="param-type">SVGSVGElement</span></td><td class="description last"><p>SVG container to display. This can be generated using the <code>create</code> function.</p></td></tr><tr><td class="name"><code>order</code></td><td class="type"><span class="param-type">Array.&lt;object></span></td><td class="description last"><p>array determining the order of layers. This option is only useful in Observable notebooks (because of its topological nature).</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="container_render.js.html">container/render.js</a>, <a href="container_render.js.html#line8">line 8</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/geoviz">https://observablehq.com/@neocartocnrs/geoviz</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>a pretty map in SVG format :-)</li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">SVGSVGElement</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>geoviz.render(svg, {order: [basemap, roads, cities]}) // where svg is the container
svg.render({order: [basemap, roads, cities]}) // where svg is the container</code></pre></div></div><h3 class="name has-anchor" id="replicate"><span class="type-signature"></span>replicate<span class="signature">()</span><span class="type-signature"> &rarr; {object}</span></h3><div class="description"><p>Data-driven features replication. This function can be used to create &quot;dots cartograms&quot;</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>a GeoJSON FeatureCollection</p></td></tr><tr><td class="name"><code>arg</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>options and parameters</p><h6>Properties</h6><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>field</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>property name containing numeric data</p></td></tr><tr><td class="name"><code>targetvalue</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>Feature target value</p></td></tr></tbody></table></div></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="tool_replicate.js.html">tool/replicate.js</a>, <a href="tool_replicate.js.html#line17">line 17</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/geoviz-dotscartogram">https://observablehq.com/@neocartocnrs/geoviz-dotscartogram</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>a GeoJSON FeatureCollection with overlapping features</li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">object</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>let dots = geoviz.tool.replicate(world, { field: "population", targetvalue: 10000 })</code></pre></div></div><h3 class="name has-anchor" id="rewind"><span class="type-signature"></span>rewind<span class="signature">()</span><span class="type-signature"> &rarr; {object}</span></h3><div class="description"><p>Rewind a FeatureCollection counterclockwise and inner rings. Adapted from MapBox geojson-rewind code (https://github.com/mapbox/grojson-rewind) under ISC license</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>a GeoJSON FeatureCollection</p></td></tr><tr><td class="name"><code>arg</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>options and parameters</p><h6>Properties</h6><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>outer</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>rewind Rings Outer</p></td></tr><tr><td class="name"><code>mutate</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>mutate the Input geoJSON</p></td></tr></tbody></table></div></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="tool_rewind.js.html">tool/rewind.js</a>, <a href="tool_rewind.js.html#line13">line 13</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/handle-geometries">https://observablehq.com/@neocartocnrs/handle-geometries</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>a GeoJSON FeatureCollection</li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">object</span></dd></dl></div><h3 class="name has-anchor" id="ridge"><span class="type-signature"></span>ridge<span class="signature">()</span><span class="type-signature"> &rarr; {object}</span></h3><div class="description"><p>Calculate the centroid of all the geometries given in a GeoJSON FeatureCollection</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>grid</code></td><td class="type"><span class="param-type">array</span></td><td class="description last"><p>an arry of object containig x,y,z values</p></td></tr><tr><td class="name"><code>arg</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>options and parameters</p><h6>Properties</h6><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>x</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>field containg x values</p></td></tr><tr><td class="name"><code>y</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>field containg y values</p></td></tr><tr><td class="name"><code>z</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>field containg z values</p></td></tr><tr><td class="name"><code>k</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>height of highest peak</p></td></tr><tr><td class="name"><code>fixmax</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>a fixed value corresponding to the k</p></td></tr><tr><td class="name"><code>projection</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>projection</p></td></tr></tbody></table></div></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="tool_ridge.js.html">tool/ridge.js</a>, <a href="tool_ridge.js.html#line20">line 20</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/ridge-lines">https://observablehq.com/@neocartocnrs/ridge-lines</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>a GeoJSON FeatureCollection (LineString)</li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">object</span></dd></dl></div><h3 class="name has-anchor" id="scalebar"><span class="type-signature"></span>scalebar<span class="signature">()</span><span class="type-signature"> &rarr; {SVGSVGElement|string}</span></h3><div class="description"><p>The <code>scalebar</code> function allows add a scalebar.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>id of the layer</p></td></tr><tr><td class="name"><code>pos</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="description last"><p>position [x,y] on the page. The scale value is relevant for this location on the map (default: [10, svg.height - 20])</p></td></tr><tr><td class="name"><code>translate</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="description last"><p>an array of two values to move the scalebar without change its size (default: null)</p></td></tr><tr><td class="name"><code>units</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>&quot;ft&quot; (feet), &quot;km&quot; (kilometers), &quot;m&quot; (meters) or &quot;mi&quot; (miles) (default: &quot;km&quot;)</p></td></tr><tr><td class="name"><code>label</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>label to display (default: undefined)</p></td></tr><tr><td class="name"><code>tickSize</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>tick padding (default: 5)</p></td></tr><tr><td class="name"><code>tickPadding</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>tick size (default: 0.2)</p></td></tr><tr><td class="name"><code>distance</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>distance represented by the scalebar (default: undefined)</p></td></tr><tr><td class="name"><code>tickFormat</code></td><td class="type"><span class="param-type">function</span></td><td class="description last"><p>a function to format values (default: d =&gt; d)</p></td></tr><tr><td class="name"><code>tickValues</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="description last"><p>values to display on the scalebar (default: undefined)</p></td></tr><tr><td class="name"><code>labelAnchor</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>position of the label (&quot;start&quot;, &quot;middle&quot; or &quot;end&quot;) (default: &quot;start&quot;)</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="mark_scalebar.js.html">mark/scalebar.js</a>, <a href="mark_scalebar.js.html#line7">line 7</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/layout-marks">https://observablehq.com/@neocartocnrs/layout-marks</a></li><li><a href="https://observablehq.com/@neocartocnrs/geoviz-scalebar">https://observablehq.com/@neocartocnrs/geoviz-scalebar</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>the function adds a layer with a scalebar. If the container is not defined, then the layer is displayed directly.</li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">SVGSVGElement</span> |<wbr> <span class="param-type">string</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.scalebar(svg, { units:"km", distance: 500, pos: [100, 200] }) // where svg is the container
svg.scalebar({ units:"km", distance: 500, pos: [100, 200] }) // where svg is the container
svg.plot({type: "scalebar", units:"km", distance: 500, pos: [100, 200] }) // where svg is the container</code></pre></div></div><h3 class="name has-anchor" id="shadow"><span class="type-signature"></span>shadow<span class="signature">()</span><span class="type-signature"> &rarr; {SVGSVGElement|string}</span></h3><div class="description"><p>The <code>shadow</code> function allows to create a svg filter. It can be use ta add a shadow effect</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>id</p></td></tr><tr><td class="name"><code>dx</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>shift in x</p></td></tr><tr><td class="name"><code>dy</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>shift in y</p></td></tr><tr><td class="name"><code>fill</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>fill color</p></td></tr><tr><td class="name"><code>fillOpacity</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>fill-opacity (you can use also opacity)</p></td></tr><tr><td class="name"><code>stdDeviation</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>standard deviation</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="effect_shadow.js.html">effect/shadow.js</a>, <a href="effect_shadow.js.html#line3">line 3</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/effect">https://observablehq.com/@neocartocnrs/effect</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>the function adds a filter to the defs and returns the id like &quot;url(#id)&quot;.</li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">SVGSVGElement</span> |<wbr> <span class="param-type">string</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>geoviz.effect.shadow(svg, { stdDeviation: 0, id: "blur" }) // where svg is the container
svg.effect.shadow({ stdDeviation: 2, id: "shadow" }) // where svg is the container</code></pre></div></div><h3 class="name has-anchor" id="spike"><span class="type-signature"></span>spike<span class="signature">()</span><span class="type-signature"> &rarr; {SVGSVGElement|string}</span></h3><div class="description"><p>The <code>spike</code> function allows to create a layer with spikes from a geoJSON</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>GeoJSON FeatureCollection</p></td></tr><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>id of the layer</p></td></tr><tr><td class="name"><code>pos</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="description last"><p>position of the skes to display a single spike (default [0,0])</p></td></tr><tr><td class="name"><code>height</code></td><td class="type"><span class="param-type">number</span> |<wbr> <span class="param-type">string</span></td><td class="description last"><p>a number or the name of a property containing numerical values (default: 10)</p></td></tr><tr><td class="name"><code>width</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>a number defining the width of the spikes (default: 30)</p></td></tr><tr><td class="name"><code>straight</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>a number between 0 and 1 defining the curve of the spikes. 0 = curved ; 1 = straight (default: 0)</p></td></tr><tr><td class="name"><code>k</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>height of the highest spike (or corresponding to the value defined by <code>fixmax</code>) (default: 100)</p></td></tr><tr><td class="name"><code>fixmax</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>value matching the spikes with height <code>k</code>. Setting this value is useful for making maps comparable with each other</p></td></tr><tr><td class="name"><code>sort</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="description last"><p>the field to sort spikes or a sort function</p></td></tr><tr><td class="name"><code>descending</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>spikes sorting order</p></td></tr><tr><td class="name"><code>coords</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>use &quot;svg&quot; if the coordinates are already in the plan of the svg document (default: &quot;geo&quot;)</p></td></tr><tr><td class="name"><code>fill</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="description last"><p>fill color. To create choropleth maps or typologies, use the <code>classify.choro</code> and <code>classify.topo</code> functions</p></td></tr><tr><td class="name"><code>stroke</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="description last"><p>stroke color. To create choropleth maps or typologies, use the <code>classify.choro</code> and <code>classify.topo</code> functions</p></td></tr><tr><td class="name"><code>tip</code></td><td class="type"><span class="param-type">boolean</span> |<wbr> <span class="param-type">function</span></td><td class="description last"><p>a function to display the tip. Use true tu display all fields</p></td></tr><tr><td class="name"><code>view</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>use true and viewof in Observable for this layer to act as Input</p></td></tr><tr><td class="name"><code>tipstyle</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>tooltip style</p></td></tr><tr><td class="name"><code>foo</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"><p><em>other SVG attributes that can be applied (strokeDasharray, strokeWidth, opacity, strokeLinecap...)</em></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="mark_spike.js.html">mark/spike.js</a>, <a href="mark_spike.js.html#line25">line 25</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/spike-mark">https://observablehq.com/@neocartocnrs/spike-mark</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>the function adds a layer with spikes to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">SVGSVGElement</span> |<wbr> <span class="param-type">string</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.spike(svg, { pos: [10,20], height: 15 }) // a single circle
geoviz.spike(svg, { data: cities, height: "population" }) // where svg is the container
svg.spike({ data: cities, height: "population" }) // where svg is the container
svg.plot({ type: "spike", data: cities, height: "population" }) // where svg is the container
geoviz.spike({ data: cities, height: "population" }) // no container</code></pre></div></div><h3 class="name has-anchor" id="spikes"><span class="type-signature"></span>spikes<span class="signature">()</span><span class="type-signature"> &rarr; {SVGSVGElement|string}</span></h3><div class="description"><p>The <code>spikes</code> function allows to add an legend for spike marks</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>unique id</p></td></tr><tr><td class="name"><code>pos</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="description last"><p>legend position (default:[0,0])</p></td></tr><tr><td class="name"><code>gap</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>gap between elements</p></td></tr><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="description last"><p>input values</p></td></tr><tr><td class="name"><code>k</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>height of the highest spike (or corresponding to the value defined by fixmax ) (default: 100)</p></td></tr><tr><td class="name"><code>fixmax</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="description last"><p>value matching the spike with height k . Setting this value is useful for making maps comparable with each other</p></td></tr><tr><td class="name"><code>nb</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>number of spikes</p></td></tr><tr><td class="name"><code>spike_width</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>a number defining the width of the spikes (default: 30)</p></td></tr><tr><td class="name"><code>spike_straight</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>a number between 0 and 1 defining the curve of the spikes. 0 = curved ; 1 = straight (default: 0)</p></td></tr><tr><td class="name"><code>spike_spacing</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>spacing between spikes (default: 3)</p></td></tr><tr><td class="name"><code>spike_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>fill color for the cspikesrcles</p></td></tr><tr><td class="name"><code>spike_stroke</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>stroke color for the spikes</p></td></tr><tr><td class="name"><code>spike_foo</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"><p><em>SVG attributes that can be applied on this spike element</em></p></td></tr><tr><td class="name"><code>values_textAnchor</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>text-anchor (default: &quot;middle&quot;)</p></td></tr><tr><td class="name"><code>values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>shift in x (default: 0)</p></td></tr><tr><td class="name"><code>values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>shift in y (default: 5)</p></td></tr><tr><td class="name"><code>values_factor</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>allow to multiply values to display in the legend. e.g 0.001 to convert into thousands</p></td></tr><tr><td class="name"><code>values_decimal</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>separator for decimals</p></td></tr><tr><td class="name"><code>values_thousands</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>separator for thousands</p></td></tr><tr><td class="name"><code>values_foo</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element (fill, fontSize...)</em></p></td></tr><tr><td class="name"><code>title</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>title of the legend</p></td></tr><tr><td class="name"><code>title_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>subtitle</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>subtitle of the legend</p></td></tr><tr><td class="name"><code>subtitle_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>note</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>note displayed above the legend</p></td></tr><tr><td class="name"><code>note_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>frame</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>frame around the legend (default: false)</p></td></tr><tr><td class="name"><code>frame_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this frame element (rect)</em></p></td></tr><tr><td class="name"><code>text_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied directly on all text elements of this legend</em></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="legend_spikes.js.html">legend/spikes.js</a>, <a href="legend_spikes.js.html#line18">line 18</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/legends">https://observablehq.com/@neocartocnrs/legends</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>the function adds a layer with a spikes legend to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">SVGSVGElement</span> |<wbr> <span class="param-type">string</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.legend.spikes(svg, { pos: [10,20], data, nb:5}) // where svg is the container
svg.legend.spikes({pos: [10,20], data, nb: 5} }) // where svg is the container
svg.plot({type: "spikes", pos: [10,20], data, nb: 5} }) // where svg is the container
geoviz.legend.spikes({ pos: [10,20], data, nb: 5}) // no container</code></pre></div></div><h3 class="name has-anchor" id="text"><span class="type-signature"></span>text<span class="signature">()</span><span class="type-signature"> &rarr; {SVGSVGElement|string}</span></h3><div class="description"><p>The <code>text</code> function allows to add a text on the map. It allow also to create a layer with labels from a geoJSON</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>GeoJSON FeatureCollection</p></td></tr><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>id of the layer</p></td></tr><tr><td class="name"><code>text</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="description last"><p>text to be displayed</p></td></tr><tr><td class="name"><code>textAnchor</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="description last"><p>text anchor (&quot;start&quot;, &quot;middle&quot;, &quot;end&quot;)</p></td></tr><tr><td class="name"><code>dominantBaseline</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="description last"><p>dominant-baseline (&quot;auto&quot;, &quot;middle&quot;, &quot;central&quot;, &quot;hanging&quot;)</p></td></tr><tr><td class="name"><code>fontFamily</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>font-family (default: font defined in the svg container)</p></td></tr><tr><td class="name"><code>fontSize</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>font-size (default: 12)</p></td></tr><tr><td class="name"><code>lineSpacing</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>line spacinf (default: 0)</p></td></tr><tr><td class="name"><code>pos</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="description last"><p>position to display a single text element (default [0,0])</p></td></tr><tr><td class="name"><code>dx</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>shift in x (default 0)</p></td></tr><tr><td class="name"><code>dy</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>shift in y (default: 0)</p></td></tr><tr><td class="name"><code>sort</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="description last"><p>the field to sort labels or a sort function</p></td></tr><tr><td class="name"><code>descending</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>text sorting order</p></td></tr><tr><td class="name"><code>coords</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>use &quot;svg&quot; if the coordinates are already in the plan of the svg document (default: &quot;geo&quot;)</p></td></tr><tr><td class="name"><code>fill</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="description last"><p>fill color</p></td></tr><tr><td class="name"><code>stroke</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="description last"><p>stroke color</p></td></tr><tr><td class="name"><code>strokeWidth</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>stroke width (default: 1)</p></td></tr><tr><td class="name"><code>strokeLinejoin</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="description last"><p>stroke-linejoin (default: &quot;round&quot;)</p></td></tr><tr><td class="name"><code>tip</code></td><td class="type"><span class="param-type">boolean</span> |<wbr> <span class="param-type">function</span></td><td class="description last"><p>a function to display the tip. Use true tu display all fields</p></td></tr><tr><td class="name"><code>tipstyle</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>tooltip style</p></td></tr><tr><td class="name"><code>foo</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"><p><em>other SVG attributes that can be applied (strokeDasharray, strokeWidth, opacity, strokeLinecap...)</em></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="mark_text.js.html">mark/text.js</a>, <a href="mark_text.js.html#line18">line 18</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/text-mark">https://observablehq.com/@neocartocnrs/text-mark</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>the function adds a layer with texts to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">SVGSVGElement</span> |<wbr> <span class="param-type">string</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.text(svg, { pos: [10,20], text: "Hello World" }) // a single text
geoviz.text(svg, { data: cities, text: "name" }) // labels where svg is the container
svg.text({ data: cities, text: "name" }) // labels where svg is the container
svg.plot({ type: "text", data: cities, text: "name" }) // labels where svg is the container
geoviz.text({ data: cities, text: "name" }) // labels with no container</code></pre></div></div><h3 class="name has-anchor" id="tile"><span class="type-signature"></span>tile<span class="signature">()</span><span class="type-signature"> &rarr; {SVGSVGElement|string}</span></h3><div class="description"><p>The <code>tile</code> function allows to display raster tiles. To use this mark, you must use the projection d3.geoMercator()</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>id of the layer</p></td></tr><tr><td class="name"><code>tileSize</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>tile size (default: 512)</p></td></tr><tr><td class="name"><code>zoomDelta</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>zoom offset (default:1)</p></td></tr><tr><td class="name"><code>opacity</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>tile opacity (default: 1)</p></td></tr><tr><td class="name"><code>url</code></td><td class="type"><span class="param-type">function</span> |<wbr> <span class="param-type">string</span></td><td class="description last"><p>function like (x, y, z) =&gt; `https://something/${z}/${x}/${y}.png`. You can also enter the following strings directly: &quot;openstreetmap&quot;, &quot;opentopomap&quot;, &quot;worldterrain&quot;, &quot;worldimagery&quot;, &quot;worldStreet&quot;, &quot;worldphysical&quot;, &quot;shadedrelief&quot;, &quot;stamenterrain&quot;, &quot;cartodbvoyager&quot;, &quot;stamentoner&quot;,&quot;stamentonerbackground&quot;,&quot;stamentonerlite&quot;,&quot;stamenwatercolor&quot;,&quot;hillshade&quot;,&quot;worldocean&quot;,&quot;natgeo&quot; or &quot;worldterrain&quot;.</p></td></tr><tr><td class="name"><code>clipPath</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>clip-path. e.g. &quot;url(#myclipid)&quot;</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="mark_tile.js.html">mark/tile.js</a>, <a href="mark_tile.js.html#line7">line 7</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/tile-mark">https://observablehq.com/@neocartocnrs/tile-mark</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>the function adds a layer with mercator tiles to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">SVGSVGElement</span> |<wbr> <span class="param-type">string</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.tile() // no container
geoviz.tile(svg, {url: "worldterrain"}) // where svg is the container
svg.tile({url: "worldterrain"}) // where svg is the container
svg.plot({type: "tile", url: "worldterrain"}) // where svg is the container</code></pre></div></div><h3 class="name has-anchor" id="type_choro"><span class="type-signature"></span>type_choro<span class="signature">()</span><span class="type-signature"> &rarr; {string}</span></h3><div class="description"><p>With the geoviz.plot({type = &quot;choro&quot;, ...}) function, <strong>TEXT</strong> you can quickly draw a choroplethe map. The main arguments to use are :</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>xxx</p></td></tr><tr><td class="name"><code>var</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>xxx</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="plot_plot_choro.js.html">plot/plot_choro.js</a>, <a href="plot_plot_choro.js.html#line9">line 9</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/choropleth">https://observablehq.com/@neocartocnrs/choropleth</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>xxx</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">string</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Examples</strong><div class="rel"><pre class="prettyprint"><code>// Usage</code></pre></div><div class="rel"><pre class="prettyprint"><code>geoviz.plot({type:"choro", ...})</code></pre></div><div class="rel"><pre class="prettyprint"><code>// Minimal example</code></pre></div><div class="rel"><pre class="prettyprint"><code>geoviz.plot({type:"choro", ...})</code></pre></div><div class="rel"><pre class="prettyprint"><code>// Motre complex example</code></pre></div><div class="rel"><pre class="prettyprint"><code>geoviz.plot({type:"choro", ...})</code></pre></div></div><h3 class="name has-anchor" id="typo"><span class="type-signature"></span>typo<span class="signature">()</span><span class="type-signature"> &rarr; {object}</span></h3><div class="description"><p>This function allows you to assign colors to qualitative data. It can be used to create typology maps.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="description last"><p>an array of numerical values.</p></td></tr><tr><td class="name"><code>arg</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>options and parameters</p><h6>Properties</h6><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>colors</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="description last"><p>an array of colors or name of a color palette available in <a href="https://observablehq.com/@neocartocnrs/dicopal-library">dicopal</a></p></td></tr><tr><td class="name"><code>missing</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>a color for missings values</p></td></tr></tbody></table></div></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="tool_typo.js.html">tool/typo.js</a>, <a href="tool_typo.js.html#line17">line 17</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><p>an object containing types, colors, the color of the missing value and a function.</p></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">object</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>.geoviz.tool.typo(world.features.map((d) => d.properties.region), {palette: "Pastel"})</code></pre></div></div><h3 class="name has-anchor" id="typo_horizontal"><span class="type-signature"></span>typo_horizontal<span class="signature">()</span><span class="type-signature"> &rarr; {SVGSVGElement|string}</span></h3><div class="description"><p>The <code>typo_horizontal</code> function allows to add an horizontal legend on a map for typo layers</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">"string"</span></td><td class="description last"><p>unique id</p></td></tr><tr><td class="name"><code>pos</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="description last"><p>legend position (default:[0,0])</p></td></tr><tr><td class="name"><code>gap</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>gap between elements</p></td></tr><tr><td class="name"><code>types</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="description last"><p>types (default: [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;])</p></td></tr><tr><td class="name"><code>colors</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="description last"><p>colors (default: [&quot;#e41a1c&quot;, &quot;#377eb8&quot;, &quot;#4daf4a&quot;, &quot;#984ea3&quot;])</p></td></tr><tr><td class="name"><code>alphabetical</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>alphabetical order (default: true)</p></td></tr><tr><td class="name"><code>rect_width</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>width of the box (default: 50)</p></td></tr><tr><td class="name"><code>rect_height</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>height of the box (default: 14)</p></td></tr><tr><td class="name"><code>rect_spacing</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>spacing between boxes</p></td></tr><tr><td class="name"><code>rect_foo</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"><p><em>other SVG attributes that can be applied on this rect element (strokeDasharray, strokeWidth, opacity, strokeLinecap...)</em></p></td></tr><tr><td class="name"><code>values_textAnchor</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>text-anchor (default: &quot;middle&quot;)</p></td></tr><tr><td class="name"><code>values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>shift in x (default: 0)</p></td></tr><tr><td class="name"><code>values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>shift in y (default: 5)</p></td></tr><tr><td class="name"><code>values_foo</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element (fill, fontSize...)</em></p></td></tr><tr><td class="name"><code>title</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>title of the legend</p></td></tr><tr><td class="name"><code>title_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>subtitle</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>subtitle of the legend</p></td></tr><tr><td class="name"><code>subtitle_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>note</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>note displayed above the legend</p></td></tr><tr><td class="name"><code>note_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>frame</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>frame around the legend (default: false)</p></td></tr><tr><td class="name"><code>frame_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this frame element (rect)</em></p></td></tr><tr><td class="name"><code>text_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied directly on all text elements of this legend</em></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="legend_typo-horizontal.js.html">legend/typo-horizontal.js</a>, <a href="legend_typo-horizontal.js.html#line15">line 15</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/legends">https://observablehq.com/@neocartocnrs/legends</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>the function adds a layer with a typo legend to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">SVGSVGElement</span> |<wbr> <span class="param-type">string</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.legend.typo_horizontal(svg, { pos: [10,20], types, colors}) // where svg is the container
svg.legend.typo_horizontal({pos: [10,20], types, colors} }) // where svg is the container
svg.plot({type: "leg_typo_horizontal", pos: [10,20], types, colors} }) // where svg is the container
geoviz.legend.typo_horizontal({ pos: [10,20], types, colors}) // no container</code></pre></div></div><h3 class="name has-anchor" id="typo_vertical"><span class="type-signature"></span>typo_vertical<span class="signature">()</span><span class="type-signature"> &rarr; {SVGSVGElement|string}</span></h3><div class="description"><p>The <code>typo_vertical</code> function allows to add an vertical legend on a map for typo layers</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>unique id</p></td></tr><tr><td class="name"><code>pos</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="description last"><p>legend position (default:[0,0])</p></td></tr><tr><td class="name"><code>gap</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>gap between elements</p></td></tr><tr><td class="name"><code>types</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="description last"><p>types (default: [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;])</p></td></tr><tr><td class="name"><code>colors</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="description last"><p>colors (default: [&quot;#e41a1c&quot;, &quot;#377eb8&quot;, &quot;#4daf4a&quot;, &quot;#984ea3&quot;])</p></td></tr><tr><td class="name"><code>alphabetical</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>alphabetical order (default: true)</p></td></tr><tr><td class="name"><code>rect_width</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>width of the box (default: 25)</p></td></tr><tr><td class="name"><code>rect_height</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>height of the box (default: 17)</p></td></tr><tr><td class="name"><code>rect_spacing</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>spacing between boxes</p></td></tr><tr><td class="name"><code>rect_foo</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"><p><em>other SVG attributes that can be applied on this rect element (strokeDasharray, strokeWidth, opacity, strokeLinecap...)</em></p></td></tr><tr><td class="name"><code>values_textAnchor</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>text-anchor (default: &quot;middle&quot;)</p></td></tr><tr><td class="name"><code>values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>shift in x (default: 0)</p></td></tr><tr><td class="name"><code>values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>shift in y (default: 5)</p></td></tr><tr><td class="name"><code>values_foo</code></td><td class="type"><span class="param-type">*</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element (fill, fontSize...)</em></p></td></tr><tr><td class="name"><code>title</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>title of the legend</p></td></tr><tr><td class="name"><code>title_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>subtitle</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>subtitle of the legend</p></td></tr><tr><td class="name"><code>subtitle_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>note</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>note displayed above the legend</p></td></tr><tr><td class="name"><code>note_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>frame</code></td><td class="type"><span class="param-type">boolean</span></td><td class="description last"><p>frame around the legend (default: false)</p></td></tr><tr><td class="name"><code>frame_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied on this frame element (rect)</em></p></td></tr><tr><td class="name"><code>text_foo</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">number</span></td><td class="description last"><p><em>SVG attributes that can be applied directly on all text elements of this legend</em></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="legend_typo-vertical.js.html">legend/typo-vertical.js</a>, <a href="legend_typo-vertical.js.html#line15">line 15</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/legends">https://observablehq.com/@neocartocnrs/legends</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>the function adds a layer with a typo legend to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">SVGSVGElement</span> |<wbr> <span class="param-type">string</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.legend.typo_vertical(svg, { pos: [10,20], types, colors}) // where svg is the container
svg.legend.typo_vertical({pos: [10,20], types, colors} }) // where svg is the container
svg.plot({type: "leg_typo_vertical", pos: [10,20], types, colors} }) // where svg is the container
geoviz.legend.typo_vertical({ pos: [10,20], types, colors}) // no container</code></pre></div></div><h3 class="name has-anchor" id="unproject"><span class="type-signature"></span>unproject<span class="signature">()</span><span class="type-signature"> &rarr; {object}</span></h3><div class="description"><p>This function allow to unproject geometries.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>a GeoJSON FeatureCollection</p></td></tr><tr><td class="name"><code>arg</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>options and parameters</p></td></tr><tr><td class="name"><code>options.arg</code></td><td class="type"><span class="param-type">function</span></td><td class="description last"><p>projection definition. See <a href="https://github.com/d3/d3-geo">d3-geo</a> &amp; <a href="https://github.com/d3/d3-geo-projection">d3-geo-projection</a></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="tool_unproject.js.html">tool/unproject.js</a>, <a href="tool_unproject.js.html#line12">line 12</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/handle-geometries">https://observablehq.com/@neocartocnrs/handle-geometries</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>a GeoJSON FeatureCollection with wgs84 coordinates</li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">object</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>let newGeoJSON = geoviz.tool.unproject(world, { projection: d3.geoOrthographic()})</code></pre></div></div></article></section></div></div></div><div class="search-container" id="PkfLWpAbet" style="display:none"><div class="wrapper" id="iCxFxjkHbP"><button class="icon-button search-close-button" id="VjLlGakifb" aria-label="close search"><svg><use xlink:href="#close-icon"></use></svg></button><div class="search-box-c"><svg><use xlink:href="#search-icon"></use></svg> <input type="text" id="vpcKVYIppa" class="search-input" placeholder="Search..." autofocus></div><div class="search-result-c" id="fWwVHRuDuN"><span class="search-result-c-text">Type anything to view search result</span></div></div></div><div class="mobile-menu-icon-container"><button class="icon-button" id="mobile-menu" data-isopen="false" aria-label="menu"><svg><use xlink:href="#menu-icon"></use></svg></button></div><div id="mobile-sidebar" class="mobile-sidebar-container"><div class="mobile-sidebar-wrapper"><a href="/" class="sidebar-title sidebar-title-anchor">Home</a><div class="mobile-nav-links"></div><div class="mobile-sidebar-items-c"><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-global"><div>Global</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="global.html#addfonts">addfonts</a></div><div class="sidebar-section-children"><a href="global.html#blur">blur</a></div><div class="sidebar-section-children"><a href="global.html#box">box</a></div><div class="sidebar-section-children"><a href="global.html#centroid">centroid</a></div><div class="sidebar-section-children"><a href="global.html#choro">choro</a></div><div class="sidebar-section-children"><a href="global.html#choro_horizontal">choro_horizontal</a></div><div class="sidebar-section-children"><a href="global.html#choro_vertical">choro_vertical</a></div><div class="sidebar-section-children"><a href="global.html#circle">circle</a></div><div class="sidebar-section-children"><a href="global.html#circles">circles</a></div><div class="sidebar-section-children"><a href="global.html#circles_half">circles_half</a></div><div class="sidebar-section-children"><a href="global.html#circles_nested">circles_nested</a></div><div class="sidebar-section-children"><a href="global.html#clipPath">clipPath</a></div><div class="sidebar-section-children"><a href="global.html#create">create</a></div><div class="sidebar-section-children"><a href="global.html#dissolve">dissolve</a></div><div class="sidebar-section-children"><a href="global.html#dodge">dodge</a></div><div class="sidebar-section-children"><a href="global.html#featurecollection">featurecollection</a></div><div class="sidebar-section-children"><a href="global.html#footer">footer</a></div><div class="sidebar-section-children"><a href="global.html#geotable">geotable</a></div><div class="sidebar-section-children"><a href="global.html#graticule">graticule</a></div><div class="sidebar-section-children"><a href="global.html#halfcircle">halfcircle</a></div><div class="sidebar-section-children"><a href="global.html#header">header</a></div><div class="sidebar-section-children"><a href="global.html#height">height</a></div><div class="sidebar-section-children"><a href="global.html#merge">merge</a></div><div class="sidebar-section-children"><a href="global.html#mushrooms">mushrooms</a></div><div class="sidebar-section-children"><a href="global.html#north">north</a></div><div class="sidebar-section-children"><a href="global.html#outline">outline</a></div><div class="sidebar-section-children"><a href="global.html#path">path</a></div><div class="sidebar-section-children"><a href="global.html#plot">plot</a></div><div class="sidebar-section-children"><a href="global.html#proj4d3">proj4d3</a></div><div class="sidebar-section-children"><a href="global.html#project">project</a></div><div class="sidebar-section-children"><a href="global.html#radialGradient">radialGradient</a></div><div class="sidebar-section-children"><a href="global.html#radius">radius</a></div><div class="sidebar-section-children"><a href="global.html#random">random</a></div><div class="sidebar-section-children"><a href="global.html#render">render</a></div><div class="sidebar-section-children"><a href="global.html#replicate">replicate</a></div><div class="sidebar-section-children"><a href="global.html#rewind">rewind</a></div><div class="sidebar-section-children"><a href="global.html#ridge">ridge</a></div><div class="sidebar-section-children"><a href="global.html#scalebar">scalebar</a></div><div class="sidebar-section-children"><a href="global.html#shadow">shadow</a></div><div class="sidebar-section-children"><a href="global.html#spike">spike</a></div><div class="sidebar-section-children"><a href="global.html#spikes">spikes</a></div><div class="sidebar-section-children"><a href="global.html#text">text</a></div><div class="sidebar-section-children"><a href="global.html#tile">tile</a></div><div class="sidebar-section-children"><a href="global.html#type_choro">type_choro</a></div><div class="sidebar-section-children"><a href="global.html#typo">typo</a></div><div class="sidebar-section-children"><a href="global.html#typo_horizontal">typo_horizontal</a></div><div class="sidebar-section-children"><a href="global.html#typo_vertical">typo_vertical</a></div><div class="sidebar-section-children"><a href="global.html#unproject">unproject</a></div></div></div><div class="mobile-navbar-actions"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#light-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div></div></div></div><script type="text/javascript" src="scripts/core.min.js"></script><script src="scripts/search.min.js" defer="defer"></script><script src="scripts/third-party/fuse.js" defer="defer"></script><script type="text/javascript">var tocbotInstance=tocbot.init({tocSelector:"#eed4d2a0bfd64539bb9df78095dec881",contentSelector:".main-content",headingSelector:"h1, h2, h3",hasInnerContainers:!0,scrollContainer:".main-content",headingsOffset:130,onClick:bringLinkToView})</script></body></html>