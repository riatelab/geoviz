<!DOCTYPE html><html lang="en" style="font-size:16px"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="author" content="Nicolas Lambert"><title>Global</title><!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]--><script src="scripts/third-party/hljs.js" defer="defer"></script><script src="scripts/third-party/hljs-line-num.js" defer="defer"></script><script src="scripts/third-party/popper.js" defer="defer"></script><script src="scripts/third-party/tippy.js" defer="defer"></script><script src="scripts/third-party/tocbot.min.js"></script><script>var baseURL="/",locationPathname="";baseURL=(locationPathname=document.location.pathname).substr(0,locationPathname.lastIndexOf("/")+1)</script><link rel="stylesheet" href="styles/clean-jsdoc-theme.min.css"><svg aria-hidden="true" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:none"><defs><symbol id="copy-icon" viewbox="0 0 488.3 488.3"><g><path d="M314.25,85.4h-227c-21.3,0-38.6,17.3-38.6,38.6v325.7c0,21.3,17.3,38.6,38.6,38.6h227c21.3,0,38.6-17.3,38.6-38.6V124    C352.75,102.7,335.45,85.4,314.25,85.4z M325.75,449.6c0,6.4-5.2,11.6-11.6,11.6h-227c-6.4,0-11.6-5.2-11.6-11.6V124    c0-6.4,5.2-11.6,11.6-11.6h227c6.4,0,11.6,5.2,11.6,11.6V449.6z"/><path d="M401.05,0h-227c-21.3,0-38.6,17.3-38.6,38.6c0,7.5,6,13.5,13.5,13.5s13.5-6,13.5-13.5c0-6.4,5.2-11.6,11.6-11.6h227    c6.4,0,11.6,5.2,11.6,11.6v325.7c0,6.4-5.2,11.6-11.6,11.6c-7.5,0-13.5,6-13.5,13.5s6,13.5,13.5,13.5c21.3,0,38.6-17.3,38.6-38.6    V38.6C439.65,17.3,422.35,0,401.05,0z"/></g></symbol><symbol id="search-icon" viewBox="0 0 512 512"><g><g><path d="M225.474,0C101.151,0,0,101.151,0,225.474c0,124.33,101.151,225.474,225.474,225.474    c124.33,0,225.474-101.144,225.474-225.474C450.948,101.151,349.804,0,225.474,0z M225.474,409.323    c-101.373,0-183.848-82.475-183.848-183.848S124.101,41.626,225.474,41.626s183.848,82.475,183.848,183.848    S326.847,409.323,225.474,409.323z"/></g></g><g><g><path d="M505.902,476.472L386.574,357.144c-8.131-8.131-21.299-8.131-29.43,0c-8.131,8.124-8.131,21.306,0,29.43l119.328,119.328    c4.065,4.065,9.387,6.098,14.715,6.098c5.321,0,10.649-2.033,14.715-6.098C514.033,497.778,514.033,484.596,505.902,476.472z"/></g></g></symbol><symbol id="font-size-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11.246 15H4.754l-2 5H.6L7 4h2l6.4 16h-2.154l-2-5zm-.8-2L8 6.885 5.554 13h4.892zM21 12.535V12h2v8h-2v-.535a4 4 0 1 1 0-6.93zM19 18a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></symbol><symbol id="add-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"/></symbol><symbol id="minus-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M5 11h14v2H5z"/></symbol><symbol id="dark-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M10 7a7 7 0 0 0 12 4.9v.1c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2h.1A6.979 6.979 0 0 0 10 7zm-6 5a8 8 0 0 0 15.062 3.762A9 9 0 0 1 8.238 4.938 7.999 7.999 0 0 0 4 12z"/></symbol><symbol id="light-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"/></symbol><symbol id="reset-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M18.537 19.567A9.961 9.961 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10c0 2.136-.67 4.116-1.81 5.74L17 12h3a8 8 0 1 0-2.46 5.772l.997 1.795z"/></symbol><symbol id="down-icon" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path></symbol><symbol id="codepen-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M16.5 13.202L13 15.535v3.596L19.197 15 16.5 13.202zM14.697 12L12 10.202 9.303 12 12 13.798 14.697 12zM20 10.869L18.303 12 20 13.131V10.87zM19.197 9L13 4.869v3.596l3.5 2.333L19.197 9zM7.5 10.798L11 8.465V4.869L4.803 9 7.5 10.798zM4.803 15L11 19.131v-3.596l-3.5-2.333L4.803 15zM4 13.131L5.697 12 4 10.869v2.262zM2 9a1 1 0 0 1 .445-.832l9-6a1 1 0 0 1 1.11 0l9 6A1 1 0 0 1 22 9v6a1 1 0 0 1-.445.832l-9 6a1 1 0 0 1-1.11 0l-9-6A1 1 0 0 1 2 15V9z"/></symbol><symbol id="close-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"/></symbol><symbol id="menu-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z"/></symbol></defs></svg></head><body data-theme="dark"><div class="sidebar-container"><div class="sidebar" id="sidebar"><a href="/" class="sidebar-title sidebar-title-anchor">Home</a><div class="sidebar-items-container"><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-global"><div>Global</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="global.html#circle">circle</a></div><div class="sidebar-section-children"><a href="global.html#create">create</a></div><div class="sidebar-section-children"><a href="global.html#effect/blur">effect/blur</a></div><div class="sidebar-section-children"><a href="global.html#effect/clipPath">effect/clipPath</a></div><div class="sidebar-section-children"><a href="global.html#effect/radialGradient">effect/radialGradient</a></div><div class="sidebar-section-children"><a href="global.html#effect/shadow">effect/shadow</a></div><div class="sidebar-section-children"><a href="global.html#footer">footer</a></div><div class="sidebar-section-children"><a href="global.html#graticule">graticule</a></div><div class="sidebar-section-children"><a href="global.html#halfcircle">halfcircle</a></div><div class="sidebar-section-children"><a href="global.html#header">header</a></div><div class="sidebar-section-children"><a href="global.html#legend/box">legend/box</a></div><div class="sidebar-section-children"><a href="global.html#legend/choro_horizontal">legend/choro_horizontal</a></div><div class="sidebar-section-children"><a href="global.html#legend/choro_vertical">legend/choro_vertical</a></div><div class="sidebar-section-children"><a href="global.html#legend/circles">legend/circles</a></div><div class="sidebar-section-children"><a href="global.html#legend/circles_half">legend/circles_half</a></div><div class="sidebar-section-children"><a href="global.html#legend/circles_nested">legend/circles_nested</a></div><div class="sidebar-section-children"><a href="global.html#legend/mushrooms">legend/mushrooms</a></div><div class="sidebar-section-children"><a href="global.html#legend/spikes">legend/spikes</a></div><div class="sidebar-section-children"><a href="global.html#legend/squares">legend/squares</a></div><div class="sidebar-section-children"><a href="global.html#legend/squares_nested">legend/squares_nested</a></div><div class="sidebar-section-children"><a href="global.html#legend/typo_horizontal">legend/typo_horizontal</a></div><div class="sidebar-section-children"><a href="global.html#legend/typo_vertical">legend/typo_vertical</a></div><div class="sidebar-section-children"><a href="global.html#north">north</a></div><div class="sidebar-section-children"><a href="global.html#outline">outline</a></div><div class="sidebar-section-children"><a href="global.html#path">path</a></div><div class="sidebar-section-children"><a href="global.html#plot">plot</a></div><div class="sidebar-section-children"><a href="global.html#plot/choro">plot/choro</a></div><div class="sidebar-section-children"><a href="global.html#plot/prop">plot/prop</a></div><div class="sidebar-section-children"><a href="global.html#plot/propchoro">plot/propchoro</a></div><div class="sidebar-section-children"><a href="global.html#plot/proptypo">plot/proptypo</a></div><div class="sidebar-section-children"><a href="global.html#plot/typo">plot/typo</a></div><div class="sidebar-section-children"><a href="global.html#render">render</a></div><div class="sidebar-section-children"><a href="global.html#scalebar">scalebar</a></div><div class="sidebar-section-children"><a href="global.html#spike">spike</a></div><div class="sidebar-section-children"><a href="global.html#square">square</a></div><div class="sidebar-section-children"><a href="global.html#text">text</a></div><div class="sidebar-section-children"><a href="global.html#tile">tile</a></div><div class="sidebar-section-children"><a href="global.html#tool/addonts">tool/addonts</a></div><div class="sidebar-section-children"><a href="global.html#tool/centroid">tool/centroid</a></div><div class="sidebar-section-children"><a href="global.html#tool/choro">tool/choro</a></div><div class="sidebar-section-children"><a href="global.html#tool/dissolve">tool/dissolve</a></div><div class="sidebar-section-children"><a href="global.html#tool/dodge">tool/dodge</a></div><div class="sidebar-section-children"><a href="global.html#tool/featurecollection">tool/featurecollection</a></div><div class="sidebar-section-children"><a href="global.html#tool/geotable">tool/geotable</a></div><div class="sidebar-section-children"><a href="global.html#tool/height">tool/height</a></div><div class="sidebar-section-children"><a href="global.html#tool/merge">tool/merge</a></div><div class="sidebar-section-children"><a href="global.html#tool/proj4d3">tool/proj4d3</a></div><div class="sidebar-section-children"><a href="global.html#tool/project">tool/project</a></div><div class="sidebar-section-children"><a href="global.html#tool/radius">tool/radius</a></div><div class="sidebar-section-children"><a href="global.html#tool/random">tool/random</a></div><div class="sidebar-section-children"><a href="global.html#tool/replicate">tool/replicate</a></div><div class="sidebar-section-children"><a href="global.html#tool/rewind">tool/rewind</a></div><div class="sidebar-section-children"><a href="global.html#tool/ridge">tool/ridge</a></div><div class="sidebar-section-children"><a href="global.html#tool/typo">tool/typo</a></div><div class="sidebar-section-children"><a href="global.html#tool/unproject">tool/unproject</a></div></div></div></div></div><div class="navbar-container" id="VuAckcnZhf"><nav class="navbar"><div class="navbar-left-items"><div class="navbar-item"><a id="" href="https://github.com/riatelab/geoviz" target="_blank">Github</a></div><div class="navbar-item"><a id="" href="https://github.com/riatelab/geoviz/issuesz" target="_blank">Issues</a></div><div class="navbar-item"><a id="" href="https://observablehq.com/@neocartocnrs/geoviz" target="_blank">Demo</a></div><div class="navbar-item"><a id="" href="https://neocartocnrs.observablehq.cloud/cv/" target="_blank">Maintainer</a></div></div><div class="navbar-right-items"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#light-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div></div><nav></nav></nav></div><div class="toc-container"><div class="toc-content"><span class="bold">On this page</span><div id="eed4d2a0bfd64539bb9df78095dec881"></div></div></div><div class="body-wrapper"><div class="main-content"><div class="main-wrapper"><section><article><div class="container-overview"></div><h2 id="methods" class="subsection-title has-anchor">Methods</h2><h3 class="name has-anchor" id="circle"><span class="type-signature"></span>circle<span class="signature">()</span></h3><div class="description"><p>The <code>circle</code> function allows to add circles on a map. The function adds a layer to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>GeoJSON FeatureCollection</p></td></tr><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>id of the layer</p></td></tr><tr><td class="name"><code>pos</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="attributes">&lt;optional><br></td><td class="default">[0,0]</td><td class="description last"><p>position of the circle to display a single circle</p></td></tr><tr><td class="name"><code>r</code></td><td class="type"><span class="param-type">number</span> |<wbr> <span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">10</td><td class="description last"><p>a number or the name of a property containing numerical values</p></td></tr><tr><td class="name"><code>k</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">50</td><td class="description last"><p>radius of the largest circle (or corresponding to the value defined by <code>fixmax</code>)</p></td></tr><tr><td class="name"><code>fixmax</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">null</td><td class="description last"><p>value matching the circle with radius <code>k</code>. Setting this value is useful for making maps comparable with each other</p></td></tr><tr><td class="name"><code>dodge</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">false</td><td class="description last"><p>to avoid circle overlap</p></td></tr><tr><td class="name"><code>iteration</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">200</td><td class="description last"><p>number of iteration to dodge circles</p></td></tr><tr><td class="name"><code>sort</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>the field to sort circles or a sort function</p></td></tr><tr><td class="name"><code>descending</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>circle sorting order</p></td></tr><tr><td class="name"><code>coords</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"geo"</td><td class="description last"><p>use &quot;svg&quot; if the coordinates are already in the plan of the svg document</p></td></tr><tr><td class="name"><code>fill</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>fill color. To create choropleth maps or typologies, use the <code>tool.choro</code> and <code>tool.typo</code> functions</p></td></tr><tr><td class="name"><code>stroke</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="attributes">&lt;optional><br></td><td class="default">"white"</td><td class="description last"><p>stroke color. To create choropleth maps or typologies, use the <code>tool.choro</code> and <code>tool.typo</code> functions</p></td></tr><tr><td class="name"><code>tip</code></td><td class="type"><span class="param-type">boolean</span> |<wbr> <span class="param-type">function</span></td><td class="attributes">&lt;optional><br></td><td class="default">false</td><td class="description last"><p>a function to display the tip. Use true tu display all fields</p></td></tr><tr><td class="name"><code>view</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>use true and viewof in Observable for this layer to act as Input</p></td></tr><tr><td class="name"><code>tipstyle</code></td><td class="type"><span class="param-type">object</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>tooltip style</p></td></tr><tr><td class="name"><code>*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>other SVG attributes that can be applied (strokeDasharray, strokeWidth, opacity, strokeLinecap...)</em></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="mark_circle.js.html">mark/circle.js</a>, <a href="mark_circle.js.html#line26">line 26</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/circle-mark">https://observablehq.com/@neocartocnrs/circle-mark</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.circle(svg, { pos: [10,20], r: 15 }) // a single circle
geoviz.circle(svg, { data: cities, r: "population" }) // where svg is the container
svg.circle({ data: cities, r: "population" }) // where svg is the container
svg.plot({ type: "circle", data: cities, r: "population" }) // where svg is the container
geoviz.circle({ data: cities, r: "population" }) // no container
geoviz.plot({ type = "circle", data: cities, r: "population" }) // no container</code></pre></div></div><h3 class="name has-anchor" id="create"><span class="type-signature"></span>create<span class="signature">()</span></h3><div class="description"><p>The <code>create</code> function is the first step in map construction. It creates an svg container + some information about this container:<code>projection</code>, <code>margin</code>, <code>width</code>, <code>height</code> and <code>bbox</code>.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>width</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">1000</td><td class="description last"><p>width of the container.</p></td></tr><tr><td class="name"><code>height</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>height of the container. This value is automatically calculated according to <code>domain</code>. But it can be forced by entering a value.</p></td></tr><tr><td class="name"><code>domain</code></td><td class="type"><span class="param-type">object</span> |<wbr> <span class="param-type">Array.&lt;object></span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>the domain corresponds to the geographical area to be displayed. It is defined by a geoJSON or an array containing geoJSONs.</p></td></tr><tr><td class="name"><code>projection</code></td><td class="type"><span class="param-type">function</span> |<wbr> <span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>d3 function of projection. See <a href="https://github.com/d3/d3-geo">d3-geo</a> &amp; <a href="https://github.com/d3/d3-geo-projection">d3-geo-projection</a>. You can aslo write &quot;mercator&quot; to use tiles. (default: &quot;none&quot;)</p></td></tr><tr><td class="name"><code>pos</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>position of the container (if contained in another svg container)</p></td></tr><tr><td class="name"><code>background</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>background color</p></td></tr><tr><td class="name"><code>fontFamily</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>font-family for the entire map</p></td></tr><tr><td class="name"><code>margin</code></td><td class="type"><span class="param-type">number</span> |<wbr> <span class="param-type">Array.&lt;number></span></td><td class="attributes">&lt;optional><br></td><td class="default">0</td><td class="description last"><p>margins around the map. A number to set the same margin everywhere or an array [top, right, bottom, left] to set different margins.</p></td></tr><tr><td class="name"><code>parent</code></td><td class="type"><span class="param-type">object</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>name of parent container into which this child container is to be included. In this case, the options.pos parameter is also used.</p></td></tr><tr><td class="name"><code>zoomable</code></td><td class="type"><span class="param-type">boolean</span> |<wbr> <span class="param-type">number</span> |<wbr> <span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>activates the map zoom function. If you set an array of 2 values, it defines the scaleExtent (default: [1,8]). Use &quot;versor&quot; to activate <a href="https://github.com/d3/versor">versor zoom</a>. &quot;versor&quot; is only available for vector geometries in wgs84.</p></td></tr><tr><td class="name"><code>control</code></td><td class="type"><span class="param-type">boolean</span> |<wbr> <span class="param-type">Array.&lt;number></span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>If zoomable is enabled, set the control parameter as true displays control buttons to zoom on the map. You can also define an array of 2 values to locate the panel in the position you want (e.g. [100, 200]). This setting is not available with the Versor zoom.</p></td></tr><tr><td class="name"><code>warning</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">true</td><td class="description last"><p>display or not warnings on the map</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="container_create.js.html">container/create.js</a>, <a href="container_create.js.html#line50">line 50</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/geoviz">https://observablehq.com/@neocartocnrs/geoviz</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>let svg = geoviz.create({width: 500, background: "lightblue"})</code></pre></div></div><h3 class="name has-anchor" id="effect/blur"><span class="type-signature"></span>effect/blur<span class="signature">()</span></h3><div class="description"><p>The <code>blur</code> function allows to create a svg blur filter. It adds a filter to the defs and returns the id like <code>&quot;url(#id)&quot;</code>.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>id</p></td></tr><tr><td class="name"><code>stdDeviation</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">1.5</td><td class="description last"><p>standard deviation</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="effect_blur.js.html">effect/blur.js</a>, <a href="effect_blur.js.html#line3">line 3</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/effect">https://observablehq.com/@neocartocnrs/effect</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.effect.blur(svg, { stdDeviation: 0, id: "blur" }) // where svg is the container
svg.effect.blur({ stdDeviation: 0, id: "blur" }) // where svg is the container
svg.plot({ type: "blur", stdDeviation: 0, id: "blur" }) // where svg is the container</code></pre></div></div><h3 class="name has-anchor" id="effect/clipPath"><span class="type-signature"></span>effect/clipPath<span class="signature">()</span></h3><div class="description"><p>The <code>clipPath</code> function allows to create a clip layer. The function adds a clip layer to the SVG container and returns the id like <code>&quot;url(#id)&quot;</code>. WARNING - the clip is valid for the entireweb page, not just the map</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>clip id.</p></td></tr><tr><td class="name"><code>datum</code></td><td class="type"><span class="param-type">object</span></td><td class="attributes">&lt;optional><br></td><td class="default">{ type: "Sphere" }</td><td class="description last"><p>datum to clip</p></td></tr><tr><td class="name"><code>permanent</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">false</td><td class="description last"><p>boolean to have ore not a static clippath</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="effect_clippath.js.html">effect/clippath.js</a>, <a href="effect_clippath.js.html#line5">line 5</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/effect">https://observablehq.com/@neocartocnrs/effect</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.effect.clipPath(svg, { datum: world })  // where svg is the container
svg.effect.clipPath({ datum: world })  // where svg is the container
svg.plot({ type:"clipPath", datum: world })  // where svg is the container</code></pre></div></div><h3 class="name has-anchor" id="effect/radialGradient"><span class="type-signature"></span>effect/radialGradient<span class="signature">()</span></h3><div class="description"><p>The <code>radialGradient</code> function allows to create a radialGradient. The function adds a filter to the defs and returns the id like <code>&quot;url(#id)&quot;</code>.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>id</p></td></tr><tr><td class="name"><code>color1</code></td><td class="type"><span class="param-type">Number</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#63b0af"</td><td class="description last"><p>color 1</p></td></tr><tr><td class="name"><code>color2</code></td><td class="type"><span class="param-type">Number</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#428c8b"</td><td class="description last"><p>color 2</p></td></tr><tr><td class="name"><code>offset1</code></td><td class="type"><span class="param-type">Number</span></td><td class="attributes">&lt;optional><br></td><td class="default">50</td><td class="description last"><p>offset 1</p></td></tr><tr><td class="name"><code>offset2</code></td><td class="type"><span class="param-type">Number</span></td><td class="attributes">&lt;optional><br></td><td class="default">100</td><td class="description last"><p>offset 2</p></td></tr><tr><td class="name"><code>fx</code></td><td class="type"><span class="param-type">Number</span></td><td class="attributes">&lt;optional><br></td><td class="default">50</td><td class="description last"><p>fx</p></td></tr><tr><td class="name"><code>fy</code></td><td class="type"><span class="param-type">Number</span></td><td class="attributes">&lt;optional><br></td><td class="default">50</td><td class="description last"><p>fy</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="effect_radialgradient.js.html">effect/radialgradient.js</a>, <a href="effect_radialgradient.js.html#line3">line 3</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/effect">https://observablehq.com/@neocartocnrs/effect</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.effect.radialGradient(svg, { id: "radial", color1: "red", color2: "blue" }) // where svg is the container
svg.effect.radialGradient({ id: "radial", color1: "red", color2: "blue" }) // where svg is the container
svg.plot({ type:"radialGradient",  id: "radial", color1: "red", color2: "blue" }) // where svg is the container</code></pre></div></div><h3 class="name has-anchor" id="effect/shadow"><span class="type-signature"></span>effect/shadow<span class="signature">()</span></h3><div class="description"><p>The <code>shadow</code> function allows to create a svg filter. It can be use ta add a shadow effect. The function adds a filter to the defs and returns the id like <code>&quot;url(#id)&quot;</code>.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>id</p></td></tr><tr><td class="name"><code>dx</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">4</td><td class="description last"><p>shift in x</p></td></tr><tr><td class="name"><code>dy</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">4</td><td class="description last"><p>shift in y</p></td></tr><tr><td class="name"><code>fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"black"</td><td class="description last"><p>fill color</p></td></tr><tr><td class="name"><code>fillOpacity</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">0.5</td><td class="description last"><p>fill-opacity (you can use also opacity)</p></td></tr><tr><td class="name"><code>stdDeviation</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">1.5</td><td class="description last"><p>standard deviation</p></td></tr><tr><td class="name"><code>opacity</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">1</td><td class="description last"><p>opacity</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="effect_shadow.js.html">effect/shadow.js</a>, <a href="effect_shadow.js.html#line3">line 3</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/effect">https://observablehq.com/@neocartocnrs/effect</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.effect.shadow(svg, { stdDeviation: 0, id: "blur" }) // where svg is the container
svg.effect.shadow({ stdDeviation: 2, id: "shadow" }) // where svg is the container
svg.plot({type:"shadow", stdDeviation: 2, id: "shadow" }) // where svg is the container</code></pre></div></div><h3 class="name has-anchor" id="footer"><span class="type-signature"></span>footer<span class="signature">()</span></h3><div class="description"><p>The <code>footer</code> function allows add a source below the map. The function adds a layer to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>id of the layer</p></td></tr><tr><td class="name"><code>text</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"Author, source..."</td><td class="description last"><p>text to be displayed</p></td></tr><tr><td class="name"><code>fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#9e9696"</td><td class="description last"><p>text fill</p></td></tr><tr><td class="name"><code>background_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"white"</td><td class="description last"><p>background fill</p></td></tr><tr><td class="name"><code>background_stroke</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"white"</td><td class="description last"><p>background stroke</p></td></tr><tr><td class="name"><code>background_strokeWidth</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">1</td><td class="description last"><p>background stroke-width</p></td></tr><tr><td class="name"><code>dominantBaseline</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"central"</td><td class="description last"><p>text dominant-baseline (&quot;hanging&quot;, &quot;middle&quot;, &quot;central&quot;, &quot;bottom&quot;)</p></td></tr><tr><td class="name"><code>textAnchor</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"middle"</td><td class="description last"><p>text text-anchore (&quot;start&quot;, &quot;middle&quot;, &quot;end&quot;)</p></td></tr><tr><td class="name"><code>lineSpacing</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">0</td><td class="description last"><p>space between lines</p></td></tr><tr><td class="name"><code>margin</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">1</td><td class="description last"><p>margin</p></td></tr><tr><td class="name"><code>fontSize</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">10</td><td class="description last"><p>text font-size</p></td></tr><tr><td class="name"><code>fontFamily</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">fontFamily defined in the contrainer</td><td class="description last"><p>text font-family</p></td></tr><tr><td class="name"><code>dx</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">0</td><td class="description last"><p>shift in x</p></td></tr><tr><td class="name"><code>dy</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">0</td><td class="description last"><p>shift in y</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="mark_footer.js.html">mark/footer.js</a>, <a href="mark_footer.js.html#line5">line 5</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/layout-marks">https://observablehq.com/@neocartocnrs/layout-marks</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.footer(svg, { text: "Hello geoviz" }) // where svg is the container
svg.footer({ text: "Hello geoviz" }) // where svg is the container
svg.plot({ type: "footer", text: "Hello geoviz" }) // where svg is the container
geoviz.footer({ text: "Hello geoviz" }) // no container</code></pre></div></div><h3 class="name has-anchor" id="graticule"><span class="type-signature"></span>graticule<span class="signature">()</span><span class="type-signature"> &rarr; {SVGSVGElement|string}</span></h3><div class="description"><p>The <code>graticule</code> function allows to create a layer with lat/long lines. The function adds a layer to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>id of the layer</p></td></tr><tr><td class="name"><code>step</code></td><td class="type"><span class="param-type">number</span> |<wbr> <span class="param-type">Array.&lt;number></span></td><td class="attributes">&lt;optional><br></td><td class="default">10</td><td class="description last"><p>gap between graticules. The value can be a number or an array of two values</p></td></tr><tr><td class="name"><code>stroke</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#9ad5e6"</td><td class="description last"><p>stroke color</p></td></tr><tr><td class="name"><code>fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"none"</td><td class="description last"><p>fill color</p></td></tr><tr><td class="name"><code>strokeWidth</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">0.8</td><td class="description last"><p>stroke width</p></td></tr><tr><td class="name"><code>strokeLinecap</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"square"</td><td class="description last"><p>stroke-inecap</p></td></tr><tr><td class="name"><code>strokeLinejoin</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"round"</td><td class="description last"><p>stroke-Linejoin</p></td></tr><tr><td class="name"><code>strokeDasharray</code></td><td class="type"><span class="param-type">number</span> |<wbr> <span class="param-type">Array.&lt;number></span></td><td class="attributes">&lt;optional><br></td><td class="default">2</td><td class="description last"><p>stroke-dasharray (default: 2)</p></td></tr><tr><td class="name"><code>*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>other attributes that can be used to define the svg style (strokeDasharray, strokeWidth, opacity, strokeLinecap...)</em></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="mark_graticule.js.html">mark/graticule.js</a>, <a href="mark_graticule.js.html#line7">line 7</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/layout-marks">https://observablehq.com/@neocartocnrs/layout-marks</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>the function adds a layer with graticule lines to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">SVGSVGElement</span> |<wbr> <span class="param-type">string</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.graticule(svg, { step: 2 }) // where svg is the container
svg.graticule({ step: [10,2] }) // where svg is the container
svg.plot({ type: "graticule", step: [10,2] }) // where svg is the container
geoviz.graticule({ step: 2 }) // no container</code></pre></div></div><h3 class="name has-anchor" id="halfcircle"><span class="type-signature"></span>halfcircle<span class="signature">()</span></h3><div class="description"><p>The <code>halfcircle</code> function allows to create a layer with rotable half-circles from a geoJSON. The function adds a layer to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>GeoJSON FeatureCollection</p></td></tr><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>id of the layer</p></td></tr><tr><td class="name"><code>pos</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="attributes">&lt;optional><br></td><td class="default">[0,0]</td><td class="description last"><p>position of the half-circle to display a single circle</p></td></tr><tr><td class="name"><code>dx</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">0</td><td class="description last"><p>shift in x</p></td></tr><tr><td class="name"><code>dy</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">0</td><td class="description last"><p>shift in y</p></td></tr><tr><td class="name"><code>angle</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">0</td><td class="description last"><p>angle of the half circle</p></td></tr><tr><td class="name"><code>r</code></td><td class="type"><span class="param-type">number</span> |<wbr> <span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">10</td><td class="description last"><p>a number or the name of a property containing numerical values</p></td></tr><tr><td class="name"><code>innerRadius</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">10</td><td class="description last"><p>inner radius</p></td></tr><tr><td class="name"><code>cornerRadius</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">2</td><td class="description last"><p>corner radius</p></td></tr><tr><td class="name"><code>k</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">50</td><td class="description last"><p>radius of the largest half-circle (or corresponding to the value defined by <code>fixmax</code>)</p></td></tr><tr><td class="name"><code>fixmax</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>value matching the half-circle with radius <code>k</code>. Setting this value is useful for making maps comparable with each other</p></td></tr><tr><td class="name"><code>sort</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>the field to sort circles or a sort function</p></td></tr><tr><td class="name"><code>descending</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>circle sorting order</p></td></tr><tr><td class="name"><code>coords</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"geo"</td><td class="description last"><p>use &quot;svg&quot; if the coordinates are already in the plan of the svg document</p></td></tr><tr><td class="name"><code>fill</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>fill color. To create choropleth maps or typologies, use the <code>tool.choro</code> and <code>tool.typo</code> functions</p></td></tr><tr><td class="name"><code>stroke</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>stroke color. To create choropleth maps or typologies, use the <code>tool.choro</code> and <code>tool.typo</code> functions</p></td></tr><tr><td class="name"><code>tip</code></td><td class="type"><span class="param-type">boolean</span> |<wbr> <span class="param-type">function</span></td><td class="attributes">&lt;optional><br></td><td class="default">false</td><td class="description last"><p>a function to display the tip. Use true tu display all fields</p></td></tr><tr><td class="name"><code>view</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">false</td><td class="description last"><p>use true and viewof in Observable for this layer to act as Input</p></td></tr><tr><td class="name"><code>tipstyle</code></td><td class="type"><span class="param-type">object</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>tooltip style</p></td></tr><tr><td class="name"><code>*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>other SVG attributes that can be applied (strokeDasharray, strokeWidth, opacity, strokeLinecap...)</em></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="mark_halfcircle.js.html">mark/halfcircle.js</a>, <a href="mark_halfcircle.js.html#line27">line 27</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/circle-mark">https://observablehq.com/@neocartocnrs/circle-mark</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.halfcircle(svg, { pos: [10,20], r: 15 }) // a single half-circle
geoviz.halfcircle(svg, { data: cities, r: "population" }) // where svg is the container
svg.halfcircle({ data: cities, r: "population" }) // where svg is the container
svg.plot({ type: "halfcircle", data: cities, r: "population" }) // where svg is the container
geoviz.halfcircle({ data: cities, r: "population" }) // no container</code></pre></div></div><h3 class="name has-anchor" id="header"><span class="type-signature"></span>header<span class="signature">()</span></h3><div class="description"><p>The <code>header</code> function allows add a title above the map. The function adds a layer to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>id of the layer</p></td></tr><tr><td class="name"><code>text</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"Map title"</td><td class="description last"><p>text to be displayed</p></td></tr><tr><td class="name"><code>fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#9e9696"</td><td class="description last"><p>text fill</p></td></tr><tr><td class="name"><code>background_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"white"</td><td class="description last"><p>background fill</p></td></tr><tr><td class="name"><code>background_stroke</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"white"</td><td class="description last"><p>background stroke</p></td></tr><tr><td class="name"><code>background_strokeWidth</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">1</td><td class="description last"><p>background stroke-width</p></td></tr><tr><td class="name"><code>dominantBaseline</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"central"</td><td class="description last"><p>text dominant-baseline (&quot;hanging&quot;, &quot;middle&quot;, &quot;central&quot;, &quot;bottom&quot;)</p></td></tr><tr><td class="name"><code>textAnchor</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"middle"</td><td class="description last"><p>text text-anchore (&quot;start&quot;, &quot;middle&quot;, &quot;end&quot;)</p></td></tr><tr><td class="name"><code>lineSpacing</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">0</td><td class="description last"><p>space between lines</p></td></tr><tr><td class="name"><code>margin</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">8</td><td class="description last"><p>margin</p></td></tr><tr><td class="name"><code>fontSize</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">26</td><td class="description last"><p>text font-size</p></td></tr><tr><td class="name"><code>fontFamily</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">fontFamily defined in the contrainer</td><td class="description last"><p>text font-family</p></td></tr><tr><td class="name"><code>dx</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">0</td><td class="description last"><p>shift in x</p></td></tr><tr><td class="name"><code>dy</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">0</td><td class="description last"><p>shift in y</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="mark_header.js.html">mark/header.js</a>, <a href="mark_header.js.html#line5">line 5</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/layout-marks">https://observablehq.com/@neocartocnrs/layout-marks</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.header(svg, { text: "Hello geoviz" }) // where svg is the container
svg.header({ text: "Hello geoviz" }) // where svg is the container
svg.plot({ type: "header",text: "Hello geoviz" }) // where svg is the container
geoviz.header({ text: "Hello geoviz" }) // no container</code></pre></div></div><h3 class="name has-anchor" id="legend/box"><span class="type-signature"></span>legend/box<span class="signature">()</span></h3><div class="description"><p>The <code>legend.box</code> function allows to add a box legend on a map. The function adds a legend layer to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>unique id</p></td></tr><tr><td class="name"><code>pos</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="attributes">&lt;optional><br></td><td class="default">[0,0]</td><td class="description last"><p>legend position</p></td></tr><tr><td class="name"><code>gap</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">2</td><td class="description last"><p>gap between elements</p></td></tr><tr><td class="name"><code>rect_width</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">25</td><td class="description last"><p>width of the box</p></td></tr><tr><td class="name"><code>rect_height</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">17</td><td class="description last"><p>height of the box</p></td></tr><tr><td class="name"><code>rect_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#5d6266"</td><td class="description last"><p>box color</p></td></tr><tr><td class="name"><code>rect_stroke</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#303030"</td><td class="description last"><p>stroke color</p></td></tr><tr><td class="name"><code>rect_strokeWidth</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">0.1</td><td class="description last"><p>stroke width</p></td></tr><tr><td class="name"><code>rect_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>other SVG attributes that can be applied on this rect element (strokeDasharray, strokeWidth, opacity, strokeLinecap...)</em></p></td></tr><tr><td class="name"><code>label</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>text diplayed</p></td></tr><tr><td class="name"><code>label_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>text color</p></td></tr><tr><td class="name"><code>label_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">10</td><td class="description last"><p>text size</p></td></tr><tr><td class="name"><code>label_dx</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">5</td><td class="description last"><p>dx</p></td></tr><tr><td class="name"><code>label_dominantBaseline</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"central"</td><td class="description last"><p>dominant-baseline</p></td></tr><tr><td class="name"><code>label_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element (fill, fontize...)</em></p></td></tr><tr><td class="name"><code>title</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"Legend"</td><td class="description last"><p>title of the legend</p></td></tr><tr><td class="name"><code>title_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>title color</p></td></tr><tr><td class="name"><code>title_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">16</td><td class="description last"><p>title font size</p></td></tr><tr><td class="name"><code>title_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>subtitle</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>subtitle of the legend</p></td></tr><tr><td class="name"><code>subtitle_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>subtitle color</p></td></tr><tr><td class="name"><code>subtitle_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">12</td><td class="description last"><p>subtitle font size</p></td></tr><tr><td class="name"><code>subtitle_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>note</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>note displayed above the legend</p></td></tr><tr><td class="name"><code>note_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>note color</p></td></tr><tr><td class="name"><code>note_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">1O</td><td class="description last"><p>note font size</p></td></tr><tr><td class="name"><code>note_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>frame</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">false</td><td class="description last"><p>frame around the legend</p></td></tr><tr><td class="name"><code>frame_margin</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">15</td><td class="description last"><p>frame margin</p></td></tr><tr><td class="name"><code>frame_fill</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">"white"</td><td class="description last"><p>frame fill</p></td></tr><tr><td class="name"><code>frame_stroke</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">"black"</td><td class="description last"><p>frame fill</p></td></tr><tr><td class="name"><code>frame_fillOpacity</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">0.5</td><td class="description last"><p>frame fill-opacity</p></td></tr><tr><td class="name"><code>frame_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this frame element (rect)</em></p></td></tr><tr><td class="name"><code>text_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied directly on all text elements of this legend</em></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="legend_box.js.html">legend/box.js</a>, <a href="legend_box.js.html#line16">line 16</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/legends">https://observablehq.com/@neocartocnrs/legends</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.legend.box(svg, { pos: [10,20], label:"hello" }) // where svg is the container
svg.legend.box(s{ pos: [10,20], label:"hello" }) // where svg is the container
svg.legend.box({type:"leg_box", pos: [10,20], label:"hello" }) // where svg is the container
geoviz.legend.box({ label:"hello" }) // no container</code></pre></div></div><h3 class="name has-anchor" id="legend/choro_horizontal"><span class="type-signature"></span>legend/choro_horizontal<span class="signature">()</span></h3><div class="description"><p>The <code>legend.choro_horizontal</code> function allows to add an horizontal legend on a map for choropleth layers. The function adds a legend layer to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>unique id</p></td></tr><tr><td class="name"><code>pos</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="attributes">&lt;optional><br></td><td class="default">[0,0]</td><td class="description last"><p>legend position</p></td></tr><tr><td class="name"><code>gap</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">2</td><td class="description last"><p>gap between elements</p></td></tr><tr><td class="name"><code>breaks</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="attributes">&lt;optional><br></td><td class="default">[1, 2, 3, 4, 5]</td><td class="description last"><p>breaks</p></td></tr><tr><td class="name"><code>colors</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="attributes">&lt;optional><br></td><td class="default">["#fee5d9", "#fcae91", "#fb6a4a", "#cb181d"]</td><td class="description last"><p>colors</p></td></tr><tr><td class="name"><code>rect_width</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">50</td><td class="description last"><p>width of the box</p></td></tr><tr><td class="name"><code>rect_height</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">14</td><td class="description last"><p>height of the box</p></td></tr><tr><td class="name"><code>rect_spacing</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">0</td><td class="description last"><p>spacing between boxes</p></td></tr><tr><td class="name"><code>rect_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#5d6266"</td><td class="description last"><p>box color</p></td></tr><tr><td class="name"><code>rect_stroke</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#303030"</td><td class="description last"><p>stroke color</p></td></tr><tr><td class="name"><code>rect_strokeWidth</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">0.1</td><td class="description last"><p>stroke width</p></td></tr><tr><td class="name"><code>rect_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>other SVG attributes that can be applied on this rect element (strokeDasharray, strokeWidth, opacity, strokeLinecap...)</em></p></td></tr><tr><td class="name"><code>values_textAnchor</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"middle"</td><td class="description last"><p>text-anchor</p></td></tr><tr><td class="name"><code>values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">0</td><td class="description last"><p>shift in x</p></td></tr><tr><td class="name"><code>values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">5</td><td class="description last"><p>shift in y</p></td></tr><tr><td class="name"><code>values_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">10</td><td class="description last"><p>text size</p></td></tr><tr><td class="name"><code>values_fill</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>fill</p></td></tr><tr><td class="name"><code>values_fontSize</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">1</td><td class="description last"><p>fontSize</p></td></tr><tr><td class="name"><code>values_factor</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">1</td><td class="description last"><p>allow to multiply values to display in the legend. e.g 0.001 to convert into thousands</p></td></tr><tr><td class="name"><code>values_decimal</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"."</td><td class="description last"><p>separator for decimals</p></td></tr><tr><td class="name"><code>values_thousands</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">" "</td><td class="description last"><p>separator for thousands</p></td></tr><tr><td class="name"><code>title</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"Legend"</td><td class="description last"><p>title of the legend</p></td></tr><tr><td class="name"><code>title_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>title color</p></td></tr><tr><td class="name"><code>title_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">16</td><td class="description last"><p>title font size</p></td></tr><tr><td class="name"><code>title_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>subtitle</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>subtitle of the legend</p></td></tr><tr><td class="name"><code>subtitle_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>subtitle color</p></td></tr><tr><td class="name"><code>subtitle_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">12</td><td class="description last"><p>subtitle font size</p></td></tr><tr><td class="name"><code>subtitle_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>note</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>note displayed above the legend</p></td></tr><tr><td class="name"><code>note_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>note color</p></td></tr><tr><td class="name"><code>note_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">1O</td><td class="description last"><p>note font size</p></td></tr><tr><td class="name"><code>note_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>frame</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">false</td><td class="description last"><p>frame around the legend</p></td></tr><tr><td class="name"><code>frame_margin</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">15</td><td class="description last"><p>frame margin</p></td></tr><tr><td class="name"><code>frame_fill</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">"white"</td><td class="description last"><p>frame fill</p></td></tr><tr><td class="name"><code>frame_stroke</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">"black"</td><td class="description last"><p>frame fill</p></td></tr><tr><td class="name"><code>frame_fillOpacity</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">0.5</td><td class="description last"><p>frame fill-opacity</p></td></tr><tr><td class="name"><code>frame_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this frame element (rect)</em></p></td></tr><tr><td class="name"><code>text_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied directly on all text elements of this legend</em></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="legend_choro-horizontal.js.html">legend/choro-horizontal.js</a>, <a href="legend_choro-horizontal.js.html#line18">line 18</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/legends">https://observablehq.com/@neocartocnrs/legends</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.legend.choro_horizontal(svg, { pos: [10,20], breaks, colors}) // where svg is the container
svg.legend.choro_horizontal({pos: [10,20], breaks, colors} }) // where svg is the container
svg.plot({type: "leg_choro_horizontal", pos: [10,20], breaks, colors} }) // where svg is the container
geoviz.legend.choro_horizontal({ pos: [10,20], breaks, colors}) // no container</code></pre></div></div><h3 class="name has-anchor" id="legend/choro_vertical"><span class="type-signature"></span>legend/choro_vertical<span class="signature">()</span></h3><div class="description"><p>The <code>legend.choro_vertical</code> function allows to add a vertical legend on a map for choropleth layers. The function adds a legend layer to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>unique id</p></td></tr><tr><td class="name"><code>pos</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="attributes">&lt;optional><br></td><td class="default">[0,0]</td><td class="description last"><p>legend position</p></td></tr><tr><td class="name"><code>gap</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">2</td><td class="description last"><p>gap between elements</p></td></tr><tr><td class="name"><code>breaks</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="attributes">&lt;optional><br></td><td class="default">[1, 2, 3, 4, 5]</td><td class="description last"><p>breaks</p></td></tr><tr><td class="name"><code>colors</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="attributes">&lt;optional><br></td><td class="default">["#fee5d9", "#fcae91", "#fb6a4a", "#cb181d"]</td><td class="description last"><p>colors</p></td></tr><tr><td class="name"><code>rect_width</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">25</td><td class="description last"><p>width of the box</p></td></tr><tr><td class="name"><code>rect_height</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">17</td><td class="description last"><p>height of the box</p></td></tr><tr><td class="name"><code>rect_spacing</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">0</td><td class="description last"><p>spacing between boxes</p></td></tr><tr><td class="name"><code>rect_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#5d6266"</td><td class="description last"><p>box color</p></td></tr><tr><td class="name"><code>rect_stroke</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#303030"</td><td class="description last"><p>stroke color</p></td></tr><tr><td class="name"><code>rect_strokeWidth</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">0.1</td><td class="description last"><p>stroke width</p></td></tr><tr><td class="name"><code>rect_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>other SVG attributes that can be applied on this rect element (strokeDasharray, strokeWidth, opacity, strokeLinecap...)</em></p></td></tr><tr><td class="name"><code>values_textAnchor</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"middle"</td><td class="description last"><p>text-anchor</p></td></tr><tr><td class="name"><code>values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">5</td><td class="description last"><p>shift in x</p></td></tr><tr><td class="name"><code>values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">0</td><td class="description last"><p>shift in y</p></td></tr><tr><td class="name"><code>values_fill</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>fill</p></td></tr><tr><td class="name"><code>values_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">10</td><td class="description last"><p>text size</p></td></tr><tr><td class="name"><code>values_factor</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">1</td><td class="description last"><p>allow to multiply values to display in the legend. e.g 0.001 to convert into thousands</p></td></tr><tr><td class="name"><code>values_decimal</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"."</td><td class="description last"><p>separator for decimals</p></td></tr><tr><td class="name"><code>values_thousands</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">" "</td><td class="description last"><p>separator for thousands</p></td></tr><tr><td class="name"><code>values_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element (fill, fontSize...)</em></p></td></tr><tr><td class="name"><code>title</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"Legend"</td><td class="description last"><p>title of the legend</p></td></tr><tr><td class="name"><code>title_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>title color</p></td></tr><tr><td class="name"><code>title_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">16</td><td class="description last"><p>title font size</p></td></tr><tr><td class="name"><code>title_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>subtitle</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>subtitle of the legend</p></td></tr><tr><td class="name"><code>subtitle_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>subtitle color</p></td></tr><tr><td class="name"><code>subtitle_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">12</td><td class="description last"><p>subtitle font size</p></td></tr><tr><td class="name"><code>subtitle_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>note</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>note displayed above the legend</p></td></tr><tr><td class="name"><code>note_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>note color</p></td></tr><tr><td class="name"><code>note_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">1O</td><td class="description last"><p>note font size</p></td></tr><tr><td class="name"><code>note_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>frame</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">false</td><td class="description last"><p>frame around the legend</p></td></tr><tr><td class="name"><code>frame_margin</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">15</td><td class="description last"><p>frame margin</p></td></tr><tr><td class="name"><code>frame_fill</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">"white"</td><td class="description last"><p>frame fill</p></td></tr><tr><td class="name"><code>frame_stroke</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">"black"</td><td class="description last"><p>frame fill</p></td></tr><tr><td class="name"><code>frame_fillOpacity</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">0.5</td><td class="description last"><p>frame fill-opacity</p></td></tr><tr><td class="name"><code>frame_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this frame element (rect)</em></p></td></tr><tr><td class="name"><code>text_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied directly on all text elements of this legend</em></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="legend_choro-vertical.js.html">legend/choro-vertical.js</a>, <a href="legend_choro-vertical.js.html#line18">line 18</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/legends">https://observablehq.com/@neocartocnrs/legends</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.legend.choro_vertical(svg, { pos: [10,20], breaks, colors}) // where svg is the container
svg.legend.choro_vertical({pos: [10,20], breaks, colors} }) // where svg is the container
svg.plot({type:"leg_choro_vertical", pos: [10,20], breaks, colors} }) // where svg is the container
geoviz.legend.choro_vertical({ pos: [10,20], breaks, colors}) // no container</code></pre></div></div><h3 class="name has-anchor" id="legend/circles"><span class="type-signature"></span>legend/circles<span class="signature">()</span></h3><div class="description"><p>The <code>legend.circles</code> function allows to add an legend for proportional circles. The function adds a legend layer to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>unique id</p></td></tr><tr><td class="name"><code>pos</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="attributes">&lt;optional><br></td><td class="default">[0,0]</td><td class="description last"><p>legend position</p></td></tr><tr><td class="name"><code>gap</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">2</td><td class="description last"><p>gap between elements</p></td></tr><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>input values</p></td></tr><tr><td class="name"><code>k</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">50</td><td class="description last"><p>radius of the largest circle (or corresponding to the value defined by fixmax )</p></td></tr><tr><td class="name"><code>fixmax</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="attributes">&lt;optional><br></td><td class="default">null</td><td class="description last"><p>value matching the circle with radius k . Setting this value is useful for making maps comparable with each other</p></td></tr><tr><td class="name"><code>nb</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">4</td><td class="description last"><p>number of circles</p></td></tr><tr><td class="name"><code>circle_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"none"</td><td class="description last"><p>fill color for the circles</p></td></tr><tr><td class="name"><code>circle_stroke</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>stroke color for the circles</p></td></tr><tr><td class="name"><code>circle_spacing</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">5</td><td class="description last"><p>spacing between circles color for the circles</p></td></tr><tr><td class="name"><code>circle_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>*SVG attributes that can be applied on this circle element *</p></td></tr><tr><td class="name"><code>line_stroke</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>stroke color for the lines</p></td></tr><tr><td class="name"><code>line_strokeDasharray</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">1</td><td class="description last"><p>stroke-dasharray</p></td></tr><tr><td class="name"><code>line_strokeWidth</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">0.7</td><td class="description last"><p>stroke-width</p></td></tr><tr><td class="name"><code>line_length</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">10</td><td class="description last"><p>length of the line</p></td></tr><tr><td class="name"><code>line_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>*SVG attributes that can be applied on this line element *</p></td></tr><tr><td class="name"><code>values_textAnchor</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"start"</td><td class="description last"><p>text-anchor</p></td></tr><tr><td class="name"><code>values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>shift in x (default: 0)</p></td></tr><tr><td class="name"><code>values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>shift in y (default: 5)</p></td></tr><tr><td class="name"><code>values_fill</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>fill</p></td></tr><tr><td class="name"><code>values_fontSize</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">10</td><td class="description last"><p>fontSize</p></td></tr><tr><td class="name"><code>values_factor</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">1</td><td class="description last"><p>allow to multiply values to display in the legend. e.g 0.001 to convert into thousands</p></td></tr><tr><td class="name"><code>values_decimal</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"."</td><td class="description last"><p>separator for decimals</p></td></tr><tr><td class="name"><code>values_thousands</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">" "</td><td class="description last"><p>separator for thousands</p></td></tr><tr><td class="name"><code>title</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"Legend"</td><td class="description last"><p>title of the legend</p></td></tr><tr><td class="name"><code>title_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>title color</p></td></tr><tr><td class="name"><code>title_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">16</td><td class="description last"><p>title font size</p></td></tr><tr><td class="name"><code>title_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>subtitle</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>subtitle of the legend</p></td></tr><tr><td class="name"><code>subtitle_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>subtitle color</p></td></tr><tr><td class="name"><code>subtitle_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">12</td><td class="description last"><p>subtitle font size</p></td></tr><tr><td class="name"><code>subtitle_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>note</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>note displayed above the legend</p></td></tr><tr><td class="name"><code>note_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>note color</p></td></tr><tr><td class="name"><code>note_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">1O</td><td class="description last"><p>note font size</p></td></tr><tr><td class="name"><code>note_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>frame</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">false</td><td class="description last"><p>frame around the legend</p></td></tr><tr><td class="name"><code>frame_margin</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">15</td><td class="description last"><p>frame margin</p></td></tr><tr><td class="name"><code>frame_fill</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">"white"</td><td class="description last"><p>frame fill</p></td></tr><tr><td class="name"><code>frame_stroke</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">"black"</td><td class="description last"><p>frame fill</p></td></tr><tr><td class="name"><code>frame_fillOpacity</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">0.5</td><td class="description last"><p>frame fill-opacity</p></td></tr><tr><td class="name"><code>frame_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this frame element (rect)</em></p></td></tr><tr><td class="name"><code>text_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied directly on all text elements of this legend</em></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="legend_circles.js.html">legend/circles.js</a>, <a href="legend_circles.js.html#line18">line 18</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/legends">https://observablehq.com/@neocartocnrs/legends</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.legend.circles(svg, { pos: [10,20], data, nb:5}) // where svg is the container
svg.legend.circles({pos: [10,20], data, nb: 5} }) // where svg is the container
svg.plot({type: "leg_circles", pos: [10,20], data, nb: 5} }) // where svg is the container
geoviz.legend.circles({ pos: [10,20], data, nb: 5}) // no container</code></pre></div></div><h3 class="name has-anchor" id="legend/circles_half"><span class="type-signature"></span>legend/circles_half<span class="signature">()</span><span class="type-signature"> &rarr; {SVGSVGElement|string}</span></h3><div class="description"><p>The <code>legend.circles_half</code> function allows to add an legend for mushroom maps. The function adds a legend layer to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>unique id</p></td></tr><tr><td class="name"><code>pos</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="attributes">&lt;optional><br></td><td class="default">[0,0]</td><td class="description last"><p>legend position</p></td></tr><tr><td class="name"><code>gap</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">2</td><td class="description last"><p>gap between elements</p></td></tr><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="attributes">&lt;optional><br></td><td class="default">[30, 1000]</td><td class="description last"><p>input values</p></td></tr><tr><td class="name"><code>k</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">50</td><td class="description last"><p>radius of the largest half-circle (or corresponding to the value defined by fixmax ) (default: 50)</p></td></tr><tr><td class="name"><code>fixmax</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="attributes">&lt;optional><br></td><td class="default">null</td><td class="description last"><p>value matching the circle with radius k . Setting this value is useful for making maps comparable with each other</p></td></tr><tr><td class="name"><code>nb</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">4</td><td class="description last"><p>number of half-circles</p></td></tr><tr><td class="name"><code>circle_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"none"</td><td class="description last"><p>fill color for the half-circles</p></td></tr><tr><td class="name"><code>circle_stroke</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">black</td><td class="description last"><p>stroke color for the half-circles</p></td></tr><tr><td class="name"><code>circle_cornerRadius</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">5</td><td class="description last"><p>circle_cornerRadius (default: 5)</p></td></tr><tr><td class="name"><code>circle_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this half-circle element</em></p></td></tr><tr><td class="name"><code>line_stroke</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>stroke color for the lines</p></td></tr><tr><td class="name"><code>line_strokeDasharray</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">1</td><td class="description last"><p>stroke-dasharray</p></td></tr><tr><td class="name"><code>line_strokeWidth</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">0.7</td><td class="description last"><p>stroke-width</p></td></tr><tr><td class="name"><code>line_length</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">10</td><td class="description last"><p>length of the line</p></td></tr><tr><td class="name"><code>line_***</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>*SVG attributes that can be applied on this line element *</p></td></tr><tr><td class="name"><code>values_textAnchor</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"middle"</td><td class="description last"><p>text-anchor</p></td></tr><tr><td class="name"><code>values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">0</td><td class="description last"><p>shift in x</p></td></tr><tr><td class="name"><code>values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">5</td><td class="description last"><p>shift in y</p></td></tr><tr><td class="name"><code>values_fill</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>fill</p></td></tr><tr><td class="name"><code>values_fontSize</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">10</td><td class="description last"><p>fontSize</p></td></tr><tr><td class="name"><code>values_factor</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">1</td><td class="description last"><p>allow to multiply values to display in the legend. e.g 0.001 to convert into thousands</p></td></tr><tr><td class="name"><code>values_decimal</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"."</td><td class="description last"><p>separator for decimals</p></td></tr><tr><td class="name"><code>values_thousands</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">" "</td><td class="description last"><p>separator for thousands</p></td></tr><tr><td class="name"><code>title</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"Legend"</td><td class="description last"><p>title of the legend</p></td></tr><tr><td class="name"><code>title_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>title color</p></td></tr><tr><td class="name"><code>title_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">16</td><td class="description last"><p>title font size</p></td></tr><tr><td class="name"><code>title_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>subtitle</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>subtitle of the legend</p></td></tr><tr><td class="name"><code>subtitle_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>subtitle color</p></td></tr><tr><td class="name"><code>subtitle_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">12</td><td class="description last"><p>subtitle font size</p></td></tr><tr><td class="name"><code>subtitle_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>note</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>note displayed above the legend</p></td></tr><tr><td class="name"><code>note_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>note color</p></td></tr><tr><td class="name"><code>note_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">1O</td><td class="description last"><p>note font size</p></td></tr><tr><td class="name"><code>note_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>frame</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">false</td><td class="description last"><p>frame around the legend</p></td></tr><tr><td class="name"><code>frame_margin</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">15</td><td class="description last"><p>frame margin</p></td></tr><tr><td class="name"><code>frame_fill</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">"white"</td><td class="description last"><p>frame fill</p></td></tr><tr><td class="name"><code>frame_stroke</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">"black"</td><td class="description last"><p>frame fill</p></td></tr><tr><td class="name"><code>frame_fillOpacity</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">0.5</td><td class="description last"><p>frame fill-opacity</p></td></tr><tr><td class="name"><code>frame_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this frame element (rect)</em></p></td></tr><tr><td class="name"><code>text_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied directly on all text elements of this legend</em></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="legend_circles-half.js.html">legend/circles-half.js</a>, <a href="legend_circles-half.js.html#line18">line 18</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/legends">https://observablehq.com/@neocartocnrs/legends</a></li></ul></dd></div></dl><div class="method-member-container mt-20"><strong>Returns:</strong><div class="param-desc"><ul><li>the function adds a layer with a circles_half legend to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</li></ul></div><dl class="param-type"><dt>Type:&nbsp;</dt><dd><span class="param-type">SVGSVGElement</span> |<wbr> <span class="param-type">string</span></dd></dl></div><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.legend.circles_half(svg, { pos: [10,20], data, nb:5}) // where svg is the container
svg.legend.circles_half({pos: [10,20], data, nb: 5} }) // where svg is the container
svg.plot({type: "leg_circles_half", pos: [10,20], data, nb: 5} }) // where svg is the container
geoviz.legend.circles_half({ pos: [10,20], data, nb: 5}) // no container</code></pre></div></div><h3 class="name has-anchor" id="legend/circles_nested"><span class="type-signature"></span>legend/circles_nested<span class="signature">()</span></h3><div class="description"><p>The <code>legend.circles_nested</code> function allows to add an legend for proportional circles. The function adds a legend layer to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>unique id</p></td></tr><tr><td class="name"><code>pos</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="attributes">&lt;optional><br></td><td class="default">[0,0]</td><td class="description last"><p>legend position</p></td></tr><tr><td class="name"><code>gap</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">2</td><td class="description last"><p>gap between elements</p></td></tr><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>input values</p></td></tr><tr><td class="name"><code>k</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">50</td><td class="description last"><p>radius of the largest circle (or corresponding to the value defined by fixmax )</p></td></tr><tr><td class="name"><code>fixmax</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="attributes">&lt;optional><br></td><td class="default">null</td><td class="description last"><p>value matching the circle with radius k . Setting this value is useful for making maps comparable with each other</p></td></tr><tr><td class="name"><code>nb</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">4</td><td class="description last"><p>number of circles</p></td></tr><tr><td class="name"><code>circle_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"none"</td><td class="description last"><p>fill color for the circles</p></td></tr><tr><td class="name"><code>circle_stroke</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>stroke color for the circles</p></td></tr><tr><td class="name"><code>circle_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>*SVG attributes that can be applied on this circle element *</p></td></tr><tr><td class="name"><code>line_stroke</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>stroke color for the lines</p></td></tr><tr><td class="name"><code>line_strokeDasharray</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">1</td><td class="description last"><p>stroke-dasharray</p></td></tr><tr><td class="name"><code>line_strokeWidth</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">0.7</td><td class="description last"><p>stroke-width</p></td></tr><tr><td class="name"><code>line_length</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">10</td><td class="description last"><p>length of the line</p></td></tr><tr><td class="name"><code>line_***</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>*SVG attributes that can be applied on this line element *</p></td></tr><tr><td class="name"><code>values_textAnchor</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"start"</td><td class="description last"><p>text-anchor</p></td></tr><tr><td class="name"><code>values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">5</td><td class="description last"><p>shift in x</p></td></tr><tr><td class="name"><code>values_dy</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">0</td><td class="description last"><p>shift in y</p></td></tr><tr><td class="name"><code>values_fill</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>fill</p></td></tr><tr><td class="name"><code>values_fontSize</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">10</td><td class="description last"><p>fontSize</p></td></tr><tr><td class="name"><code>values_factor</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">1</td><td class="description last"><p>allow to multiply values to display in the legend. e.g 0.001 to convert into thousands</p></td></tr><tr><td class="name"><code>values_decimal</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"."</td><td class="description last"><p>separator for decimals</p></td></tr><tr><td class="name"><code>values_thousands</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">" "</td><td class="description last"><p>separator for thousands</p></td></tr><tr><td class="name"><code>title</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"Legend"</td><td class="description last"><p>title of the legend</p></td></tr><tr><td class="name"><code>title_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>title color</p></td></tr><tr><td class="name"><code>title_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">16</td><td class="description last"><p>title font size</p></td></tr><tr><td class="name"><code>title_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>subtitle</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>subtitle of the legend</p></td></tr><tr><td class="name"><code>subtitle_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>subtitle color</p></td></tr><tr><td class="name"><code>subtitle_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">12</td><td class="description last"><p>subtitle font size</p></td></tr><tr><td class="name"><code>subtitle_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>note</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>note displayed above the legend</p></td></tr><tr><td class="name"><code>note_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>note color</p></td></tr><tr><td class="name"><code>note_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">1O</td><td class="description last"><p>note font size</p></td></tr><tr><td class="name"><code>note_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>frame</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">false</td><td class="description last"><p>frame around the legend</p></td></tr><tr><td class="name"><code>frame_margin</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">15</td><td class="description last"><p>frame margin</p></td></tr><tr><td class="name"><code>frame_fill</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">"white"</td><td class="description last"><p>frame fill</p></td></tr><tr><td class="name"><code>frame_stroke</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">"black"</td><td class="description last"><p>frame fill</p></td></tr><tr><td class="name"><code>frame_fillOpacity</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">0.5</td><td class="description last"><p>frame fill-opacity</p></td></tr><tr><td class="name"><code>frame_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this frame element (rect)</em></p></td></tr><tr><td class="name"><code>text_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied directly on all text elements of this legend</em></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="legend_circles-nested.js.html">legend/circles-nested.js</a>, <a href="legend_circles-nested.js.html#line17">line 17</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/legends">https://observablehq.com/@neocartocnrs/legends</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.legend.circles_nested(svg, { pos: [10,20], data, nb:5}) // where svg is the container
svg.legend.circles_nested({pos: [10,20], data, nb: 5} }) // where svg is the container
svg.plot({type: "leg_circles_nested", pos: [10,20], data, nb: 5} }) // where svg is the container
geoviz.legend.circles_nested({ pos: [10,20], data, nb: 5}) // no container</code></pre></div></div><h3 class="name has-anchor" id="legend/mushrooms"><span class="type-signature"></span>legend/mushrooms<span class="signature">()</span></h3><div class="description"><p>The <code>legend.mushrooms</code> function allows to add an legend for proportional half-circles. The function adds a legend layer to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>unique id</p></td></tr><tr><td class="name"><code>pos</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="attributes">&lt;optional><br></td><td class="default">[0,0]</td><td class="description last"><p>legend position</p></td></tr><tr><td class="name"><code>gap</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">2</td><td class="description last"><p>gap between elements</p></td></tr><tr><td class="name"><code>line_stroke</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>stroke color for the lines</p></td></tr><tr><td class="name"><code>line_strokeDasharray</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">1</td><td class="description last"><p>stroke-dasharray</p></td></tr><tr><td class="name"><code>line_strokeWidth</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">0.7</td><td class="description last"><p>stroke-width</p></td></tr><tr><td class="name"><code>line_length</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">10</td><td class="description last"><p>length of the line</p></td></tr><tr><td class="name"><code>line_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>*SVG attributes that can be applied on this line element <em>nt</em></p></td></tr><tr><td class="name"><code>top_data</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>input values (top for circles)</p></td></tr><tr><td class="name"><code>top_k</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">50</td><td class="description last"><p>radius of the largest top half-circle (or corresponding to the value defined by fixmax)</p></td></tr><tr><td class="name"><code>top_fixmax</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="attributes">&lt;optional><br></td><td class="default">null</td><td class="description last"><p>value matching the top circle with radius k . Setting this value is useful for making maps comparable with each other</p></td></tr><tr><td class="name"><code>top_nb</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">4</td><td class="description last"><p>number of top half-circles</p></td></tr><tr><td class="name"><code>top_circle_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"none"</td><td class="description last"><p>fill color for the top half-circles</p></td></tr><tr><td class="name"><code>top_circle_stroke</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"black"</td><td class="description last"><p>stroke color for the top half-circles</p></td></tr><tr><td class="name"><code>top_circle_cornerRadius</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">5</td><td class="description last"><p>top circle_cornerRadius</p></td></tr><tr><td class="name"><code>top_circle_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this top half-circle element</em></p></td></tr><tr><td class="name"><code>top_values_textAnchor</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"middle"</td><td class="description last"><p>top text-anchor</p></td></tr><tr><td class="name"><code>top_values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">5</td><td class="description last"><p>shift in x</p></td></tr><tr><td class="name"><code>top_values_dy</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">0</td><td class="description last"><p>shift in y</p></td></tr><tr><td class="name"><code>top_values_factor</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">1</td><td class="description last"><p>allow to multiply values to display in the legend. e.g 0.001 to convert into thousands</p></td></tr><tr><td class="name"><code>top_values_decimal</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"."</td><td class="description last"><p>separator for decimals</p></td></tr><tr><td class="name"><code>top_values_thousands</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">" "</td><td class="description last"><p>separator for thousands</p></td></tr><tr><td class="name"><code>top_values_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element (fill, fontSize...)</em></p></td></tr><tr><td class="name"><code>top_title</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"top_title"</td><td class="description last"><p>title of the top elment</p></td></tr><tr><td class="name"><code>bottom_data</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>input values (bottom for circles)</p></td></tr><tr><td class="name"><code>bottom_k</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">50</td><td class="description last"><p>radius of the largest bottom half-circle (or corresponding to the value defined by fixmax)</p></td></tr><tr><td class="name"><code>bottom_fixmax</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="attributes">&lt;optional><br></td><td class="default">null</td><td class="description last"><p>value matching the bottom circle with radius k . Setting this value is useful for making maps comparable with each other</p></td></tr><tr><td class="name"><code>bottom_nb</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">4</td><td class="description last"><p>number of bottom half-circles</p></td></tr><tr><td class="name"><code>bottom_circle_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"none"</td><td class="description last"><p>fill color for the bottom half-circles</p></td></tr><tr><td class="name"><code>bottom_circle_stroke</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"black"</td><td class="description last"><p>stroke color for the bottom half-circles</p></td></tr><tr><td class="name"><code>bottom_circle_cornerRadius</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">5</td><td class="description last"><p>bottom circle_cornerRadius</p></td></tr><tr><td class="name"><code>bottom_circle_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this bottom half-circle element</em></p></td></tr><tr><td class="name"><code>bottom_values_textAnchor</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"middle"</td><td class="description last"><p>bottom text-anchor</p></td></tr><tr><td class="name"><code>bottom_values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">5</td><td class="description last"><p>shift in x</p></td></tr><tr><td class="name"><code>bottom_values_dy</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">0</td><td class="description last"><p>shift in y</p></td></tr><tr><td class="name"><code>bottom_values_factor</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">1</td><td class="description last"><p>allow to multiply values to display in the legend. e.g 0.001 to convert into thousands</p></td></tr><tr><td class="name"><code>bottom_values_decimal</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"."</td><td class="description last"><p>separator for decimals</p></td></tr><tr><td class="name"><code>bottom_values_thousands</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">" "</td><td class="description last"><p>separator for thousands</p></td></tr><tr><td class="name"><code>bottom_values_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element (fill, fontSize...)</em></p></td></tr><tr><td class="name"><code>bottom_title</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"bottom_title"</td><td class="description last"><p>title of the bottom elment</p></td></tr><tr><td class="name"><code>title</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"Legend"</td><td class="description last"><p>title of the legend</p></td></tr><tr><td class="name"><code>title_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>title color</p></td></tr><tr><td class="name"><code>title_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">16</td><td class="description last"><p>title font size</p></td></tr><tr><td class="name"><code>title_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>subtitle</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>subtitle of the legend</p></td></tr><tr><td class="name"><code>subtitle_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>subtitle color</p></td></tr><tr><td class="name"><code>subtitle_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">12</td><td class="description last"><p>subtitle font size</p></td></tr><tr><td class="name"><code>subtitle_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>note</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>note displayed above the legend</p></td></tr><tr><td class="name"><code>note_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>note color</p></td></tr><tr><td class="name"><code>note_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">1O</td><td class="description last"><p>note font size</p></td></tr><tr><td class="name"><code>note_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>frame</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">false</td><td class="description last"><p>frame around the legend</p></td></tr><tr><td class="name"><code>frame_margin</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">15</td><td class="description last"><p>frame margin</p></td></tr><tr><td class="name"><code>frame_fill</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">"white"</td><td class="description last"><p>frame fill</p></td></tr><tr><td class="name"><code>frame_stroke</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">"black"</td><td class="description last"><p>frame fill</p></td></tr><tr><td class="name"><code>frame_fillOpacity</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">0.5</td><td class="description last"><p>frame fill-opacity</p></td></tr><tr><td class="name"><code>frame_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this frame element (rect)</em></p></td></tr><tr><td class="name"><code>text_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied directly on all text elements of this legend</em></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="legend_mushrooms.js.html">legend/mushrooms.js</a>, <a href="legend_mushrooms.js.html#line18">line 18</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/legends">https://observablehq.com/@neocartocnrs/legends</a></li><li><a href="https://observablehq.com/@neocartocnrs/half-circle-mark">https://observablehq.com/@neocartocnrs/half-circle-mark</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.legend.mushrooms(svg, { pos: [10,20],top_data, bottom_data}) // where svg is the container
svg.legend.mushrooms({pos: [10,20], top_data, bottom_data} }) // where svg is the container
svg.plot({ type: "leg_mushrooms", pos: [10,20], top_data, bottom_data} }) // where svg is the container
geoviz.legend.mushrooms({ pos: [10,20], top_data, bottom_data}) // no container</code></pre></div></div><h3 class="name has-anchor" id="legend/spikes"><span class="type-signature"></span>legend/spikes<span class="signature">()</span></h3><div class="description"><p>The <code>legend.spikes</code> function allows to add an legend for spike marks. The function adds a legend layer to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>unique id</p></td></tr><tr><td class="name"><code>pos</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="attributes">&lt;optional><br></td><td class="default">[0,0]</td><td class="description last"><p>legend position</p></td></tr><tr><td class="name"><code>gap</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">2</td><td class="description last"><p>gap between elements</p></td></tr><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="attributes">&lt;optional><br></td><td class="default">[1, 1000]</td><td class="description last"><p>input values</p></td></tr><tr><td class="name"><code>k</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">50</td><td class="description last"><p>height of the highest spike (or corresponding to the value defined by fixmax ) (default: 100)</p></td></tr><tr><td class="name"><code>fixmax</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="attributes">&lt;optional><br></td><td class="default">null</td><td class="description last"><p>value matching the spike with height k . Setting this value is useful for making maps comparable with each other</p></td></tr><tr><td class="name"><code>nb</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">4</td><td class="description last"><p>number of spikes</p></td></tr><tr><td class="name"><code>spike_width</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">30</td><td class="description last"><p>a number defining the width of the spikes</p></td></tr><tr><td class="name"><code>spike_straight</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">0</td><td class="description last"><p>a number between 0 and 1 defining the curve of the spikes. 0 = curved ; 1 = straight</p></td></tr><tr><td class="name"><code>spike_spacing</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">3</td><td class="description last"><p>spacing between spikes (default: 3)</p></td></tr><tr><td class="name"><code>spike_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"none"</td><td class="description last"><p>fill color for the cspikesrcles</p></td></tr><tr><td class="name"><code>spike_stroke</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"black"</td><td class="description last"><p>stroke color for the spikes</p></td></tr><tr><td class="name"><code>spike_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this spike element</em></p></td></tr><tr><td class="name"><code>values_textAnchor</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>text-anchor (default: &quot;middle&quot;)</p></td></tr><tr><td class="name"><code>values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>shift in x (default: 0)</p></td></tr><tr><td class="name"><code>values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>shift in y (default: 5)</p></td></tr><tr><td class="name"><code>values_fill</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>fill</p></td></tr><tr><td class="name"><code>values_fontSize</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">10</td><td class="description last"><p>fontSize</p></td></tr><tr><td class="name"><code>values_factor</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">1</td><td class="description last"><p>allow to multiply values to display in the legend. e.g 0.001 to convert into thousands</p></td></tr><tr><td class="name"><code>values_decimal</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"."</td><td class="description last"><p>separator for decimals</p></td></tr><tr><td class="name"><code>values_thousands</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">" "</td><td class="description last"><p>separator for thousands</p></td></tr><tr><td class="name"><code>title</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"Legend"</td><td class="description last"><p>title of the legend</p></td></tr><tr><td class="name"><code>title_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>title color</p></td></tr><tr><td class="name"><code>title_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">16</td><td class="description last"><p>title font size</p></td></tr><tr><td class="name"><code>title_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>subtitle</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>subtitle of the legend</p></td></tr><tr><td class="name"><code>subtitle_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>subtitle color</p></td></tr><tr><td class="name"><code>subtitle_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">12</td><td class="description last"><p>subtitle font size</p></td></tr><tr><td class="name"><code>subtitle_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>note</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>note displayed above the legend</p></td></tr><tr><td class="name"><code>note_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>note color</p></td></tr><tr><td class="name"><code>note_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">1O</td><td class="description last"><p>note font size</p></td></tr><tr><td class="name"><code>note_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>frame</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">false</td><td class="description last"><p>frame around the legend</p></td></tr><tr><td class="name"><code>frame_margin</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">15</td><td class="description last"><p>frame margin</p></td></tr><tr><td class="name"><code>frame_fill</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">"white"</td><td class="description last"><p>frame fill</p></td></tr><tr><td class="name"><code>frame_stroke</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">"black"</td><td class="description last"><p>frame fill</p></td></tr><tr><td class="name"><code>frame_fillOpacity</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">0.5</td><td class="description last"><p>frame fill-opacity</p></td></tr><tr><td class="name"><code>frame_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this frame element (rect)</em></p></td></tr><tr><td class="name"><code>text_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied directly on all text elements of this legend</em></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="legend_spikes.js.html">legend/spikes.js</a>, <a href="legend_spikes.js.html#line18">line 18</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/legends">https://observablehq.com/@neocartocnrs/legends</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.legend.spikes(svg, { pos: [10,20], data, nb:5}) // where svg is the container
svg.legend.spikes({pos: [10,20], data, nb: 5} }) // where svg is the container
svg.plot({type: "spikes", pos: [10,20], data, nb: 5} }) // where svg is the container
geoviz.legend.spikes({ pos: [10,20], data, nb: 5}) // no container</code></pre></div></div><h3 class="name has-anchor" id="legend/squares"><span class="type-signature"></span>legend/squares<span class="signature">()</span></h3><div class="description"><p>The <code>legend.squares</code> function allows to add an legend for proportional squares. The function adds a legend layer to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>unique id</p></td></tr><tr><td class="name"><code>pos</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="attributes">&lt;optional><br></td><td class="default">[0,0]</td><td class="description last"><p>legend position</p></td></tr><tr><td class="name"><code>gap</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">2</td><td class="description last"><p>gap between elements</p></td></tr><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>input values</p></td></tr><tr><td class="name"><code>k</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">100</td><td class="description last"><p>side of the largest square (or corresponding to the value defined by fixmax )</p></td></tr><tr><td class="name"><code>fixmax</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="attributes">&lt;optional><br></td><td class="default">null</td><td class="description last"><p>value matching the square with size k . Setting this value is useful for making maps comparable with each other</p></td></tr><tr><td class="name"><code>nb</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">4</td><td class="description last"><p>number of squares</p></td></tr><tr><td class="name"><code>square_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"none"</td><td class="description last"><p>fill color for the squares</p></td></tr><tr><td class="name"><code>square_stroke</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>stroke color for the squares</p></td></tr><tr><td class="name"><code>square_spacing</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">5</td><td class="description last"><p>spacing between squares</p></td></tr><tr><td class="name"><code>square_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>*SVG attributes that can be applied on this square element *</p></td></tr><tr><td class="name"><code>line_stroke</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>stroke color for the lines</p></td></tr><tr><td class="name"><code>line_strokeDasharray</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">1</td><td class="description last"><p>stroke-dasharray</p></td></tr><tr><td class="name"><code>line_strokeWidth</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">0.7</td><td class="description last"><p>stroke-width</p></td></tr><tr><td class="name"><code>line_length</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">10</td><td class="description last"><p>length of the line</p></td></tr><tr><td class="name"><code>line_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>*SVG attributes that can be applied on this line element *</p></td></tr><tr><td class="name"><code>values_textAnchor</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"start"</td><td class="description last"><p>text-anchor</p></td></tr><tr><td class="name"><code>values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>shift in x (default: 0)</p></td></tr><tr><td class="name"><code>values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>shift in y (default: 5)</p></td></tr><tr><td class="name"><code>values_fill</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>fill</p></td></tr><tr><td class="name"><code>values_fontSize</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">10</td><td class="description last"><p>fontSize</p></td></tr><tr><td class="name"><code>values_factor</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">1</td><td class="description last"><p>allow to multiply values to display in the legend. e.g 0.001 to convert into thousands</p></td></tr><tr><td class="name"><code>values_decimal</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"."</td><td class="description last"><p>separator for decimals</p></td></tr><tr><td class="name"><code>values_thousands</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">" "</td><td class="description last"><p>separator for thousands</p></td></tr><tr><td class="name"><code>title</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"Legend"</td><td class="description last"><p>title of the legend</p></td></tr><tr><td class="name"><code>title_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>title color</p></td></tr><tr><td class="name"><code>title_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">16</td><td class="description last"><p>title font size</p></td></tr><tr><td class="name"><code>title_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>subtitle</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>subtitle of the legend</p></td></tr><tr><td class="name"><code>subtitle_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>subtitle color</p></td></tr><tr><td class="name"><code>subtitle_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">12</td><td class="description last"><p>subtitle font size</p></td></tr><tr><td class="name"><code>subtitle_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>note</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>note displayed above the legend</p></td></tr><tr><td class="name"><code>note_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>note color</p></td></tr><tr><td class="name"><code>note_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">1O</td><td class="description last"><p>note font size</p></td></tr><tr><td class="name"><code>note_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>frame</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">false</td><td class="description last"><p>frame around the legend</p></td></tr><tr><td class="name"><code>frame_margin</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">15</td><td class="description last"><p>frame margin</p></td></tr><tr><td class="name"><code>frame_fill</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">"white"</td><td class="description last"><p>frame fill</p></td></tr><tr><td class="name"><code>frame_stroke</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">"black"</td><td class="description last"><p>frame fill</p></td></tr><tr><td class="name"><code>frame_fillOpacity</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">0.5</td><td class="description last"><p>frame fill-opacity</p></td></tr><tr><td class="name"><code>frame_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this frame element (rect)</em></p></td></tr><tr><td class="name"><code>text_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied directly on all text elements of this legend</em></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="legend_squares.js.html">legend/squares.js</a>, <a href="legend_squares.js.html#line18">line 18</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/legends">https://observablehq.com/@neocartocnrs/legends</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.legend.squares(svg, { pos: [10,20], data, nb:5}) // where svg is the container
svg.legend.squares({pos: [10,20], data, nb: 5} }) // where svg is the container
svg.plot({type: "leg_squares", pos: [10,20], data, nb: 5} }) // where svg is the container
geoviz.legend.squares({ pos: [10,20], data, nb: 5}) // no container</code></pre></div></div><h3 class="name has-anchor" id="legend/squares_nested"><span class="type-signature"></span>legend/squares_nested<span class="signature">()</span></h3><div class="description"><p>The <code>legend.squares_nested</code> function allows to add an legend for proportional squares. The function adds a legend layer to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>unique id</p></td></tr><tr><td class="name"><code>pos</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="attributes">&lt;optional><br></td><td class="default">[0,0]</td><td class="description last"><p>legend position</p></td></tr><tr><td class="name"><code>gap</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">2</td><td class="description last"><p>gap between elements</p></td></tr><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>input values</p></td></tr><tr><td class="name"><code>k</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">100</td><td class="description last"><p>side of the largest square (or corresponding to the value defined by fixmax )</p></td></tr><tr><td class="name"><code>fixmax</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="attributes">&lt;optional><br></td><td class="default">null</td><td class="description last"><p>value matching the square with size k . Setting this value is useful for making maps comparable with each other</p></td></tr><tr><td class="name"><code>nb</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">4</td><td class="description last"><p>number of squares</p></td></tr><tr><td class="name"><code>square_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"none"</td><td class="description last"><p>fill color for the squares</p></td></tr><tr><td class="name"><code>square_stroke</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>stroke color for the squares</p></td></tr><tr><td class="name"><code>square_spacing</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">5</td><td class="description last"><p>spacing between squares</p></td></tr><tr><td class="name"><code>square_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>*SVG attributes that can be applied on this square element *</p></td></tr><tr><td class="name"><code>line_stroke</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>stroke color for the lines</p></td></tr><tr><td class="name"><code>line_strokeDasharray</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">1</td><td class="description last"><p>stroke-dasharray</p></td></tr><tr><td class="name"><code>line_strokeWidth</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">0.7</td><td class="description last"><p>stroke-width</p></td></tr><tr><td class="name"><code>line_length</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">10</td><td class="description last"><p>length of the line</p></td></tr><tr><td class="name"><code>line_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>*SVG attributes that can be applied on this line element *</p></td></tr><tr><td class="name"><code>values_textAnchor</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"start"</td><td class="description last"><p>text-anchor</p></td></tr><tr><td class="name"><code>values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>shift in x (default: 0)</p></td></tr><tr><td class="name"><code>values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>shift in y (default: 5)</p></td></tr><tr><td class="name"><code>values_fill</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>fill</p></td></tr><tr><td class="name"><code>values_fontSize</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">10</td><td class="description last"><p>fontSize</p></td></tr><tr><td class="name"><code>values_factor</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">1</td><td class="description last"><p>allow to multiply values to display in the legend. e.g 0.001 to convert into thousands</p></td></tr><tr><td class="name"><code>values_decimal</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"."</td><td class="description last"><p>separator for decimals</p></td></tr><tr><td class="name"><code>values_thousands</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">" "</td><td class="description last"><p>separator for thousands</p></td></tr><tr><td class="name"><code>title</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"Legend"</td><td class="description last"><p>title of the legend</p></td></tr><tr><td class="name"><code>title_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>title color</p></td></tr><tr><td class="name"><code>title_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">16</td><td class="description last"><p>title font size</p></td></tr><tr><td class="name"><code>title_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>subtitle</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>subtitle of the legend</p></td></tr><tr><td class="name"><code>subtitle_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>subtitle color</p></td></tr><tr><td class="name"><code>subtitle_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">12</td><td class="description last"><p>subtitle font size</p></td></tr><tr><td class="name"><code>subtitle_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>note</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>note displayed above the legend</p></td></tr><tr><td class="name"><code>note_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>note color</p></td></tr><tr><td class="name"><code>note_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">1O</td><td class="description last"><p>note font size</p></td></tr><tr><td class="name"><code>note_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>frame</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">false</td><td class="description last"><p>frame around the legend</p></td></tr><tr><td class="name"><code>frame_margin</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">15</td><td class="description last"><p>frame margin</p></td></tr><tr><td class="name"><code>frame_fill</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">"white"</td><td class="description last"><p>frame fill</p></td></tr><tr><td class="name"><code>frame_stroke</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">"black"</td><td class="description last"><p>frame fill</p></td></tr><tr><td class="name"><code>frame_fillOpacity</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">0.5</td><td class="description last"><p>frame fill-opacity</p></td></tr><tr><td class="name"><code>frame_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this frame element (rect)</em></p></td></tr><tr><td class="name"><code>text_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied directly on all text elements of this legend</em></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="legend_squares-nested.js.html">legend/squares-nested.js</a>, <a href="legend_squares-nested.js.html#line17">line 17</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/legends">https://observablehq.com/@neocartocnrs/legends</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.legend.squares_nested(svg, { pos: [10,20], data, nb:5}) // where svg is the container
svg.legend.squares_nested({pos: [10,20], data, nb: 5} }) // where svg is the container
svg.plot({type: "leg_squares_nested", pos: [10,20], data, nb: 5} }) // where svg is the container
geoviz.legend.squares_nested({ pos: [10,20], data, nb: 5}) // no container</code></pre></div></div><h3 class="name has-anchor" id="legend/typo_horizontal"><span class="type-signature"></span>legend/typo_horizontal<span class="signature">()</span></h3><div class="description"><p>The <code>legend.typo_horizontal</code> function allows to add an horizontal legend on a map for typo layers. The function adds a legend layer to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>unique id</p></td></tr><tr><td class="name"><code>pos</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="attributes">&lt;optional><br></td><td class="default">[0,0]</td><td class="description last"><p>legend position</p></td></tr><tr><td class="name"><code>gap</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">2</td><td class="description last"><p>gap between elements</p></td></tr><tr><td class="name"><code>types</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="attributes">&lt;optional><br></td><td class="default">["A", "B", "C", "D"]</td><td class="description last"><p>types</p></td></tr><tr><td class="name"><code>colors</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="attributes">&lt;optional><br></td><td class="default">["#e41a1c", "#377eb8", "#4daf4a", "#984ea3"]</td><td class="description last"><p>colors</p></td></tr><tr><td class="name"><code>alphabetical</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">true</td><td class="description last"><p>alphabetical order</p></td></tr><tr><td class="name"><code>rect_width</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">50</td><td class="description last"><p>width of the box</p></td></tr><tr><td class="name"><code>rect_height</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">14</td><td class="description last"><p>height of the box</p></td></tr><tr><td class="name"><code>rect_spacing</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">0</td><td class="description last"><p>spacing between boxes</p></td></tr><tr><td class="name"><code>rect_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#5d6266"</td><td class="description last"><p>box color</p></td></tr><tr><td class="name"><code>rect_stroke</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#303030"</td><td class="description last"><p>stroke color</p></td></tr><tr><td class="name"><code>rect_strokeWidth</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">0.1</td><td class="description last"><p>stroke width</p></td></tr><tr><td class="name"><code>rect_foo</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p><em>other SVG attributes that can be applied on this rect element (strokeDasharray, strokeWidth, opacity, strokeLinecap...)</em></p></td></tr><tr><td class="name"><code>values_textAnchor</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>text-anchor (default: &quot;middle&quot;)</p></td></tr><tr><td class="name"><code>values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>shift in x (default: 0)</p></td></tr><tr><td class="name"><code>values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>shift in y (default: 5)</p></td></tr><tr><td class="name"><code>values_fill</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>fill</p></td></tr><tr><td class="name"><code>values_fontSize</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">1</td><td class="description last"><p>fontSize</p></td></tr><tr><td class="name"><code>values_factor</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">1</td><td class="description last"><p>allow to multiply values to display in the legend. e.g 0.001 to convert into thousands</p></td></tr><tr><td class="name"><code>values_decimal</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"."</td><td class="description last"><p>separator for decimals</p></td></tr><tr><td class="name"><code>values_thousands</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">" "</td><td class="description last"><p>separator for thousands</p></td></tr><tr><td class="name"><code>title</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"Legend"</td><td class="description last"><p>title of the legend</p></td></tr><tr><td class="name"><code>title_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>title color</p></td></tr><tr><td class="name"><code>title_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">16</td><td class="description last"><p>title font size</p></td></tr><tr><td class="name"><code>title_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>subtitle</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>subtitle of the legend</p></td></tr><tr><td class="name"><code>subtitle_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>subtitle color</p></td></tr><tr><td class="name"><code>subtitle_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">12</td><td class="description last"><p>subtitle font size</p></td></tr><tr><td class="name"><code>subtitle_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>note</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>note displayed above the legend</p></td></tr><tr><td class="name"><code>note_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>note color</p></td></tr><tr><td class="name"><code>note_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">1O</td><td class="description last"><p>note font size</p></td></tr><tr><td class="name"><code>note_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>frame</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">false</td><td class="description last"><p>frame around the legend</p></td></tr><tr><td class="name"><code>frame_margin</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">15</td><td class="description last"><p>frame margin</p></td></tr><tr><td class="name"><code>frame_fill</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">"white"</td><td class="description last"><p>frame fill</p></td></tr><tr><td class="name"><code>frame_stroke</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">"black"</td><td class="description last"><p>frame fill</p></td></tr><tr><td class="name"><code>frame_fillOpacity</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">0.5</td><td class="description last"><p>frame fill-opacity</p></td></tr><tr><td class="name"><code>frame_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this frame element (rect)</em></p></td></tr><tr><td class="name"><code>text_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied directly on all text elements of this legend</em></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="legend_typo-horizontal.js.html">legend/typo-horizontal.js</a>, <a href="legend_typo-horizontal.js.html#line15">line 15</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/legends">https://observablehq.com/@neocartocnrs/legends</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.legend.typo_horizontal(svg, { pos: [10,20], types, colors}) // where svg is the container
svg.legend.typo_horizontal({pos: [10,20], types, colors} }) // where svg is the container
svg.plot({type: "leg_typo_horizontal", pos: [10,20], types, colors} }) // where svg is the container
geoviz.legend.typo_horizontal({ pos: [10,20], types, colors}) // no container</code></pre></div></div><h3 class="name has-anchor" id="legend/typo_vertical"><span class="type-signature"></span>legend/typo_vertical<span class="signature">()</span></h3><div class="description"><p>The <code>legend.typo_vertical</code> function allows to add an vertical legend on a map for typo layers. The function adds a legend layer to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>unique id</p></td></tr><tr><td class="name"><code>pos</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="attributes">&lt;optional><br></td><td class="default">[0,0]</td><td class="description last"><p>legend position</p></td></tr><tr><td class="name"><code>gap</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">2</td><td class="description last"><p>gap between elements</p></td></tr><tr><td class="name"><code>types</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="attributes">&lt;optional><br></td><td class="default">["A", "B", "C", "D"]</td><td class="description last"><p>types</p></td></tr><tr><td class="name"><code>colors</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="attributes">&lt;optional><br></td><td class="default">["#e41a1c", "#377eb8", "#4daf4a", "#984ea3"]</td><td class="description last"><p>colors</p></td></tr><tr><td class="name"><code>alphabetical</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">true</td><td class="description last"><p>alphabetical order</p></td></tr><tr><td class="name"><code>rect_width</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">25</td><td class="description last"><p>width of the box</p></td></tr><tr><td class="name"><code>rect_height</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">17</td><td class="description last"><p>height of the box</p></td></tr><tr><td class="name"><code>rect_spacing</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">3</td><td class="description last"><p>spacing between boxes</p></td></tr><tr><td class="name"><code>rect_spacing</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>spacing between boxes</p></td></tr><tr><td class="name"><code>rect_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#5d6266"</td><td class="description last"><p>box color</p></td></tr><tr><td class="name"><code>rect_stroke</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#303030"</td><td class="description last"><p>stroke color</p></td></tr><tr><td class="name"><code>rect_strokeWidth</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">0.1</td><td class="description last"><p>stroke width</p></td></tr><tr><td class="name"><code>rect_foo</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p><em>other SVG attributes that can be applied on this rect element (strokeDasharray, strokeWidth, opacity, strokeLinecap...)</em></p></td></tr><tr><td class="name"><code>values_textAnchor</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>text-anchor (default: &quot;middle&quot;)</p></td></tr><tr><td class="name"><code>values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>shift in x (default: 0)</p></td></tr><tr><td class="name"><code>values_dx</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>shift in y (default: 5)</p></td></tr><tr><td class="name"><code>values_fill</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>fill</p></td></tr><tr><td class="name"><code>values_fontSize</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">10</td><td class="description last"><p>fontSize</p></td></tr><tr><td class="name"><code>values_factor</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">1</td><td class="description last"><p>allow to multiply values to display in the legend. e.g 0.001 to convert into thousands</p></td></tr><tr><td class="name"><code>values_decimal</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"."</td><td class="description last"><p>separator for decimals</p></td></tr><tr><td class="name"><code>values_thousands</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">" "</td><td class="description last"><p>separator for thousands</p></td></tr><tr><td class="name"><code>title</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"Legend"</td><td class="description last"><p>title of the legend</p></td></tr><tr><td class="name"><code>title_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>title color</p></td></tr><tr><td class="name"><code>title_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">16</td><td class="description last"><p>title font size</p></td></tr><tr><td class="name"><code>title_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>subtitle</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>subtitle of the legend</p></td></tr><tr><td class="name"><code>subtitle_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>subtitle color</p></td></tr><tr><td class="name"><code>subtitle_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">12</td><td class="description last"><p>subtitle font size</p></td></tr><tr><td class="name"><code>subtitle_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>note</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>note displayed above the legend</p></td></tr><tr><td class="name"><code>note_fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#363636"</td><td class="description last"><p>note color</p></td></tr><tr><td class="name"><code>note_fontSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">1O</td><td class="description last"><p>note font size</p></td></tr><tr><td class="name"><code>note_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this text element</em></p></td></tr><tr><td class="name"><code>frame</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">false</td><td class="description last"><p>frame around the legend</p></td></tr><tr><td class="name"><code>frame_margin</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">15</td><td class="description last"><p>frame margin</p></td></tr><tr><td class="name"><code>frame_fill</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">"white"</td><td class="description last"><p>frame fill</p></td></tr><tr><td class="name"><code>frame_stroke</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">"black"</td><td class="description last"><p>frame fill</p></td></tr><tr><td class="name"><code>frame_fillOpacity</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">0.5</td><td class="description last"><p>frame fill-opacity</p></td></tr><tr><td class="name"><code>frame_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied on this frame element (rect)</em></p></td></tr><tr><td class="name"><code>text_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>SVG attributes that can be applied directly on all text elements of this legend</em></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="legend_typo-vertical.js.html">legend/typo-vertical.js</a>, <a href="legend_typo-vertical.js.html#line15">line 15</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/legends">https://observablehq.com/@neocartocnrs/legends</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.legend.typo_vertical(svg, { pos: [10,20], types, colors}) // where svg is the container
svg.legend.typo_vertical({pos: [10,20], types, colors} }) // where svg is the container
svg.plot({type: "leg_typo_vertical", pos: [10,20], types, colors} }) // where svg is the container
geoviz.legend.typo_vertical({ pos: [10,20], types, colors}) // no container</code></pre></div></div><h3 class="name has-anchor" id="north"><span class="type-signature"></span>north<span class="signature">()</span></h3><div class="description"><p>The <code>north</code> function allows add a North arrow. The function adds a layer to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>id of the layer</p></td></tr><tr><td class="name"><code>pos</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="attributes">&lt;optional><br></td><td class="default">[svg.width - 30, 30]</td><td class="description last"><p>position [x,y] on the page. The scale value is relevant for this location on the map</p></td></tr><tr><td class="name"><code>scale</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">1</td><td class="description last"><p>a number to rescale the arrow</p></td></tr><tr><td class="name"><code>rotate</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">null</td><td class="description last"><p>an angle to rotate the arrow. By dedault, il is automaticaly calculated</p></td></tr><tr><td class="name"><code>fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"black"</td><td class="description last"><p>fill color</p></td></tr><tr><td class="name"><code>fillOpacity</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">1</td><td class="description last"><p>fill-opacity</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="mark_north.js.html">mark/north.js</a>, <a href="mark_north.js.html#line5">line 5</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/layout-marks">https://observablehq.com/@neocartocnrs/layout-marks</a></li><li><a href="https://observablehq.com/@neocartocnrs/geoviz-scalebar">https://observablehq.com/@neocartocnrs/geoviz-scalebar</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.north(svg, { pos: [100, 300], fill: "brown" }) // where svg is the container
svg.north({ pos: [100, 300], fill: "brown" }) // where svg is the container
svg.plot({ type: "north", pos: [100, 300], fill: "brown" }) // where svg is the container
geoviz.north( { pos: [100, 300], fill: "brown" }) // no container</code></pre></div></div><h3 class="name has-anchor" id="outline"><span class="type-signature"></span>outline<span class="signature">()</span></h3><div class="description"><p>The <code>outline</code> function allows to create a layer with Earth outline in the projection. The function adds a layer to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>id of the layer</p></td></tr><tr><td class="name"><code>stroke</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"none"</td><td class="description last"><p>stroke color</p></td></tr><tr><td class="name"><code>strokeWidth</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">1</td><td class="description last"><p>stroke width</p></td></tr><tr><td class="name"><code>fill</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"#B5DFFD"</td><td class="description last"><p>fill color</p></td></tr><tr><td class="name"><code>*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>other attributes that can be used to define the svg style (strokeDasharray, opacity, strokeLinecap...)</em></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="mark_outline.js.html">mark/outline.js</a>, <a href="mark_outline.js.html#line7">line 7</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/layout-marks">https://observablehq.com/@neocartocnrs/layout-marks</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.outline(svg, { fill: "yelllow" }) // where svg is the container
svg.outline({ fill: "yelllow" }) // where svg is the container
svg.plot({ type: "outline", fill: "yelllow" }) // where svg is the container
geoviz.outline({ fill: "yelllow" }) // no container</code></pre></div></div><h3 class="name has-anchor" id="path"><span class="type-signature"></span>path<span class="signature">()</span></h3><div class="description"><p>The <code>path</code> function generates SVG paths from a geoJSON. The function adds a layer to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>GeoJSON FeatureCollection. Use data to be able to iterate</p></td></tr><tr><td class="name"><code>datum</code></td><td class="type"><span class="param-type">object</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>GeoJSON FeatureCollection. Use datum if you don't need to iterate.</p></td></tr><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>id of the layer</p></td></tr><tr><td class="name"><code>coords</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"geo"</td><td class="description last"><p>use &quot;svg&quot; if the coordinates are already in the plan of the svg document</p></td></tr><tr><td class="name"><code>clip</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">true</td><td class="description last"><p>use true to clip the path with the outline</p></td></tr><tr><td class="name"><code>fill</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>fill color. To create choropleth maps or typologies, use the <code>tool.choro</code> and <code>tool.typo</code> functions</p></td></tr><tr><td class="name"><code>stroke</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>stroke color. To create choropleth maps or typologies, use the <code>tool.choro</code> and <code>tool.typo</code> functions</p></td></tr><tr><td class="name"><code>strokeWidth</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="attributes">&lt;optional><br></td><td class="default">1</td><td class="description last"><p>stroke-width (default: 1)</p></td></tr><tr><td class="name"><code>tip</code></td><td class="type"><span class="param-type">boolean</span> |<wbr> <span class="param-type">function</span></td><td class="attributes">&lt;optional><br></td><td class="default">false</td><td class="description last"><p>a function to display the tip. Use true tu display all fields</p></td></tr><tr><td class="name"><code>view</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>= false] - use true and viewof in Observable for this layer to act as Input</p></td></tr><tr><td class="name"><code>tipstyle</code></td><td class="type"><span class="param-type">object</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>tooltip style</p></td></tr><tr><td class="name"><code>*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>other SVG attributes that can be applied (strokeDasharray, strokeWidth, opacity, strokeLinecap...)</em></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="mark_path.js.html">mark/path.js</a>, <a href="mark_path.js.html#line18">line 18</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/path-mark">https://observablehq.com/@neocartocnrs/path-mark</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.path(svg, { data: world, fill: "red" }) // where svg is the container
svg.path({ data: world, fill: "red" }) // where svg is the container
svg.plot({ type: "path", data: world, fill: "red" }) // where svg is the container
geoviz.path({ data: world, fill: "red" }) // no container</code></pre></div></div><h3 class="name has-anchor" id="plot"><span class="type-signature"></span>plot<span class="signature">()</span></h3><div class="description"><p>The <code>plot()</code> function in geoviz allows you to call up all the layer types available in the library via a single function. To do this, you need to define the type in the parameter.<br><br>For example: <code>geoviz.plot({type: &quot;graticule&quot;, step: 30})</code></p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>choro</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;choro&quot;, ...})</code> or <code>{type: &quot;choropleth&quot;}</code>. See <a href="#plot/choro">plot/choro</a></p></td></tr><tr><td class="name"><code>typo</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;typo&quot;, ...})</code> or <code>{type: &quot;typology&quot;}</code>. See <a href="#plot/typo">plot/typo</a></p></td></tr><tr><td class="name"><code>prop</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;prop&quot;, ...})</code>. See <a href="#plot/prop">plot/prop</a></p></td></tr><tr><td class="name"><code>propchoro</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;propchoro&quot;, ...})</code>. See <a href="#plot/propchoro">plot/propchoro</a></p></td></tr><tr><td class="name"><code>proptypo</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;proptypo&quot;, ...})</code>. See <a href="#plot/proptypo">plot/proptypo</a></p></td></tr><tr><td class="name"><code>outline</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;outline&quot;, ...})</code>. See <a href="global.html#outline">outline</a></p></td></tr><tr><td class="name"><code>graticule</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;graticule&quot;, ...})</code>. See <a href="global.html#graticule">graticule</a></p></td></tr><tr><td class="name"><code>path</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;path&quot;, ...})</code> or <code>{type: &quot;base&quot;}</code> or <code>{type: &quot;simple&quot;}</code>. See <a href="global.html#path">path</a></p></td></tr><tr><td class="name"><code>text</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;text&quot;, ...})</code> or <code>{type: &quot;label&quot;}</code>. See <a href="global.html#text">text</a></p></td></tr><tr><td class="name"><code>circle</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;circle&quot;, ...})</code>. See <a href="global.html#circle">circle</a></p></td></tr><tr><td class="name"><code>square</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;square&quot;, ...})</code>. See <a href="global.html#square">square</a></p></td></tr><tr><td class="name"><code>halfcircle</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;halfcircle&quot;, ...})</code>. See <a href="global.html#halfcircle">halfcircle</a></p></td></tr><tr><td class="name"><code>spike</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;spike&quot;, ...})</code>. See <a href="global.html#spike">spike</a></p></td></tr><tr><td class="name"><code>tile</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;tile&quot;, ...})</code>. See <a href="global.html#tile">tile</a></p></td></tr><tr><td class="name"><code>header</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;header&quot;, ...})</code>. See <a href="global.html#header">header</a></p></td></tr><tr><td class="name"><code>footer</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;footer&quot;, ...})</code>. See <a href="global.html#footer">footer</a></p></td></tr><tr><td class="name"><code>scalebar</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;scalebar&quot;, ...})</code>. See <a href="global.html#scalebar">scalebar</a></p></td></tr><tr><td class="name"><code>north</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;north&quot;, ...})</code>. See <a href="global.html#north">north</a></p></td></tr><tr><td class="name"><code>leg_box</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;leg_box&quot;, ...})</code> or <code>{type: &quot;legbox&quot;}</code>. See <a href="#legend/box">legend.box</a></p></td></tr><tr><td class="name"><code>leg_choro_horizontal</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;leg_choro_horizontal&quot;, ...})</code> or <code>{type: &quot;legchorohorizontal&quot;}</code>. See <a href="#legend/choro_horizontal">legend.choro_horizontal</a></p></td></tr><tr><td class="name"><code>leg_choro_vertical</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;leg_choro_vertical&quot;, ...})</code> or <code>{type: &quot;legchorovertical&quot;}</code> or <code>{type: &quot;leg_choro&quot;}</code> or <code>{type: &quot;legchoro&quot;}</code>. See <a href="#legend/choro_vertical">legend.choro_vertical</a></p></td></tr><tr><td class="name"><code>leg_typo_horizontal</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;leg_typo_horizontal&quot;, ...})</code> or <code>{type: &quot;legtypohorizontal&quot;}</code>. See <a href="#legend/typo_horizontal">legend.typo_horizontal</a></p></td></tr><tr><td class="name"><code>leg_typo_vertical</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;leg_typo_vertical&quot;, ...})</code> or <code>{type: &quot;legtypovertical&quot;}</code> or <code>{type: &quot;leg_typo&quot;}</code> or <code>{type: &quot;legtypo&quot;}</code>. See <a href="#legend/choro_vertical">legend.choro_vertical</a></p></td></tr><tr><td class="name"><code>leg_spikes</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;leg_spikes&quot;, ...})</code> or <code>{type: &quot;leg_spikes&quot;}</code> or <code>{type: &quot;legspikes&quot;}</code> or <code>{type: &quot;legspike&quot;}</code>. See <a href="#legend/spikes">legend.spikes</a></p></td></tr><tr><td class="name"><code>leg_circles</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;leg_circles&quot;, ...})</code> or <code>{type: &quot;legcircle&quot;}</code> or <code>{type: &quot;legcircle&quot;}</code> or <code>{type: &quot;legcircles&quot;}</code>. See <a href="#legend/circles">legend.circles</a></p></td></tr><tr><td class="name"><code>leg_circle_nested</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;leg_circle_nested&quot;, ...})</code> or <code>{type: &quot;legcirclenested&quot;}</code> or <code>{type: &quot;legcirclesnested&quot;}</code>. See <a href="#legend/circles_nested">legend.circles_nested</a></p></td></tr><tr><td class="name"><code>leg_mushrooms</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;leg_mushrooms&quot;, ...})</code> or <code>{type: &quot;leg_mushroom&quot;}</code> or <code>{type: &quot;legmushrooms&quot;}</code> or <code>{type: &quot;legmushroom&quot;}</code>. See <a href="legend/#mushrooms">legend.mushrooms</a></p></td></tr><tr><td class="name"><code>effect_clipPath</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;effect_clipPath&quot;, ...})</code> or <code>{type: &quot;clipPath&quot;}</code>. See <a href="#effect/clipPath">effect.clipPath</a></p></td></tr><tr><td class="name"><code>effect_blur</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;effect_blur&quot;, ...})</code> or <code>{type: &quot;blur&quot;}</code>. See <a href="#effect/blur">effect.blur</a></p></td></tr><tr><td class="name"><code>effect_shadow</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;effect_shadow&quot;, ...})</code> or <code>{type: &quot;shadow&quot;}</code>. See <a href="#effect/shadow">effect.shadow</a></p></td></tr><tr><td class="name"><code>effect_radialGradient</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>Usage: <code>geoviz.plot({type: &quot;effect_radialGradient&quot;, ...})</code> or <code>{type: &quot;radialGradient&quot;}</code>. See <a href="#effect/radialGradient">effect.radialGradient</a></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="plot_plot.js.html">plot/plot.js</a>, <a href="plot_plot.js.html#line40">line 40</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>let svg = geoviz.create({projection: d3.geoNaturalEarth1()})
svg.plot({ type = "outline" }) // outline layer
svg.plot({ type = "graticule", step:30, stroke: "white" }) // graticule layer
svg.plot({ type = "path", datum: world, fill: "white", fillOpacity:0.3 }) // path layer
svg.plot({ type = "header", text: "Hello World" }) // Map title
return svg.render()</code></pre></div></div><h3 class="name has-anchor" id="plot/choro"><span class="type-signature"></span>plot/choro<span class="signature">()</span></h3><div class="description"><p>With the <code>plot({type = &quot;choro&quot;})</code> function, you can quickly draw a choropleth map.<br><br><img src="img/thumb_choro.svg" alt="choro"></p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>GeoJSON FeatureCollection. Use data to be able to iterate</p></td></tr><tr><td class="name"><code>var</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>a variable name in a geoJSON containig numeric values. You can also use <code>fill</code> or <code>stroke</code> argument.</p></td></tr><tr><td class="name"><code>method</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">quantile</td><td class="description last"><p>classification method ('quantile', 'q6', 'equal', 'jenks', 'msd', 'geometric', 'headtail', 'pretty', 'arithmetic' or 'nestedmeans').</p></td></tr><tr><td class="name"><code>nb</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">6</td><td class="description last"><p>number of classes</p></td></tr><tr><td class="name"><code>breaks</code></td><td class="type"><span class="param-type">array</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>you can define classes manually. In this case, the parameters <code>nb</code> and <code>method</code> are not taken into account.</p></td></tr><tr><td class="name"><code>colors</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">array</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>an array of colors or name of a color palette available in <a href="https://observablehq.com/@neocartocnrs/dicopal-library">dicopal</a></p></td></tr><tr><td class="name"><code>reverse</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">false</td><td class="description last"><p>reverse the color palette</p></td></tr><tr><td class="name"><code>missing</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">"white"</td><td class="description last"><p>missing data color</p></td></tr><tr><td class="name"><code>legend</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">true</td><td class="description last"><p>boolean to add or not the legend</p></td></tr><tr><td class="name"><code>leg_type</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"vertical"</td><td class="description last"><p>legend orientation (&quot;horizontal&quot; or &quot;vertical&quot;)</p></td></tr><tr><td class="name"><code>leg_pos</code></td><td class="type"><span class="param-type">array</span></td><td class="attributes">&lt;optional><br></td><td class="default">[10, 10]</td><td class="description last"><p>position of the legend</p></td></tr><tr><td class="name"><code>*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>You can also modify numerous parameters to customize the map. To do this, you can use all the parameters of the <a href="#path">path</a> and <a href="#tool/choro">tool.choro</a> functions. For example: <code>strokeWidth: 0.3</code>.</p></td></tr><tr><td class="name"><code>leg_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>You can also modify a wide range of parameters to customize the legend. To do this, you can use all the parameters of the <a href="#legend/choro_horizontal">legend.choro_horizontal</a> and <a href="#legend/choro_vertical">legend.choro_vertical</a> functions with the prefix <code>&quot;leg_&quot;</code>. For example: <code>leg_missing_text: &quot;not available&quot;</code> or <code>leg_values_fill: &quot;red&quot;</code>.</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="plot_plot_choro.js.html">plot/plot_choro.js</a>, <a href="plot_plot_choro.js.html#line9">line 9</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/choropleth">https://observablehq.com/@neocartocnrs/choropleth</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// Usage
geoviz.plot({type:"choro", data: world, var: "gdppc"})</code></pre></div></div><h3 class="name has-anchor" id="plot/prop"><span class="type-signature"></span>plot/prop<span class="signature">()</span></h3><div class="description"><p>With the <code>plot({type = &quot;prop&quot;})</code> function, you can quickly draw a choropleth map.<br><br></p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>GeoJSON FeatureCollection. Use data to be able to iterate</p></td></tr><tr><td class="name"><code>var</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>a variable name in a geoJSON containig numeric values.</p></td></tr><tr><td class="name"><code>symbol</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"circle"</td><td class="description last"><p>choice of the mark to plot (&quot;circle&quot;, &quot;square&quot;, &quot;spike&quot;, &quot;halfcircle&quot;)</p></td></tr><tr><td class="name"><code>k</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">50</td><td class="description last"><p>size of the largest symbol</p></td></tr><tr><td class="name"><code>fixmax</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">null</td><td class="description last"><p>value matching the symbol with value = k . Setting this value is useful for making maps comparable with each other.</p></td></tr><tr><td class="name"><code>width</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">30</td><td class="description last"><p>a number defining the width of the spikes</p></td></tr><tr><td class="name"><code>straight</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">0</td><td class="description last"><p>a number between 0 and 1 defining the curve of the spikes. 0 = curved ; 1 = straight</p></td></tr><tr><td class="name"><code>dodge</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">false</td><td class="description last"><p>to avoid circle overlap (noot relevant fot other marks)</p></td></tr><tr><td class="name"><code>legend</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">true</td><td class="description last"><p>boolean to add or not the legend</p></td></tr><tr><td class="name"><code>leg_type</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"nested"</td><td class="description last"><p>legend style (&quot;nested&quot; or &quot;separate&quot;)</p></td></tr><tr><td class="name"><code>leg_pos</code></td><td class="type"><span class="param-type">array</span></td><td class="attributes">&lt;optional><br></td><td class="default">[10, 10]</td><td class="description last"><p>position of the legend</p></td></tr><tr><td class="name"><code>*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>You can also modify numerous parameters to customize the map. To do this, you can use all the parameters of the <a href="#path">path</a> and <a href="#tool/typo">tool.typo</a> functions. For example: <code>strokeWidth: 0.3</code>.</p></td></tr><tr><td class="name"><code>leg_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>You can also modify a wide range of parameters to customize the legend. To do this, you can use all the parameters of the <a href="#legend/circles_nested">legend.circles_nested</a>, <a href="#legend/circles_half">legend.circles_half</a>, <a href="#legend/circles_nested">legend.circles_nested</a> and <a href="#legend/spikes">legend.spikes</a> functions with the prefix <code>&quot;leg_&quot;</code>. For example: <code>leg_missing_text: &quot;not available&quot;</code> or <code>leg_values_fill: &quot;red&quot;</code>.</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="plot_plot_prop.js.html">plot/plot_prop.js</a>, <a href="plot_plot_prop.js.html#line5">line 5</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/prop">https://observablehq.com/@neocartocnrs/prop</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// Usage
geoviz.plot({type:"prop", data: world, var: "pop"})</code></pre></div></div><h3 class="name has-anchor" id="plot/propchoro"><span class="type-signature"></span>plot/propchoro<span class="signature">()</span></h3><div class="description"><p>With the <code>plot({type = &quot;propchoro&quot;})</code> function, you can quickly draw a proportional symbols with a color gradation/<br><br></p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>GeoJSON FeatureCollection. Use data to be able to iterate</p></td></tr><tr><td class="name"><code>var1</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>a variable name in a geoJSON containig numeric values (absolute quantitative data).</p></td></tr><tr><td class="name"><code>var2</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>a variable name in a geoJSON containig numeric values (relative quantitative data. e.g. %).</p></td></tr><tr><td class="name"><code>var</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>If you set var instead of var1 and var2, then the same variable is mapped twice in two different ways.</p></td></tr><tr><td class="name"><code>symbol</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"circle"</td><td class="description last"><p>choice of the mark to plot (&quot;circle&quot;, &quot;spike&quot;, &quot;halfcircle&quot;)</p></td></tr><tr><td class="name"><code>k</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">50</td><td class="description last"><p>size of the largest symbol</p></td></tr><tr><td class="name"><code>fixmax</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">null</td><td class="description last"><p>value matching the symbol with value = k . Setting this value is useful for making maps comparable with each other.</p></td></tr><tr><td class="name"><code>dodge</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">false</td><td class="description last"><p>to avoid circle overlap (noot relevant fot other marks)</p></td></tr><tr><td class="name"><code>width</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">30</td><td class="description last"><p>a number defining the width of the spikes</p></td></tr><tr><td class="name"><code>straight</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">0</td><td class="description last"><p>a number between 0 and 1 defining the curve of the spikes. 0 = curved ; 1 = straight</p></td></tr><tr><td class="name"><code>method</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">quantile</td><td class="description last"><p>classification method ('quantile', 'q6', 'equal', 'jenks', 'msd', 'geometric', 'headtail', 'pretty', 'arithmetic' or 'nestedmeans').</p></td></tr><tr><td class="name"><code>nb</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">6</td><td class="description last"><p>number of classes</p></td></tr><tr><td class="name"><code>breaks</code></td><td class="type"><span class="param-type">array</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>you can define classes manually. In this case, the parameters <code>nb</code> and <code>method</code> are not taken into account.</p></td></tr><tr><td class="name"><code>colors</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">array</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>an array of colors or name of a color palette available in <a href="https://observablehq.com/@neocartocnrs/dicopal-library">dicopal</a></p></td></tr><tr><td class="name"><code>reverse</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">false</td><td class="description last"><p>reverse the color</p></td></tr><tr><td class="name"><code>missing</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">"white"</td><td class="description last"><p>missing data color</p></td></tr><tr><td class="name"><code>*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>You can also modify numerous parameters to customize the map. For example: <code>strokeWidth: 0.3</code>.</p></td></tr><tr><td class="name"><code>legend</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">true</td><td class="description last"><p>boolean to add or not the legend</p></td></tr><tr><td class="name"><code>leg1_type</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"nested"</td><td class="description last"><p>legend style (&quot;nested&quot; or &quot;separate&quot;)</p></td></tr><tr><td class="name"><code>leg2_type</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"vertical"</td><td class="description last"><p>legend style (&quot;vertical&quot; or &quot;horizontal&quot;)</p></td></tr><tr><td class="name"><code>leg1_pos</code></td><td class="type"><span class="param-type">array</span></td><td class="attributes">&lt;optional><br></td><td class="default">[10, 10]</td><td class="description last"><p>position of the legend</p></td></tr><tr><td class="name"><code>leg1_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>You can also modify a wide range of parameters to customize the legend. To do this, you can use all the parameters of the <a href="#legend/circles_nested">legend.circles_nested</a>, <a href="#legend/circles_half">legend.circles_half</a>, <a href="#legend/circles_nested">legend.circles_nested</a> and <a href="#legend/spikes">legend.spikes</a> functions with the prefix <code>&quot;leg1_&quot;</code>. For example: <code>leg1_values_fill: &quot;red&quot;</code>.</p></td></tr><tr><td class="name"><code>leg2_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>You can also modify a wide range of parameters to customize the legend (choro). To do this, you can use all the parameters of the <a href="#legend/choro_horizontal">legend.choro_horizontal</a> and <a href="#legend/choro_vertical">legend.choro_vertical</a> functions with the prefix <code>&quot;leg2_&quot;</code>. For example: <code>leg2_missing_text: &quot;not available&quot;</code>.</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="plot_plot_propchoro.js.html">plot/plot_propchoro.js</a>, <a href="plot_plot_propchoro.js.html#line9">line 9</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/prop">https://observablehq.com/@neocartocnrs/prop</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// Usage
geoviz.plot({type:"propchoro", data: world, var1: "pop", var2: "gdppc"})</code></pre></div></div><h3 class="name has-anchor" id="plot/proptypo"><span class="type-signature"></span>plot/proptypo<span class="signature">()</span></h3><div class="description"><p>With the <code>plot({type = &quot;proptypo&quot;})</code> function, you can quickly draw a proportional symbols with qualitative colors (hues)<br><br></p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>GeoJSON FeatureCollection. Use data to be able to iterate</p></td></tr><tr><td class="name"><code>var1</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>a variable name in a geoJSON containig numeric values (absolute quantitative data).</p></td></tr><tr><td class="name"><code>var2</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>a variable name in a geoJSON containig numeric values (relative quantitative data. e.g. %).</p></td></tr><tr><td class="name"><code>var</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>If you set var instead of var1 and var2, then the same variable is mapped twice in two different ways.</p></td></tr><tr><td class="name"><code>symbol</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"circle"</td><td class="description last"><p>choice of the mark to plot (&quot;circle&quot;, &quot;spike&quot;, &quot;halfcircle&quot;)</p></td></tr><tr><td class="name"><code>k</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">50</td><td class="description last"><p>size of the largest symbol</p></td></tr><tr><td class="name"><code>fixmax</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">null</td><td class="description last"><p>value matching the symbol with value = k . Setting this value is useful for making maps comparable with each other.</p></td></tr><tr><td class="name"><code>dodge</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">false</td><td class="description last"><p>to avoid circle overlap (noot relevant fot other marks)</p></td></tr><tr><td class="name"><code>width</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">30</td><td class="description last"><p>a number defining the width of the spikes</p></td></tr><tr><td class="name"><code>straight</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">0</td><td class="description last"><p>a number between 0 and 1 defining the curve of the spikes. 0 = curved ; 1 = straight</p></td></tr><tr><td class="name"><code>colors</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">array</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>an array of colors or name of a color palette available in <a href="https://observablehq.com/@neocartocnrs/dicopal-library">dicopal</a></p></td></tr><tr><td class="name"><code>order</code></td><td class="type"><span class="param-type">array</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>an array of values qualitative values.</p></td></tr><tr><td class="name"><code>alphabetical</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">true</td><td class="description last"><p>to order the items in the legend in alphabetical order</p></td></tr><tr><td class="name"><code>missing</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">"white"</td><td class="description last"><p>missing data color</p></td></tr><tr><td class="name"><code>*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>You can also modify numerous parameters to customize the map. For example: <code>strokeWidth: 0.3</code>.</p></td></tr><tr><td class="name"><code>legend</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">true</td><td class="description last"><p>boolean to add or not the legend</p></td></tr><tr><td class="name"><code>leg1_type</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"nested"</td><td class="description last"><p>legend style (&quot;nested&quot; or &quot;separate&quot;)</p></td></tr><tr><td class="name"><code>leg2_type</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"vertical"</td><td class="description last"><p>legend style (&quot;vertical&quot; or &quot;horizontal&quot;)</p></td></tr><tr><td class="name"><code>leg1_pos</code></td><td class="type"><span class="param-type">array</span></td><td class="attributes">&lt;optional><br></td><td class="default">[10, 10]</td><td class="description last"><p>position of the legend</p></td></tr><tr><td class="name"><code>leg1_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>You can also modify a wide range of parameters to customize the legend. To do this, you can use all the parameters of the <a href="#legend/circles_nested">legend.circles_nested</a>, <a href="#legend/circles_half">legend.circles_half</a>, <a href="#legend/circles_nested">legend.circles_nested</a> and <a href="#legend/spikes">legend.spikes</a> functions with the prefix <code>&quot;leg1_&quot;</code>. For example: <code>leg1_values_fill: &quot;red&quot;</code>.</p></td></tr><tr><td class="name"><code>leg2_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>You can also modify a wide range of parameters to customize the legend (choro). To do this, you can use all the parameters of the <a href="#legend/typo_horizontal">legend.typo_horizontal</a> and <a href="#legend/typo_vertical">legend.typo_vertical</a> functions with the prefix <code>&quot;leg2_&quot;</code>. For example: <code>leg2_missing_text: &quot;not available&quot;</code>.</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="plot_plot_proptypo.js.html">plot/plot_proptypo.js</a>, <a href="plot_plot_proptypo.js.html#line9">line 9</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/prop">https://observablehq.com/@neocartocnrs/prop</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// Usage
geoviz.plot({type:"propchoro", data: world, var1: "pop", var2: "gdppc"})</code></pre></div></div><h3 class="name has-anchor" id="plot/typo"><span class="type-signature"></span>plot/typo<span class="signature">()</span></h3><div class="description"><p>With the <code>plot({type = &quot;typo&quot;})</code> function, you can quickly draw a typlogy from qualitative data.<br><br><img src="img/thumb_typo.svg" alt="choro"></p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>GeoJSON FeatureCollection. Use data to be able to iterate</p></td></tr><tr><td class="name"><code>var</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>a variable name in a geoJSON containig numeric values. You can also use <code>fill</code> or <code>stroke</code> argument.</p></td></tr><tr><td class="name"><code>colors</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">array</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>an array of colors or name of a color palette available in <a href="https://observablehq.com/@neocartocnrs/dicopal-library">dicopal</a></p></td></tr><tr><td class="name"><code>order</code></td><td class="type"><span class="param-type">array</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>an array of values qualitative values.</p></td></tr><tr><td class="name"><code>alphabetical</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">true</td><td class="description last"><p>to order the items in the legend in alphabetical order</p></td></tr><tr><td class="name"><code>missing</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">"white"</td><td class="description last"><p>missing data color</p></td></tr><tr><td class="name"><code>legend</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">true</td><td class="description last"><p>boolean to add or not the legend</p></td></tr><tr><td class="name"><code>leg_type</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"vertical"</td><td class="description last"><p>legend orientation (&quot;horizontal&quot; or &quot;vertical&quot;)</p></td></tr><tr><td class="name"><code>leg_pos</code></td><td class="type"><span class="param-type">array</span></td><td class="attributes">&lt;optional><br></td><td class="default">[10, 10]</td><td class="description last"><p>position of the legend</p></td></tr><tr><td class="name"><code>*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>You can also modify numerous parameters to customize the map. To do this, you can use all the parameters of the <a href="#path">path</a> and <a href="#tool/typo">tool.typo</a> functions. For example: <code>strokeWidth: 0.3</code>.</p></td></tr><tr><td class="name"><code>leg_*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>You can also modify a wide range of parameters to customize the legend. To do this, you can use all the parameters of the <a href="#legend/typo_horizontal">legend.typo_horizontal</a> and <a href="#legend/typo_vertical">legend.typo_vertical</a> functions with the prefix <code>&quot;leg_&quot;</code>. For example: <code>leg_missing_text: &quot;not available&quot;</code> or <code>leg_values_fill: &quot;red&quot;</code>.</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="plot_plot_typo.js.html">plot/plot_typo.js</a>, <a href="plot_plot_typo.js.html#line9">line 9</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/typo">https://observablehq.com/@neocartocnrs/typo</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// Usage
geoviz.plot({type:"typo", data: usa, var: "states"})</code></pre></div></div><h3 class="name has-anchor" id="render"><span class="type-signature"></span>render<span class="signature">()</span></h3><div class="description"><p>The <code>render</code> function returns the svg document. It returns a pretty map in SVG format :-)</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>svg</code></td><td class="type"><span class="param-type">SVGSVGElement</span></td><td class="attributes"></td><td class="description last"><p>SVG container to display. This can be generated using the <code>create</code> function.</p></td></tr><tr><td class="name"><code>order</code></td><td class="type"><span class="param-type">Array.&lt;object></span></td><td class="attributes">&lt;optional><br></td><td class="description last"><p>array determining the order of layers. This option is only useful in Observable notebooks (because of its topological nature).</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="container_render.js.html">container/render.js</a>, <a href="container_render.js.html#line8">line 8</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/geoviz">https://observablehq.com/@neocartocnrs/geoviz</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>geoviz.render(svg, {order: [basemap, roads, cities]}) // where svg is the container
svg.render({order: [basemap, roads, cities]}) // where svg is the container</code></pre></div></div><h3 class="name has-anchor" id="scalebar"><span class="type-signature"></span>scalebar<span class="signature">()</span></h3><div class="description"><p>The <code>scalebar</code> function allows add a scalebar. The function adds a layer to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>id of the layer</p></td></tr><tr><td class="name"><code>pos</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="attributes">&lt;optional><br></td><td class="default">10, svg.height - 20</td><td class="description last"><p>position [x,y] on the page. The scale value is relevant for this location on the map</p></td></tr><tr><td class="name"><code>translate</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="attributes">&lt;optional><br></td><td class="default">null</td><td class="description last"><p>an array of two values to move the scalebar without change its size</p></td></tr><tr><td class="name"><code>units</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"km"</td><td class="description last"><p>&quot;ft&quot; (feet), &quot;km&quot; (kilometers), &quot;m&quot; (meters) or &quot;mi&quot; (miles)</p></td></tr><tr><td class="name"><code>label</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>label to display</p></td></tr><tr><td class="name"><code>tickSize</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">5</td><td class="description last"><p>tick padding</p></td></tr><tr><td class="name"><code>tickPadding</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">0.2</td><td class="description last"><p>tick size</p></td></tr><tr><td class="name"><code>distance</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>distance represented by the scalebar</p></td></tr><tr><td class="name"><code>tickFormat</code></td><td class="type"><span class="param-type">function</span></td><td class="attributes">&lt;optional><br></td><td class="default">d => d</td><td class="description last"><p>a function to format values</p></td></tr><tr><td class="name"><code>tickValues</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>values to display on the scalebar</p></td></tr><tr><td class="name"><code>labelAnchor</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"start"</td><td class="description last"><p>position of the label (&quot;start&quot;, &quot;middle&quot; or &quot;end&quot;)</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="mark_scalebar.js.html">mark/scalebar.js</a>, <a href="mark_scalebar.js.html#line7">line 7</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/layout-marks">https://observablehq.com/@neocartocnrs/layout-marks</a></li><li><a href="https://observablehq.com/@neocartocnrs/geoviz-scalebar">https://observablehq.com/@neocartocnrs/geoviz-scalebar</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.scalebar(svg, { units:"km", distance: 500, pos: [100, 200] }) // where svg is the container
svg.scalebar({ units:"km", distance: 500, pos: [100, 200] }) // where svg is the container
svg.plot({type: "scalebar", units:"km", distance: 500, pos: [100, 200] }) // where svg is the container</code></pre></div></div><h3 class="name has-anchor" id="spike"><span class="type-signature"></span>spike<span class="signature">()</span></h3><div class="description"><p>The <code>spike</code> function allows to create a layer with spikes from a geoJSON. The function adds a layer to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>GeoJSON FeatureCollection</p></td></tr><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>id of the layer</p></td></tr><tr><td class="name"><code>pos</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="attributes">&lt;optional><br></td><td class="default">[0,0]</td><td class="description last"><p>position of the skes to display a single spike</p></td></tr><tr><td class="name"><code>height</code></td><td class="type"><span class="param-type">number</span> |<wbr> <span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">10</td><td class="description last"><p>a number or the name of a property containing numerical values</p></td></tr><tr><td class="name"><code>width</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">30</td><td class="description last"><p>a number defining the width of the spikes</p></td></tr><tr><td class="name"><code>straight</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">0</td><td class="description last"><p>a number between 0 and 1 defining the curve of the spikes. 0 = curved ; 1 = straight</p></td></tr><tr><td class="name"><code>k</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">100</td><td class="description last"><p>height of the highest spike (or corresponding to the value defined by <code>fixmax</code>)</p></td></tr><tr><td class="name"><code>fixmax</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>value matching the spikes with height <code>k</code>. Setting this value is useful for making maps comparable with each other</p></td></tr><tr><td class="name"><code>sort</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>the field to sort spikes or a sort function</p></td></tr><tr><td class="name"><code>descending</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>spikes sorting order</p></td></tr><tr><td class="name"><code>coords</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"geo"</td><td class="description last"><p>use &quot;svg&quot; if the coordinates are already in the plan of the svg document (default: &quot;geo&quot;)</p></td></tr><tr><td class="name"><code>fill</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>fill color. To create choropleth maps or typologies, use the <code>tool.choro</code> and <code>tool.typo</code> functions</p></td></tr><tr><td class="name"><code>stroke</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>stroke color. To create choropleth maps or typologies, use the <code>tool.choro</code> and <code>tool.typo</code> functions</p></td></tr><tr><td class="name"><code>tip</code></td><td class="type"><span class="param-type">boolean</span> |<wbr> <span class="param-type">function</span></td><td class="attributes">&lt;optional><br></td><td class="default">false</td><td class="description last"><p>a function to display the tip. Use true tu display all fields</p></td></tr><tr><td class="name"><code>view</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">false</td><td class="description last"><p>use true and viewof in Observable for this layer to act as Input</p></td></tr><tr><td class="name"><code>tipstyle</code></td><td class="type"><span class="param-type">object</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>tooltip style</p></td></tr><tr><td class="name"><code>*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>other SVG attributes that can be applied (strokeDasharray, strokeWidth, opacity, strokeLinecap...)</em></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="mark_spike.js.html">mark/spike.js</a>, <a href="mark_spike.js.html#line25">line 25</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/spike-mark">https://observablehq.com/@neocartocnrs/spike-mark</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.spike(svg, { pos: [10,20], height: 15 }) // a single circle
geoviz.spike(svg, { data: cities, height: "population" }) // where svg is the container
svg.spike({ data: cities, height: "population" }) // where svg is the container
svg.plot({ type: "spike", data: cities, height: "population" }) // where svg is the container
geoviz.spike({ data: cities, height: "population" }) // no container</code></pre></div></div><h3 class="name has-anchor" id="square"><span class="type-signature"></span>square<span class="signature">()</span></h3><div class="description"><p>The <code>square</code> function allows to create a layer with rotable squares from a geoJSON. The function adds a layer to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>GeoJSON FeatureCollection</p></td></tr><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>id of the layer</p></td></tr><tr><td class="name"><code>pos</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="attributes">&lt;optional><br></td><td class="default">[0,0]</td><td class="description last"><p>position of the square to display a single square</p></td></tr><tr><td class="name"><code>dx</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">0</td><td class="description last"><p>shift in x</p></td></tr><tr><td class="name"><code>dy</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">0</td><td class="description last"><p>shift in y</p></td></tr><tr><td class="name"><code>angle</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">0</td><td class="description last"><p>angle of the square</p></td></tr><tr><td class="name"><code>side</code></td><td class="type"><span class="param-type">number</span> |<wbr> <span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">20</td><td class="description last"><p>a number or the name of a property containing numerical values</p></td></tr><tr><td class="name"><code>k</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">100</td><td class="description last"><p>size of the largest square(or corresponding to the value defined by <code>fixmax</code>)</p></td></tr><tr><td class="name"><code>fixmax</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>value matching the square with size <code>k</code>. Setting this value is useful for making maps comparable with each other</p></td></tr><tr><td class="name"><code>sort</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>the field to sort squares or a sort function</p></td></tr><tr><td class="name"><code>descending</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>sorting order</p></td></tr><tr><td class="name"><code>coords</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"geo"</td><td class="description last"><p>use &quot;svg&quot; if the coordinates are already in the plan of the svg document</p></td></tr><tr><td class="name"><code>fill</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>fill color. To create choropleth maps or typologies, use the <code>tool.choro</code> and <code>tool.typo</code> functions</p></td></tr><tr><td class="name"><code>stroke</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>stroke color. To create choropleth maps or typologies, use the <code>tool.choro</code> and <code>tool.typo</code> functions</p></td></tr><tr><td class="name"><code>tip</code></td><td class="type"><span class="param-type">boolean</span> |<wbr> <span class="param-type">function</span></td><td class="attributes">&lt;optional><br></td><td class="default">false</td><td class="description last"><p>a function to display the tip. Use true tu display all fields</p></td></tr><tr><td class="name"><code>view</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">false</td><td class="description last"><p>use true and viewof in Observable for this layer to act as Input</p></td></tr><tr><td class="name"><code>tipstyle</code></td><td class="type"><span class="param-type">object</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>tooltip style</p></td></tr><tr><td class="name"><code>*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>other SVG attributes that can be applied (strokeDasharray, strokeWidth, opacity, strokeLinecap...)</em></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="mark_square.js.html">mark/square.js</a>, <a href="mark_square.js.html#line27">line 27</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/square-mark">https://observablehq.com/@neocartocnrs/square-mark</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.square(svg, { pos: [10,20], side: 15 }) // a single square
geoviz.square(svg, { data: cities, side: "population" }) // where svg is the container
svg.square({ data: cities, side: "population" }) // where svg is the container
svg.plot({ type: "square", data: cities, side: "population" }) // where svg is the container
geoviz.square({ data: cities, side: "population" }) // no container</code></pre></div></div><h3 class="name has-anchor" id="text"><span class="type-signature"></span>text<span class="signature">()</span></h3><div class="description"><p>The <code>text</code> function allows to add a text on the map. It allow also to create a layer with labels from a geoJSON. The function adds a layer to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>GeoJSON FeatureCollection</p></td></tr><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>id of the layer</p></td></tr><tr><td class="name"><code>text</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="attributes">&lt;optional><br></td><td class="default">"text"</td><td class="description last"><p>text to be displayed</p></td></tr><tr><td class="name"><code>textAnchor</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>text anchor (&quot;start&quot;, &quot;middle&quot;, &quot;end&quot;)</p></td></tr><tr><td class="name"><code>dominantBaseline</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>dominant-baseline (&quot;auto&quot;, &quot;middle&quot;, &quot;central&quot;, &quot;hanging&quot;)</p></td></tr><tr><td class="name"><code>fontFamily</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">fontFamily defined in the svg container</td><td class="description last"><p>font-family</p></td></tr><tr><td class="name"><code>fontSize</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">12</td><td class="description last"><p>font-size</p></td></tr><tr><td class="name"><code>lineSpacing</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">0</td><td class="description last"><p>line spacinf</p></td></tr><tr><td class="name"><code>pos</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="attributes">&lt;optional><br></td><td class="default">[0,0]</td><td class="description last"><p>position to display a single text element</p></td></tr><tr><td class="name"><code>dx</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">0</td><td class="description last"><p>shift in x</p></td></tr><tr><td class="name"><code>dy</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">0</td><td class="description last"><p>shift in y</p></td></tr><tr><td class="name"><code>sort</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>the field to sort labels or a sort function</p></td></tr><tr><td class="name"><code>descending</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>text sorting order</p></td></tr><tr><td class="name"><code>coords</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"geo"</td><td class="description last"><p>use &quot;svg&quot; if the coordinates are already in the plan of the svg document</p></td></tr><tr><td class="name"><code>fill</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>fill color</p></td></tr><tr><td class="name"><code>stroke</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>stroke color</p></td></tr><tr><td class="name"><code>strokeWidth</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">1</td><td class="description last"><p>stroke width</p></td></tr><tr><td class="name"><code>strokeLinejoin</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">function</span></td><td class="attributes">&lt;optional><br></td><td class="default">"round"</td><td class="description last"><p>stroke-linejoin</p></td></tr><tr><td class="name"><code>tip</code></td><td class="type"><span class="param-type">boolean</span> |<wbr> <span class="param-type">function</span></td><td class="attributes">&lt;optional><br></td><td class="default">false</td><td class="description last"><p>a function to display the tip. Use true tu display all fields</p></td></tr><tr><td class="name"><code>tipstyle</code></td><td class="type"><span class="param-type">object</span></td><td class="attributes">&lt;optional><br></td><td class="default">false</td><td class="description last"><p>tooltip style</p></td></tr><tr><td class="name"><code>*</code></td><td class="type"><span class="param-type">*</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p><em>other SVG attributes that can be applied (strokeDasharray, strokeWidth, opacity, strokeLinecap...)</em></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="mark_text.js.html">mark/text.js</a>, <a href="mark_text.js.html#line18">line 18</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/text-mark">https://observablehq.com/@neocartocnrs/text-mark</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.text(svg, { pos: [10,20], text: "Hello World" }) // a single text
geoviz.text(svg, { data: cities, text: "name" }) // labels where svg is the container
svg.text({ data: cities, text: "name" }) // labels where svg is the container
svg.plot({ type: "text", data: cities, text: "name" }) // labels where svg is the container
geoviz.text({ data: cities, text: "name" }) // labels with no container</code></pre></div></div><h3 class="name has-anchor" id="tile"><span class="type-signature"></span>tile<span class="signature">()</span></h3><div class="description"><p>The <code>tile</code> function allows to display raster tiles. To use this mark, you must use the projection d3.geoMercator() (or directly &quot;mercator&quot;). The function adds a layer to the SVG container and returns the layer identifier. If the container is not defined, then the layer is displayed directly.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>id of the layer</p></td></tr><tr><td class="name"><code>tileSize</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">512</td><td class="description last"><p>tile size</p></td></tr><tr><td class="name"><code>zoomDelta</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">1</td><td class="description last"><p>zoom offset</p></td></tr><tr><td class="name"><code>opacity</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">1</td><td class="description last"><p>tile opacity</p></td></tr><tr><td class="name"><code>url</code></td><td class="type"><span class="param-type">function</span> |<wbr> <span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"openstreetmap"</td><td class="description last"><p>function like <code>(x, y, z) =&gt; `https://something/${z}/${x}/${y}.png`</code>. You can also enter the following strings directly: &quot;openstreetmap&quot;, &quot;opentopomap&quot;, &quot;worldterrain&quot;, &quot;worldimagery&quot;, &quot;worldStreet&quot;, &quot;worldphysical&quot;, &quot;shadedrelief&quot;, &quot;stamenterrain&quot;, &quot;cartodbvoyager&quot;, &quot;stamentoner&quot;,&quot;stamentonerbackground&quot;,&quot;stamentonerlite&quot;,&quot;stamenwatercolor&quot;,&quot;hillshade&quot;,&quot;worldocean&quot;,&quot;natgeo&quot; or &quot;worldterrain&quot;.</p></td></tr><tr><td class="name"><code>clipPath</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>clip-path. e.g. &quot;url(#myclipid)&quot;</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="mark_tile.js.html">mark/tile.js</a>, <a href="mark_tile.js.html#line7">line 7</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/tile-mark">https://observablehq.com/@neocartocnrs/tile-mark</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>// There are several ways to use this function
geoviz.tile() // no container
geoviz.tile(svg, {url: "worldterrain"}) // where svg is the container
svg.tile({url: "worldterrain"}) // where svg is the container
svg.plot({type: "tile", url: "worldterrain"}) // where svg is the container</code></pre></div></div><h3 class="name has-anchor" id="tool/addonts"><span class="type-signature"></span>tool/addonts<span class="signature">()</span></h3><div class="description"><p>The <code>tool.addonts</code> function allows add font to the document from an url.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>fontFamily</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>font family name</p></td></tr><tr><td class="name"><code>url</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>tff- file url</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="tool_addfonts.js.html">tool/addfonts.js</a>, <a href="tool_addfonts.js.html#line1">line 1</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="tool/centroid"><span class="type-signature"></span>tool/centroid<span class="signature">()</span></h3><div class="description"><p>The <code>tool.centroid</code> function calculate the centroid of all the geometries given in a GeoJSON FeatureCollection. It returns a GeoJSON FeatureCollection (points)</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>a GeoJSON FeatureCollection</p></td></tr><tr><td class="name"><code>options.largest</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">true</td><td class="description last"><p>place the centroid in the largest polygon.</p></td></tr><tr><td class="name"><code>options.latlong</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">true</td><td class="description last"><p>use <code>true</code> if input coordinates are in latitude ans longitude. Use <code>false</code> if the coordinates are already defined in the page plan</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="tool_centroid.js.html">tool/centroid.js</a>, <a href="tool_centroid.js.html#line5">line 5</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/handle-geometries">https://observablehq.com/@neocartocnrs/handle-geometries</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>let dots = geoviz.tool.centroid(world, { largest: true })</code></pre></div></div><h3 class="name has-anchor" id="tool/choro"><span class="type-signature"></span>tool/choro<span class="signature">()</span></h3><div class="description"><p>The <code>tool.choro</code> function discretizes an array of numbers. It returns an object containing breaks, colors, the color of the missing value and a function.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>an array of numerical values.</p></td></tr><tr><td class="name"><code>options.breaks</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>class breaks including min and max</p></td></tr><tr><td class="name"><code>options.colors</code></td><td class="type"><span class="param-type">string</span> |<wbr> <span class="param-type">Array.&lt;string></span></td><td class="attributes">&lt;optional><br></td><td class="default">"Algae"</td><td class="description last"><p>an array of colors or name of a color palette available in <a href="https://observablehq.com/@neocartocnrs/dicopal-library">dicopal</a></p></td></tr><tr><td class="name"><code>options.reverse</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">false</td><td class="description last"><p>reverse colors</p></td></tr><tr><td class="name"><code>options.missing</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"white"</td><td class="description last"><p>a color for missings values</p></td></tr><tr><td class="name"><code>options.method</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"quantile"</td><td class="description last"><p>classification method ('quantile', 'q6', 'equal', 'jenks', 'msd', 'geometric', 'headtail', 'pretty', 'arithmetic' or 'nestedmeans')</p></td></tr><tr><td class="name"><code>options.nb</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">6</td><td class="description last"><p>number of classes desired</p></td></tr><tr><td class="name"><code>options.precision</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">2</td><td class="description last"><p>number of digits</p></td></tr><tr><td class="name"><code>options.minmax</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>to keep or delete min and max</p></td></tr><tr><td class="name"><code>options.k</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">1</td><td class="description last"><p>number of standard deviations taken into account (msd method only)</p></td></tr><tr><td class="name"><code>options.middle</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>to have the average as a class center (msd method only)</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="tool_choro.js.html">tool/choro.js</a>, <a href="tool_choro.js.html#line16">line 16</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>geoviz.tool.choro(world.features.map((d) => d.properties.gdppc), {method: "equal", nb: 4})</code></pre></div></div><h3 class="name has-anchor" id="tool/dissolve"><span class="type-signature"></span>tool/dissolve<span class="signature">()</span></h3><div class="description"><p>The <code>tool.dissolve</code> function aims to transform multi part features into single parts feature. It a GeoJSON FeatureCollection (without multi part features)</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>a GeoJSON FeatureCollection</p></td></tr><tr><td class="name"><code>options.areashare</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">"_share"</td><td class="description last"><p>name of the field containing the share area of the part</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="tool_dissolve.js.html">tool/dissolve.js</a>, <a href="tool_dissolve.js.html#line4">line 4</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/handle-geometries">https://observablehq.com/@neocartocnrs/handle-geometries</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>let dots = geoviz.tool.dissolve(world)</code></pre></div></div><h3 class="name has-anchor" id="tool/dodge"><span class="type-signature"></span>tool/dodge<span class="signature">()</span></h3><div class="description"><p>The <code>tool.dodge</code> function use d3.forceSimulation to spread dots or circles of given in a GeoJSON FeatureCollection (points). It returns the coordinates in the page map. It can be used to create a dorling cartogram. The function returns a GeoJSON FeatureCollection (points) with coordinates in the page map.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>a GeoJSON FeatureCollection</p></td></tr><tr><td class="name"><code>options.projection</code></td><td class="type"><span class="param-type">function</span></td><td class="attributes">&lt;optional><br></td><td class="default">d => d</td><td class="description last"><p>d3 projection function</p></td></tr><tr><td class="name"><code>options.r</code></td><td class="type"><span class="param-type">number</span> |<wbr> <span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">10</td><td class="description last"><p>a number or the name of a property containing numerical values.</p></td></tr><tr><td class="name"><code>options.k</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">50</td><td class="description last"><p>radius of the largest circle (or corresponding to the value defined by <code>fixmax</code>)</p></td></tr><tr><td class="name"><code>options.fixmax</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">null</td><td class="description last"><p>value matching the circle with radius <code>k</code>. Setting this value is useful for making maps comparable with each other</p></td></tr><tr><td class="name"><code>options.iteration</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">200</td><td class="description last"><p>number of iterations</p></td></tr><tr><td class="name"><code>options.gap</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">0</td><td class="description last"><p>space between points/circles</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="tool_dodge.js.html">tool/dodge.js</a>, <a href="tool_dodge.js.html#line10">line 10</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/world-population">https://observablehq.com/@neocartocnrs/world-population</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>let dots = geoviz.tool.dodge(world, { projection: d3.geoOrthographic(), r: "population", k: 40 })</code></pre></div></div><h3 class="name has-anchor" id="tool/featurecollection"><span class="type-signature"></span>tool/featurecollection<span class="signature">()</span></h3><div class="description"><p><code>tool.featurecollection</code> is a function to create a valid GeoJSON FeatureCollection, from geometries, features or coordinates. It returns a GeoJSON FeatureCollection.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span> |<wbr> <span class="param-type">Array</span></td><td class="description last"><p>A GeoJSON FeatureCollection, an array of GeoJSON features, a single feature, an array of geometries, a single geometry or a array defining a bbox. You can also use an array of properties containing latitude and longitude coordinates. In this case, you need to specify the field names in the options.</p></td></tr><tr><td class="name"><code>options.latitude</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>name of field containing latitudes. You can also use <code>lat</code></p></td></tr><tr><td class="name"><code>options.longitude</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>name of field containing longitudes. You can also use <code>lon</code></p></td></tr><tr><td class="name"><code>options.coordinates</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>name of field containing gographic coordinates. You can also use <code>coords</code></p></td></tr><tr><td class="name"><code>options.geometry</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>name of field containing geoJSON geometries</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="tool_featurecollection.js.html">tool/featurecollection.js</a>, <a href="tool_featurecollection.js.html#line5">line 5</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/handle-geometries">https://observablehq.com/@neocartocnrs/handle-geometries</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="tool/geotable"><span class="type-signature"></span>tool/geotable<span class="signature">()</span></h3><div class="description"><p><code>geotable</code> is a function to create an array on objects containing properties and geomeytries, froam a GeoJSON FeatureCollection. This makes it easy to sort, extract data, etc. tool.featurecollection(geotable, { geometry: &quot;geometry&quot; }) can be used to rebuild a valid geoJSON. The function returns an array of an array of FeatureCollections.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>A GeoJSON FeatureCollection</p></td></tr><tr><td class="name"><code>options.geometry</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>name of field containing GEOJSON geometries</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="tool_geotable.js.html">tool/geotable.js</a>, <a href="tool_geotable.js.html#line1">line 1</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/handle-geometries">https://observablehq.com/@neocartocnrs/handle-geometries</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="tool/height"><span class="type-signature"></span>tool/height<span class="signature">()</span></h3><div class="description"><p>This function return a function to calculate radius of circles from data. It returns an object containing a radius function.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>an array of numerical values.</p></td></tr><tr><td class="name"><code>options.fixmax</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>to fix the value corresponding to the circle with radius = k</p></td></tr><tr><td class="name"><code>options.k</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="attributes">&lt;optional><br></td><td class="default">50</td><td class="description last"><p>radius if the greater circle</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="tool_height.js.html">tool/height.js</a>, <a href="tool_height.js.html#line6">line 6</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="tool/merge"><span class="type-signature"></span>tool/merge<span class="signature">()</span></h3><div class="description"><p><code>tool.merge</code> is a function to join a geoJSON and a data file. It returns a GeoJSON FeatureCollection.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>geom</code></td><td class="type"><span class="param-type">Array</span></td><td class="attributes"></td><td class="description last"><p>a GeoJSON FeatureCollection</p></td></tr><tr><td class="name"><code>geom_id</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes"></td><td class="description last"><p>geom id</p></td></tr><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">Array</span></td><td class="attributes"></td><td class="description last"><p>array containg data</p></td></tr><tr><td class="name"><code>data_id</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes"></td><td class="description last"><p>data id</p></td></tr><tr><td class="name"><code>id</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="description last"><p>id (if ids are the same in data and geometries)</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="tool_merge.js.html">tool/merge.js</a>, <a href="tool_merge.js.html#line3">line 3</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/handle-geometries">https://observablehq.com/@neocartocnrs/handle-geometries</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="tool/proj4d3"><span class="type-signature"></span>tool/proj4d3<span class="signature">()</span></h3><div class="description"><p><code>proj4d3</code> is a function developped by Philippe Rivire to allow tu use proj4js projections with d3. It returns a d3js projection function. See https://observablehq.com/@fil/proj4js-d3</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>proj4</code></td><td class="type"><span class="param-type">library</span></td><td class="description last"><p>the proj4 lib that you have to load</p></td></tr><tr><td class="name"><code>proj4string</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>a proj4 projection</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="tool_proj4d3.js.html">tool/proj4d3.js</a>, <a href="tool_proj4d3.js.html#line4">line 4</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/handle-geometries">https://observablehq.com/@neocartocnrs/handle-geometries</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>geoviz.tool.proj4d3(proj4, `+proj=lcc +lat_1=49 +lat_2=44 +lat_0=46.5 +lon_0=3 +x_0=700000 +y_0=6600000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs` )</code></pre></div></div><h3 class="name has-anchor" id="tool/project"><span class="type-signature"></span>tool/project<span class="signature">()</span></h3><div class="description"><p>The function <code>tool.project</code> use geoproject from d3-geo-projection to project a geoJSON. It returns a GeoJSON FeatureCollection with coordinates in the page map.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>a GeoJSON FeatureCollection</p></td></tr><tr><td class="name"><code>options.projection</code></td><td class="type"><span class="param-type">function</span></td><td class="description last"><p>projection definition. See <a href="https://github.com/d3/d3-geo">d3-geo</a> &amp; <a href="https://github.com/d3/d3-geo-projection">d3-geo-projection</a></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="tool_project.js.html">tool/project.js</a>, <a href="tool_project.js.html#line4">line 4</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/handle-geometries">https://observablehq.com/@neocartocnrs/handle-geometries</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>let newGeoJSON = geoviz.tool.project(world, { projection: d3.geoOrthographic()})</code></pre></div></div><h3 class="name has-anchor" id="tool/radius"><span class="type-signature"></span>tool/radius<span class="signature">()</span></h3><div class="description"><p>The <code>tool.radius</code> function return a function to calculate radius of circles from data</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>an array of numerical values.</p></td></tr><tr><td class="name"><code>options.fixmax</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="attributes">&lt;optional><br></td><td class="default"></td><td class="description last"><p>to fix the value corresponding to the circle with radius = k</p></td></tr><tr><td class="name"><code>option.k</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="attributes">&lt;optional><br></td><td class="default">50</td><td class="description last"><p>radius if the greater circle</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="tool_radius.js.html">tool/radius.js</a>, <a href="tool_radius.js.html#line6">line 6</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="tool/random"><span class="type-signature"></span>tool/random<span class="signature">()</span></h3><div class="description"><p>The <code>tool.random</code> function returns a random color among 20 predefined colors.</p></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="tool_random.js.html">tool/random.js</a>, <a href="tool_random.js.html#line1">line 1</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="tool/replicate"><span class="type-signature"></span>tool/replicate<span class="signature">()</span></h3><div class="description"><p>Data-driven features replication. This function can be used to create &quot;dots cartograms&quot;. The function returns a GeoJSON FeatureCollection with overlapping features</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>a GeoJSON FeatureCollection</p></td></tr><tr><td class="name"><code>options.field</code></td><td class="type"><span class="param-type">string</span></td><td class="description last"><p>property name containing numeric data</p></td></tr><tr><td class="name"><code>options.targetvalue</code></td><td class="type"><span class="param-type">number</span></td><td class="description last"><p>Feature target value</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="tool_replicate.js.html">tool/replicate.js</a>, <a href="tool_replicate.js.html#line4">line 4</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/geoviz-dotscartogram">https://observablehq.com/@neocartocnrs/geoviz-dotscartogram</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>let dots = geoviz.tool.replicate(world, { field: "population", targetvalue: 10000 })</code></pre></div></div><h3 class="name has-anchor" id="tool/rewind"><span class="type-signature"></span>tool/rewind<span class="signature">()</span></h3><div class="description"><p>The <code>tool.rewind</code> function allows to generate compliant Polygon and MultiPolygon geometries. Adapted from MapBox geojson-rewind code (https://github.com/mapbox/grojson-rewind) under ISC license</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>a GeoJSON FeatureCollection</p></td></tr><tr><td class="name"><code>options.outer</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">false</td><td class="description last"><p>rewind Rings Outer</p></td></tr><tr><td class="name"><code>options.mutate</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">false</td><td class="description last"><p>mutate the Input geoJSON</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="tool_rewind.js.html">tool/rewind.js</a>, <a href="tool_rewind.js.html#line1">line 1</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/handle-geometries">https://observablehq.com/@neocartocnrs/handle-geometries</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="tool/ridge"><span class="type-signature"></span>tool/ridge<span class="signature">()</span></h3><div class="description"><p>The <code>tool.ridge</code> function convert a regular grid (x,y,z) to a GeoJSON FeatureCollection (LineString). The aim is to draw a rideline map.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>grid</code></td><td class="type"><span class="param-type">array</span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>an array of object containig x,y,z values</p></td></tr><tr><td class="name"><code>options.x</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"x"</td><td class="description last"><p>field containg x values</p></td></tr><tr><td class="name"><code>options.y</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"y"</td><td class="description last"><p>field containg y values</p></td></tr><tr><td class="name"><code>options.z</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"z"</td><td class="description last"><p>field containg z values</p></td></tr><tr><td class="name"><code>options.k</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">100</td><td class="description last"><p>height of highest peak</p></td></tr><tr><td class="name"><code>options.fixmax</code></td><td class="type"><span class="param-type">number</span></td><td class="attributes">&lt;optional><br></td><td class="default">null</td><td class="description last"><p>a fixed value corresponding to the k</p></td></tr><tr><td class="name"><code>options.projection</code></td><td class="type"><span class="param-type">boolean</span></td><td class="attributes">&lt;optional><br></td><td class="default">d => d</td><td class="description last"><p>projection</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="tool_ridge.js.html">tool/ridge.js</a>, <a href="tool_ridge.js.html#line5">line 5</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/ridge-lines">https://observablehq.com/@neocartocnrs/ridge-lines</a></li></ul></dd></div></dl><h3 class="name has-anchor" id="tool/typo"><span class="type-signature"></span>tool/typo<span class="signature">()</span></h3><div class="description"><p>The <code>tool.typo</code> function allows you to assign colors to qualitative data. It can be used to create typology maps. It returs an object containing types, colors, the color of the missing value and a function.</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th>Attributes</th><th>Default</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">Array.&lt;number></span></td><td class="attributes"></td><td class="default"></td><td class="description last"><p>an array of numerical values.</p></td></tr><tr><td class="name"><code>options.colors</code></td><td class="type"><span class="param-type">Array.&lt;string></span></td><td class="attributes">&lt;optional><br></td><td class="default">"Set3"</td><td class="description last"><p>an array of colors or name of a color palette available in <a href="https://observablehq.com/@neocartocnrs/dicopal-library">dicopal</a></p></td></tr><tr><td class="name"><code>options.missing</code></td><td class="type"><span class="param-type">string</span></td><td class="attributes">&lt;optional><br></td><td class="default">"white"</td><td class="description last"><p>a color for missings values</p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="tool_typo.js.html">tool/typo.js</a>, <a href="tool_typo.js.html#line5">line 5</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>geoviz.tool.typo(world.features.map((d) => d.properties.region), {palette: "Pastel"})</code></pre></div></div><h3 class="name has-anchor" id="tool/unproject"><span class="type-signature"></span>tool/unproject<span class="signature">()</span></h3><div class="description"><p>The <code>tool.unproject</code> function allow to unproject geometries. It returns a GeoJSON FeatureCollection with wgs84 coordinates</p></div><b class="subsection-title">Properties</b><div class="allow-overflow"><table class="props"><thead><tr><th>Name</th><th>Type</th><th class="last">Description</th></tr></thead><tbody><tr><td class="name"><code>data</code></td><td class="type"><span class="param-type">object</span></td><td class="description last"><p>a GeoJSON FeatureCollection</p></td></tr><tr><td class="name"><code>options.projection</code></td><td class="type"><span class="param-type">function</span></td><td class="description last"><p>projection definition. See <a href="https://github.com/d3/d3-geo">d3-geo</a> &amp; <a href="https://github.com/d3/d3-geo-projection">d3-geo-projection</a></p></td></tr></tbody></table></div><dl class="details"><div class="details-item-container"><dt class="tag-source bold">Source</dt><dd class="tag-source"><ul><li><a href="tool_unproject.js.html">tool/unproject.js</a>, <a href="tool_unproject.js.html#line1">line 1</a></li></ul></dd></div><div class="details-item-container"><dt class="tag-see bold">See</dt><dd class="tag-see"><ul><li><a href="https://observablehq.com/@neocartocnrs/handle-geometries">https://observablehq.com/@neocartocnrs/handle-geometries</a></li></ul></dd></div></dl><div class="method-member-container flex flex-col w-100 overflow-auto mt-20"><strong>Example</strong><div class="rel"><pre class="prettyprint"><code>let newGeoJSON = geoviz.tool.unproject(world, { projection: d3.geoOrthographic()})</code></pre></div></div></article></section><footer class="footer" id="PeOAagUepe"><div class="wrapper">Nicolas Lambert 2023 - MIT License</div></footer></div></div></div><div class="search-container" id="PkfLWpAbet" style="display:none"><div class="wrapper" id="iCxFxjkHbP"><button class="icon-button search-close-button" id="VjLlGakifb" aria-label="close search"><svg><use xlink:href="#close-icon"></use></svg></button><div class="search-box-c"><svg><use xlink:href="#search-icon"></use></svg> <input type="text" id="vpcKVYIppa" class="search-input" placeholder="Search..." autofocus></div><div class="search-result-c" id="fWwVHRuDuN"><span class="search-result-c-text">Type anything to view search result</span></div></div></div><div class="mobile-menu-icon-container"><button class="icon-button" id="mobile-menu" data-isopen="false" aria-label="menu"><svg><use xlink:href="#menu-icon"></use></svg></button></div><div id="mobile-sidebar" class="mobile-sidebar-container"><div class="mobile-sidebar-wrapper"><a href="/" class="sidebar-title sidebar-title-anchor">Home</a><div class="mobile-nav-links"><div class="navbar-item"><a id="" href="https://github.com/riatelab/geoviz" target="_blank">Github</a></div><div class="navbar-item"><a id="" href="https://github.com/riatelab/geoviz/issuesz" target="_blank">Issues</a></div><div class="navbar-item"><a id="" href="https://observablehq.com/@neocartocnrs/geoviz" target="_blank">Demo</a></div><div class="navbar-item"><a id="" href="https://neocartocnrs.observablehq.cloud/cv/" target="_blank">Maintainer</a></div></div><div class="mobile-sidebar-items-c"><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-global"><div>Global</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="global.html#circle">circle</a></div><div class="sidebar-section-children"><a href="global.html#create">create</a></div><div class="sidebar-section-children"><a href="global.html#effect/blur">effect/blur</a></div><div class="sidebar-section-children"><a href="global.html#effect/clipPath">effect/clipPath</a></div><div class="sidebar-section-children"><a href="global.html#effect/radialGradient">effect/radialGradient</a></div><div class="sidebar-section-children"><a href="global.html#effect/shadow">effect/shadow</a></div><div class="sidebar-section-children"><a href="global.html#footer">footer</a></div><div class="sidebar-section-children"><a href="global.html#graticule">graticule</a></div><div class="sidebar-section-children"><a href="global.html#halfcircle">halfcircle</a></div><div class="sidebar-section-children"><a href="global.html#header">header</a></div><div class="sidebar-section-children"><a href="global.html#legend/box">legend/box</a></div><div class="sidebar-section-children"><a href="global.html#legend/choro_horizontal">legend/choro_horizontal</a></div><div class="sidebar-section-children"><a href="global.html#legend/choro_vertical">legend/choro_vertical</a></div><div class="sidebar-section-children"><a href="global.html#legend/circles">legend/circles</a></div><div class="sidebar-section-children"><a href="global.html#legend/circles_half">legend/circles_half</a></div><div class="sidebar-section-children"><a href="global.html#legend/circles_nested">legend/circles_nested</a></div><div class="sidebar-section-children"><a href="global.html#legend/mushrooms">legend/mushrooms</a></div><div class="sidebar-section-children"><a href="global.html#legend/spikes">legend/spikes</a></div><div class="sidebar-section-children"><a href="global.html#legend/squares">legend/squares</a></div><div class="sidebar-section-children"><a href="global.html#legend/squares_nested">legend/squares_nested</a></div><div class="sidebar-section-children"><a href="global.html#legend/typo_horizontal">legend/typo_horizontal</a></div><div class="sidebar-section-children"><a href="global.html#legend/typo_vertical">legend/typo_vertical</a></div><div class="sidebar-section-children"><a href="global.html#north">north</a></div><div class="sidebar-section-children"><a href="global.html#outline">outline</a></div><div class="sidebar-section-children"><a href="global.html#path">path</a></div><div class="sidebar-section-children"><a href="global.html#plot">plot</a></div><div class="sidebar-section-children"><a href="global.html#plot/choro">plot/choro</a></div><div class="sidebar-section-children"><a href="global.html#plot/prop">plot/prop</a></div><div class="sidebar-section-children"><a href="global.html#plot/propchoro">plot/propchoro</a></div><div class="sidebar-section-children"><a href="global.html#plot/proptypo">plot/proptypo</a></div><div class="sidebar-section-children"><a href="global.html#plot/typo">plot/typo</a></div><div class="sidebar-section-children"><a href="global.html#render">render</a></div><div class="sidebar-section-children"><a href="global.html#scalebar">scalebar</a></div><div class="sidebar-section-children"><a href="global.html#spike">spike</a></div><div class="sidebar-section-children"><a href="global.html#square">square</a></div><div class="sidebar-section-children"><a href="global.html#text">text</a></div><div class="sidebar-section-children"><a href="global.html#tile">tile</a></div><div class="sidebar-section-children"><a href="global.html#tool/addonts">tool/addonts</a></div><div class="sidebar-section-children"><a href="global.html#tool/centroid">tool/centroid</a></div><div class="sidebar-section-children"><a href="global.html#tool/choro">tool/choro</a></div><div class="sidebar-section-children"><a href="global.html#tool/dissolve">tool/dissolve</a></div><div class="sidebar-section-children"><a href="global.html#tool/dodge">tool/dodge</a></div><div class="sidebar-section-children"><a href="global.html#tool/featurecollection">tool/featurecollection</a></div><div class="sidebar-section-children"><a href="global.html#tool/geotable">tool/geotable</a></div><div class="sidebar-section-children"><a href="global.html#tool/height">tool/height</a></div><div class="sidebar-section-children"><a href="global.html#tool/merge">tool/merge</a></div><div class="sidebar-section-children"><a href="global.html#tool/proj4d3">tool/proj4d3</a></div><div class="sidebar-section-children"><a href="global.html#tool/project">tool/project</a></div><div class="sidebar-section-children"><a href="global.html#tool/radius">tool/radius</a></div><div class="sidebar-section-children"><a href="global.html#tool/random">tool/random</a></div><div class="sidebar-section-children"><a href="global.html#tool/replicate">tool/replicate</a></div><div class="sidebar-section-children"><a href="global.html#tool/rewind">tool/rewind</a></div><div class="sidebar-section-children"><a href="global.html#tool/ridge">tool/ridge</a></div><div class="sidebar-section-children"><a href="global.html#tool/typo">tool/typo</a></div><div class="sidebar-section-children"><a href="global.html#tool/unproject">tool/unproject</a></div></div></div><div class="mobile-navbar-actions"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#light-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div></div></div></div><script type="text/javascript" src="scripts/core.min.js"></script><script src="scripts/search.min.js" defer="defer"></script><script src="scripts/third-party/fuse.js" defer="defer"></script><script type="text/javascript">var tocbotInstance=tocbot.init({tocSelector:"#eed4d2a0bfd64539bb9df78095dec881",contentSelector:".main-content",headingSelector:"h1, h2, h3",hasInnerContainers:!0,scrollContainer:".main-content",headingsOffset:130,onClick:bringLinkToView})</script></body></html>